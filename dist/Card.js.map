{"version":3,"file":"Card.js","names":["result: 'image' | 'video' | 'html' | '3d-model' | null","cn","ChessTileImage","ModelViewer","cn","cn","cn","cn","cn","Card","BasePriceDisplay","cn","SvgBellIcon","Card","CardRoot"],"sources":["../src/react/ui/images/chess-tile.png","../src/react/hooks/ui/useCollectibleCardOfferState.ts","../src/utils/fetchContentType.ts","../src/react/ui/components/ModelViewer.tsx","../src/react/ui/components/media/MediaSkeleton.tsx","../src/react/ui/components/media/utils.ts","../src/react/ui/components/media/Media.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-badge.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-content.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-footer.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-media.tsx","../src/react/ui/components/marketplace-collectible-card/utils/determineCardAction.ts","../src/react/ui/components/marketplace-collectible-card/utils/formatPrice.ts","../src/react/ui/components/marketplace-collectible-card/utils/renderSkeleton.tsx","../src/react/ui/components/marketplace-collectible-card/utils/shopCardState.ts","../src/react/ui/components/marketplace-collectible-card/utils/supplyStatus.ts","../src/react/ui/components/marketplace-collectible-card/_internals/PriceDisplay.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-price.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-sale-details.tsx","../src/react/ui/components/marketplace-collectible-card/Card/card-skeleton.tsx","../src/react/ui/components/marketplace-collectible-card/constants.ts","../src/react/ui/components/marketplace-collectible-card/Card/card-title.tsx","../src/react/ui/components/marketplace-collectible-card/Card/index.ts"],"sourcesContent":["\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACuCAYAAABAzl3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAInSURBVHgB7dyxbUMxEAXBs6FEjagv91/AD+keeNFCMw1csmBEvJ/P53Nm4Xme2Xi/37Ph/nfeP+f8/Q5EiZcs8ZIlXrLES5Z4yRIvWeIlS7xkiZcs8ZIlXrLES5Z4yRIvWS//Ud2v3vfykiVessRLlnjJEi9Z4iVLvGSJlyzxkiVessRLlnjJEi9Z4iVLvGS9/Ed1v3j/nOPlpUu8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPGSJV6yxEuWeMmyz+v+bNjnhQviJUu8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPGSJV6yxEuWfV73Z8M+L1wQL1niJUu8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPGSJV6y7PO6Pxv2eeGCeMkSL1niJUu8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPGSZZ/X/dmwzwsXxEuWeMkSL1niJUu8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPu87s+GfV64IF6yxEuWeMkSL1niJUu8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZNnndX827PPCBfGSJV6yxEuWeMkSL1niJUu8ZImXLPGSJV6yxEuWeMkSL1niJcs+r/uzYZ8XLoiXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPGSJV6yxEuWeMkSL1n2ed2fDfu8cEG8ZImXLPGSJV6yxEuWeMkSL1niJUu8ZImXLPGSJV6y/gF97MkwfJRH7QAAAABJRU5ErkJggg==\"","import { useAccount } from 'wagmi';\nimport { compareAddress } from '../../../utils/address';\nimport type { Order } from '../../_internal';\n\nexport interface CollectibleCardOfferState {\n\tshow: true;\n\tcanAcceptOffer: boolean;\n\tisOfferMadeBySelf: boolean;\n\tuserOwnsToken: boolean;\n}\n\n/**\n * Hook to determine the state of the collectible card offer notification\n *\n * @param highestOffer - The highest offer for the collectible\n * @param balance - The user's balance of the collectible\n * @returns CollectibleCardOfferState if there's an offer, null otherwise\n */\nexport function useCollectibleCardOfferState(\n\thighestOffer?: Order,\n\tbalance?: string,\n): CollectibleCardOfferState | null {\n\tconst { address: currentUserAddress } = useAccount();\n\n\tif (!highestOffer) {\n\t\treturn null;\n\t}\n\n\t// Check if the current user made the offer\n\tconst isOfferMadeBySelf =\n\t\tcurrentUserAddress &&\n\t\thighestOffer.createdBy &&\n\t\tcompareAddress(highestOffer.createdBy, currentUserAddress);\n\n\t// Check if user owns the token (has balance > 0)\n\tconst userOwnsToken = balance !== undefined && Number(balance) > 0;\n\n\t// Can accept offer: didn't make the offer AND owns the token\n\tconst canAcceptOffer = !isOfferMadeBySelf && userOwnsToken;\n\n\treturn {\n\t\tshow: true,\n\t\tcanAcceptOffer,\n\t\tisOfferMadeBySelf: !!isOfferMadeBySelf,\n\t\tuserOwnsToken,\n\t};\n}\n","/**\n * Fetches the Content-Type header of a given URL and returns the primary type if it's supported.\n * @param url The URL to send the request to.\n * @returns A Promise that resolves with 'image', 'video', 'html', or null.\n */\nexport function fetchContentType(\n\turl: string | undefined,\n): Promise<'image' | 'video' | 'html' | '3d-model' | null> {\n\treturn new Promise((resolve, reject) => {\n\t\tif (typeof XMLHttpRequest === 'undefined') {\n\t\t\treject(new Error('XMLHttpRequest is not supported in this environment.'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (!url) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst client = new XMLHttpRequest();\n\t\tlet settled = false;\n\n\t\tconst settle = (value: 'image' | 'video' | 'html' | '3d-model' | null) => {\n\t\t\tif (!settled) {\n\t\t\t\tsettled = true;\n\t\t\t\tresolve(value);\n\t\t\t\tclient.abort();\n\t\t\t}\n\t\t};\n\n\t\tconst fail = (error: Error) => {\n\t\t\tif (!settled) {\n\t\t\t\tsettled = true;\n\t\t\t\treject(error);\n\t\t\t}\n\t\t};\n\n\t\tclient.open('HEAD', url, true);\n\n\t\tclient.onreadystatechange = () => {\n\t\t\tif (settled || client.readyState < XMLHttpRequest.HEADERS_RECEIVED) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (client.readyState === XMLHttpRequest.HEADERS_RECEIVED) {\n\t\t\t\tconst status = client.status;\n\n\t\t\t\tif (status < 200 || status >= 300) {\n\t\t\t\t\tsettle(null);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst contentType = client.getResponseHeader('Content-Type');\n\n\t\t\t\tif (!contentType) {\n\t\t\t\t\tsettle(null);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst primaryType = contentType.split('/')[0].toLowerCase();\n\t\t\t\tlet result: 'image' | 'video' | 'html' | '3d-model' | null = null;\n\n\t\t\t\tswitch (primaryType) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\tresult = 'image';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'video':\n\t\t\t\t\t\tresult = 'video';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\tif (contentType.toLowerCase().includes('html')) {\n\t\t\t\t\t\t\tresult = 'html';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'model':\n\t\t\t\t\t\tresult = '3d-model';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsettle(result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\tclient.onerror = (errorEvent) => {\n\t\t\tfail(\n\t\t\t\tnew Error(`XMLHttpRequest network error for URL: ${url}`, {\n\t\t\t\t\tcause: errorEvent,\n\t\t\t\t}),\n\t\t\t);\n\t\t};\n\n\t\tclient.onabort = () => {\n\t\t\tif (!settled) {\n\t\t\t\tsettle(null);\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\tclient.send();\n\t\t} catch (error) {\n\t\t\tfail(\n\t\t\t\tnew Error(`Error sending XMLHttpRequest for URL: ${url}`, {\n\t\t\t\t\tcause: error,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t});\n}\n","import { Skeleton } from '@0xsequence/design-system';\nimport { lazy, Suspense } from 'react';\n\nconst ModelViewerComponent = lazy(() =>\n\timport('@google/model-viewer').then(() => ({\n\t\tdefault: ({\n\t\t\tposterSrc,\n\t\t\tsrc,\n\t\t\tonLoad,\n\t\t\tonError,\n\t\t}: {\n\t\t\tposterSrc: string;\n\t\t\tsrc?: string;\n\t\t\tonLoad?: () => void;\n\t\t\tonError?: () => void;\n\t\t}) => (\n\t\t\t<div className=\"h-full w-full bg-background-raised\">\n\t\t\t\t{/* @ts-expect-error - This is a web component */}\n\t\t\t\t<model-viewer\n\t\t\t\t\talt=\"3d model\"\n\t\t\t\t\tauto-rotate\n\t\t\t\t\tautoplay\n\t\t\t\t\tcamera-controls\n\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\terror={onError}\n\t\t\t\t\tload={onLoad}\n\t\t\t\t\tloading=\"eager\"\n\t\t\t\t\tposter={posterSrc}\n\t\t\t\t\treveal=\"auto\"\n\t\t\t\t\tshadow-intensity=\"1\"\n\t\t\t\t\tsrc={src}\n\t\t\t\t\ttouch-action=\"pan-y\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t),\n\t})),\n);\n\nconst ModelViewerLoading = () => <Skeleton className=\"h-full w-full\" />;\n\nconst ModelViewer = (props: {\n\tposterSrc: string;\n\tsrc?: string;\n\tonLoad?: () => void;\n\tonError?: () => void;\n}) => {\n\treturn (\n\t\t<Suspense fallback={<ModelViewerLoading />}>\n\t\t\t<ModelViewerComponent {...props} />\n\t\t</Suspense>\n\t);\n};\n\nexport default ModelViewer;\n","import { Skeleton } from '@0xsequence/design-system';\n\nexport default function MediaSkeleton() {\n\treturn (\n\t\t<Skeleton\n\t\t\tdata-testid=\"media\"\n\t\t\tsize=\"lg\"\n\t\t\tclassName=\"absolute inset-0 h-full w-full\"\n\t\t\tstyle={{\n\t\t\t\tborderRadius: 0,\n\t\t\t}}\n\t\t/>\n\t);\n}\n","export const isImage = (fileName: string | undefined) => {\n\tconst isImage = /.*\\.(png|jpg|jpeg|gif|svg|webp)$/.test(\n\t\tfileName?.toLowerCase() || '',\n\t);\n\treturn isImage;\n};\n\nexport const isHtml = (fileName: string | undefined) => {\n\tconst isHtml = /.*\\.(html\\?.+|html)$/.test(fileName?.toLowerCase() || '');\n\treturn isHtml;\n};\n\nexport const isVideo = (fileName: string | undefined) => {\n\tconst isVideo = /.*\\.(mp4|ogg|webm)$/.test(fileName?.toLowerCase() || '');\n\treturn isVideo;\n};\n\nexport const is3dModel = (fileName: string | undefined) => {\n\tconst is3dFile = /.*\\.(gltf|glb|obj|fbx|stl|usdz)$/.test(\n\t\tfileName?.toLowerCase() || '',\n\t);\n\treturn is3dFile;\n};\n\nexport const getContentType = (\n\turl: string | undefined,\n): Promise<'image' | 'video' | 'html' | '3d-model' | null> => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst type = isHtml(url)\n\t\t\t? 'html'\n\t\t\t: isVideo(url)\n\t\t\t\t? 'video'\n\t\t\t\t: isImage(url)\n\t\t\t\t\t? 'image'\n\t\t\t\t\t: is3dModel(url)\n\t\t\t\t\t\t? '3d-model'\n\t\t\t\t\t\t: null;\n\n\t\tif (type) {\n\t\t\tresolve(type);\n\t\t} else {\n\t\t\treject(new Error('Unsupported file type'));\n\t\t}\n\t});\n};\n","'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport ChessTileImage from '../../../../react/ui/images/chess-tile.png';\nimport { cn } from '../../../../utils';\nimport { fetchContentType } from '../../../../utils/fetchContentType';\nimport ModelViewer from '../ModelViewer';\nimport MediaSkeleton from './MediaSkeleton';\nimport type { ContentTypeState, MediaProps } from './types';\nimport { getContentType } from './utils';\n\n/**\n * @description This component is used to display a collectible asset.\n * It will display the first valid asset from the assets array.\n * If no valid asset is found, it will display the fallback content or the default placeholder image.\n *\n * @example\n * <Media\n *  name=\"Collectible\"\n *  assets={[undefined, \"some-image-url\", undefined]} // undefined assets will be ignored, \"some-image-url\" will be rendered\n *  assetSrcPrefixUrl=\"https://example.com/\"\n *  className=\"w-full h-full\"\n *  fallbackContent={<YourCustomFallbackComponent />} // Optional custom fallback content\n * />\n */\nexport function Media({\n\tname,\n\tassets,\n\tassetSrcPrefixUrl,\n\tclassName = '',\n\tcontainerClassName = '',\n\tmediaClassname = '',\n\tisLoading,\n\tfallbackContent,\n\tshouldListenForLoad = true,\n}: MediaProps) {\n\tconst [assetLoadFailed, setAssetLoadFailed] = useState(false);\n\tconst [assetLoading, setAssetLoading] = useState(shouldListenForLoad);\n\tconst [currentAssetIndex, setCurrentAssetIndex] = useState(0);\n\tconst [isSafari, setIsSafari] = useState(false);\n\tconst [contentType, setContentType] = useState<ContentTypeState>({\n\t\ttype: null,\n\t\tloading: true,\n\t\tfailed: false,\n\t});\n\n\tconst videoRef = useRef<HTMLVideoElement>(null);\n\n\tuseEffect(() => {\n\t\tsetIsSafari(/^((?!chrome|android).)*safari/i.test(navigator.userAgent));\n\t}, []);\n\n\tconst validAssets = assets.filter((asset): asset is string => !!asset);\n\tconst assetUrl = validAssets[currentAssetIndex];\n\tconst proxiedAssetUrl = assetUrl\n\t\t? assetSrcPrefixUrl\n\t\t\t? `${assetSrcPrefixUrl}${assetUrl}`\n\t\t\t: assetUrl\n\t\t: '';\n\n\tconst containerClassNames = cn(\n\t\t'relative aspect-square bg-background-secondary',\n\t\tcontainerClassName || className,\n\t);\n\n\tuseEffect(() => {\n\t\tif (!assetUrl) {\n\t\t\tsetContentType({ type: null, loading: false, failed: true });\n\t\t\treturn;\n\t\t}\n\n\t\tconst determineContentType = async () => {\n\t\t\ttry {\n\t\t\t\tconst type = await getContentType(proxiedAssetUrl);\n\t\t\t\tsetContentType({ type, loading: false, failed: false });\n\t\t\t} catch {\n\t\t\t\ttry {\n\t\t\t\t\tconst type = await fetchContentType(proxiedAssetUrl);\n\t\t\t\t\tsetContentType({ type, loading: false, failed: false });\n\t\t\t\t} catch {\n\t\t\t\t\thandleAssetError();\n\t\t\t\t\tsetContentType({ type: null, loading: false, failed: true });\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tdetermineContentType();\n\t}, [proxiedAssetUrl, assetUrl]);\n\n\tconst handleAssetError = () => {\n\t\tconst nextIndex = currentAssetIndex + 1;\n\t\tif (nextIndex < assets.length) {\n\t\t\tsetCurrentAssetIndex(nextIndex);\n\t\t\tsetAssetLoading(true);\n\t\t\tsetAssetLoadFailed(false);\n\t\t} else {\n\t\t\tsetAssetLoadFailed(true);\n\t\t}\n\t};\n\n\tconst handleAssetLoad = () => {\n\t\tsetAssetLoading(false);\n\t};\n\n\tconst renderFallback = () => {\n\t\tif (fallbackContent) {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'flex h-full w-full items-center justify-center',\n\t\t\t\t\t\tcontainerClassNames,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{fallbackContent}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={cn('h-full w-full', containerClassNames)}>\n\t\t\t\t<img\n\t\t\t\t\tsrc={ChessTileImage}\n\t\t\t\t\talt={name || 'Collectible'}\n\t\t\t\t\tclassName=\"h-full w-full object-cover\"\n\t\t\t\t\tonError={(e) => {\n\t\t\t\t\t\tconsole.error('Failed to load placeholder image');\n\t\t\t\t\t\te.currentTarget.style.display = 'none';\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\t// Display fallback if asset fails to load or doesn't exist\n\tif (assetLoadFailed || (!isLoading && contentType.failed) || !assetUrl) {\n\t\treturn renderFallback();\n\t}\n\n\t// Render based on content type\n\tif (contentType.type === 'html' && !assetLoadFailed) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'flex w-full items-center justify-center rounded-lg',\n\t\t\t\t\tcontainerClassNames,\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{(assetLoading || contentType.loading || isLoading) && (\n\t\t\t\t\t<MediaSkeleton />\n\t\t\t\t)}\n\n\t\t\t\t<iframe\n\t\t\t\t\ttitle={name || 'Collectible'}\n\t\t\t\t\tclassName={cn('aspect-square w-full', mediaClassname)}\n\t\t\t\t\tsrc={proxiedAssetUrl}\n\t\t\t\t\tallow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\tstyle={{ border: '0px' }}\n\t\t\t\t\tonError={shouldListenForLoad ? handleAssetError : undefined}\n\t\t\t\t\tonLoad={shouldListenForLoad ? handleAssetLoad : undefined}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (contentType.type === '3d-model' && !assetLoadFailed) {\n\t\treturn (\n\t\t\t<div className={cn('h-full w-full', containerClassNames)}>\n\t\t\t\t<ModelViewer\n\t\t\t\t\tsrc={proxiedAssetUrl}\n\t\t\t\t\tposterSrc={ChessTileImage}\n\t\t\t\t\tonLoad={shouldListenForLoad ? handleAssetLoad : undefined}\n\t\t\t\t\tonError={shouldListenForLoad ? handleAssetError : undefined}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (contentType.type === 'video' && !assetLoadFailed) {\n\t\tconst videoClassNames = cn(\n\t\t\t'absolute inset-0 h-full w-full object-cover transition-transform duration-200 ease-in-out group-hover:scale-hover',\n\t\t\tassetLoading || isLoading ? 'invisible' : 'visible',\n\t\t\t// we can't hide the video controls in safari, when user hovers over the video they show up.\n\t\t\t// `pointer-events-none` is the only way to hide them on hover\n\t\t\tisSafari && 'pointer-events-none',\n\t\t\tmediaClassname,\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={containerClassNames}>\n\t\t\t\t{(assetLoading || contentType.loading || isLoading) && (\n\t\t\t\t\t<MediaSkeleton />\n\t\t\t\t)}\n\n\t\t\t\t<video\n\t\t\t\t\tref={videoRef}\n\t\t\t\t\tclassName={videoClassNames}\n\t\t\t\t\tautoPlay\n\t\t\t\t\tloop\n\t\t\t\t\tcontrols\n\t\t\t\t\tplaysInline\n\t\t\t\t\tmuted\n\t\t\t\t\tcontrolsList=\"nodownload noremoteplayback nofullscreen\"\n\t\t\t\t\tonError={shouldListenForLoad ? handleAssetError : undefined}\n\t\t\t\t\tonLoadedMetadata={shouldListenForLoad ? handleAssetLoad : undefined}\n\t\t\t\t\tdata-testid=\"collectible-asset-video\"\n\t\t\t\t>\n\t\t\t\t\t<source src={proxiedAssetUrl} />\n\t\t\t\t</video>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Default to image renderer\n\tconst imgSrc =\n\t\tassetLoadFailed || contentType.failed ? ChessTileImage : proxiedAssetUrl;\n\n\tconst imgClassNames = cn(\n\t\t'absolute inset-0 h-full w-full object-cover transition-transform duration-200 ease-in-out group-hover:scale-hover',\n\t\tassetLoading || contentType.loading || isLoading ? 'invisible' : 'visible',\n\t\tmediaClassname,\n\t);\n\n\treturn (\n\t\t<div className={containerClassNames}>\n\t\t\t{(assetLoading || contentType.loading || isLoading) && <MediaSkeleton />}\n\n\t\t\t<img\n\t\t\t\tsrc={imgSrc}\n\t\t\t\talt={name || 'Collectible'}\n\t\t\t\tclassName={imgClassNames}\n\t\t\t\tonError={shouldListenForLoad ? handleAssetError : undefined}\n\t\t\t\tonLoad={shouldListenForLoad ? handleAssetLoad : undefined}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","'use client';\n\nimport { forwardRef } from 'react';\nimport { cn } from '../../../../../utils';\n\nexport interface CardProps extends React.HTMLAttributes<HTMLDivElement> {\n\tinteractive?: boolean;\n}\n\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\n\t({ children, onClick, onKeyDown, className = '', ...props }, ref) => {\n\t\tconst handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n\t\t\tif (onClick && (e.key === 'Enter' || e.key === ' ')) {\n\t\t\t\te.preventDefault();\n\t\t\t\tonClick(e as unknown as React.MouseEvent<HTMLDivElement>);\n\t\t\t}\n\t\t\tonKeyDown?.(e);\n\t\t};\n\n\t\tconst isInteractive = !!onClick;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tdata-testid=\"collectible-card\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'group relative z-10 flex flex-col items-start overflow-hidden rounded-xl',\n\t\t\t\t\t'w-card-width min-w-card-min-width border border-border-base',\n\t\t\t\t\tisInteractive && [\n\t\t\t\t\t\t'cursor-pointer',\n\t\t\t\t\t\t'focus-visible:border-border-focus focus-visible:shadow-focus-ring focus-visible:outline-focus',\n\t\t\t\t\t\t'active:border-border-focus active:shadow-active-ring',\n\t\t\t\t\t],\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\t{...(isInteractive && {\n\t\t\t\t\tonClick,\n\t\t\t\t\tonKeyDown: handleKeyDown,\n\t\t\t\t\trole: 'button',\n\t\t\t\t\ttabIndex: 0,\n\t\t\t\t})}\n\t\t\t\t{...(!isInteractive && onKeyDown && { onKeyDown })}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCard.displayName = 'Card';\n","'use client';\n\nimport { Text } from '@0xsequence/design-system';\nimport { forwardRef } from 'react';\nimport { cn } from '../../../../../utils';\nimport { ContractType } from '../../../../_internal';\n\nexport interface CardBadgeProps extends React.HTMLAttributes<HTMLDivElement> {\n\ttype: ContractType;\n\tbalance?: string;\n}\n\nexport const CardBadge = forwardRef<HTMLDivElement, CardBadgeProps>(\n\t({ type, balance, className, ...props }, ref) => {\n\t\tconst displayText =\n\t\t\ttype === ContractType.ERC1155\n\t\t\t\t? balance\n\t\t\t\t\t? `Owned: ${balance}`\n\t\t\t\t\t: 'ERC-1155'\n\t\t\t\t: 'ERC-721';\n\n\t\treturn (\n\t\t\t<div ref={ref} {...props}>\n\t\t\t\t<Text\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'rounded-lg bg-background-secondary px-2 py-1 text-left font-medium text-text-80 text-xs',\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{displayText}\n\t\t\t\t</Text>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCardBadge.displayName = 'CardBadge';\n","'use client';\n\nimport { forwardRef } from 'react';\nimport { cn } from '../../../../../utils';\n\nexport interface CardContentProps extends React.HTMLAttributes<HTMLDivElement> {\n\tfullWidth?: boolean;\n}\n\nexport const CardContent = forwardRef<HTMLDivElement, CardContentProps>(\n\t({ children, className, ...props }, ref) => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'relative flex w-full flex-col items-start gap-2 whitespace-nowrap p-4',\n\t\t\t\t\tclassName || 'bg-background-primary',\n\t\t\t\t)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCardContent.displayName = 'CardContent';\n","'use client';\n\nimport { forwardRef } from 'react';\nimport { cn } from '../../../../../utils';\n\nexport interface CardFooterProps extends React.HTMLAttributes<HTMLDivElement> {\n\tshow?: boolean;\n}\n\n/**\n * CardFooter - Generic animated action container for card buttons\n * Provides slide-up animation on card hover. Content is provided via children.\n *\n * @example\n * <Card.Footer>\n *   <ActionButton action=\"buy\" {...props} />\n * </Card.Footer>\n */\nexport const CardFooter = forwardRef<HTMLDivElement, CardFooterProps>(\n\t({ children, show = true, className, ...props }, ref) => {\n\t\tif (!show) return null;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'-bottom-16 absolute flex w-full origin-bottom items-center justify-center bg-overlay-light p-2 backdrop-blur transition-transform duration-200 ease-in-out group-hover:translate-y-[-64px]',\n\t\t\t\t\tclassName ?? '',\n\t\t\t\t)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCardFooter.displayName = 'CardFooter';\n","'use client';\n\nimport { forwardRef } from 'react';\nimport { cn } from '../../../../../utils';\nimport { Media } from '../../media/Media';\n\nexport interface CollectibleMetadata {\n\tname?: string;\n\timage?: string;\n\tvideo?: string;\n\tanimation_url?: string;\n\tdecimals?: number;\n}\n\nexport interface CardMediaProps extends React.HTMLAttributes<HTMLDivElement> {\n\tname?: string;\n\timage?: string;\n\tvideo?: string;\n\tanimationUrl?: string;\n\n\tmetadata?: CollectibleMetadata;\n\n\tassetSrcPrefixUrl?: string;\n\tfallbackContent?: React.ReactNode;\n}\n\nexport const CardMedia = forwardRef<HTMLDivElement, CardMediaProps>(\n\t(\n\t\t{\n\t\t\tname,\n\t\t\timage,\n\t\t\tvideo,\n\t\t\tanimationUrl,\n\t\t\tmetadata,\n\t\t\tassetSrcPrefixUrl,\n\t\t\tclassName,\n\t\t\tfallbackContent,\n\t\t\t...props\n\t\t},\n\t\tref,\n\t) => {\n\t\tconst finalName = name ?? metadata?.name ?? '';\n\t\tconst finalImage = image ?? metadata?.image;\n\t\tconst finalVideo = video ?? metadata?.video;\n\t\tconst finalAnimationUrl = animationUrl ?? metadata?.animation_url;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"w-full overflow-hidden\"\n\t\t\t\tstyle={{\n\t\t\t\t\taspectRatio: '1',\n\t\t\t\t}}\n\t\t\t\tref={ref}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<Media\n\t\t\t\t\tname={finalName}\n\t\t\t\t\tassets={[finalImage, finalVideo, finalAnimationUrl]}\n\t\t\t\t\tassetSrcPrefixUrl={assetSrcPrefixUrl}\n\t\t\t\t\tmediaClassname={cn('object-contain', className)}\n\t\t\t\t\tfallbackContent={fallbackContent}\n\t\t\t\t\tcontainerClassName=\"w-full h-full\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCardMedia.displayName = 'CardMedia';\n","import { CollectibleCardAction } from '../../../../../types';\n\n/**\n * Parameters for determining the appropriate card action\n */\nexport interface DetermineCardActionParams {\n\t/** Whether the user owns the collectible (balance > 0) */\n\thasBalance: boolean;\n\t/** Whether there's a highest offer on the collectible */\n\thasOffer: boolean;\n\t/** Whether the collectible is listed for sale */\n\thasListing: boolean;\n}\n\n/**\n * Determines the appropriate action for a card based on ownership and market state.\n *\n * Priority rules:\n * - **Owner actions** (when hasBalance is true):\n *   1. SELL - if there's an offer (highest priority for owners)\n *   2. LIST - if not currently listed\n *   3. TRANSFER - default owner action\n *\n * - **Non-owner actions** (when hasBalance is false):\n *   1. BUY - if the item is listed for sale\n *   2. OFFER - default non-owner action\n *\n * @param params - Object containing ownership and market state flags\n * @returns The appropriate CollectibleCardAction for the given state\n *\n * @example\n * ```tsx\n * // Owner with offer\n * const action = determineCardAction({\n *   hasBalance: true,\n *   hasOffer: true,\n *   hasListing: false\n * }); // Returns CollectibleCardAction.SELL\n *\n * // Non-owner with listing\n * const action = determineCardAction({\n *   hasBalance: false,\n *   hasOffer: false,\n *   hasListing: true\n * }); // Returns CollectibleCardAction.BUY\n * ```\n */\nexport function determineCardAction(\n\tparams: DetermineCardActionParams,\n): CollectibleCardAction {\n\tconst { hasBalance, hasOffer, hasListing } = params;\n\n\tif (hasBalance) {\n\t\t// Owner actions (in priority order)\n\t\tif (hasOffer) return CollectibleCardAction.SELL;\n\t\tif (!hasListing) return CollectibleCardAction.LIST;\n\t\treturn CollectibleCardAction.TRANSFER;\n\t}\n\n\t// Non-owner actions\n\tif (hasListing) return CollectibleCardAction.BUY;\n\treturn CollectibleCardAction.OFFER;\n}\n","import { formatUnits } from 'viem';\nimport type { Currency } from '../../../../_internal';\n\nexport const OVERFLOW_PRICE = 100000000;\nexport const UNDERFLOW_PRICE = 0.0001;\n\nexport const formatPriceNumber = (\n\tamount: bigint,\n\tdecimals: number,\n): {\n\tformattedNumber: string;\n\tisUnderflow: boolean;\n\tisOverflow: boolean;\n} => {\n\tconst formattedPrice = formatUnits(amount, decimals);\n\tconst numericPrice = Number.parseFloat(formattedPrice);\n\n\tif (numericPrice < UNDERFLOW_PRICE) {\n\t\treturn {\n\t\t\tformattedNumber: UNDERFLOW_PRICE.toString(),\n\t\t\tisUnderflow: true,\n\t\t\tisOverflow: false,\n\t\t};\n\t}\n\n\tif (numericPrice > OVERFLOW_PRICE) {\n\t\treturn {\n\t\t\tformattedNumber: OVERFLOW_PRICE.toLocaleString('en-US', {\n\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t}),\n\t\t\tisUnderflow: false,\n\t\t\tisOverflow: true,\n\t\t};\n\t}\n\n\tconst maxDecimals = numericPrice < 0.01 ? 6 : 4;\n\n\treturn {\n\t\tformattedNumber: numericPrice.toLocaleString('en-US', {\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: maxDecimals,\n\t\t}),\n\t\tisUnderflow: false,\n\t\tisOverflow: false,\n\t};\n};\n\n/**\n * Formatted price data structure\n */\nexport type FormattedPrice = {\n\t/** Price type determines the presentation style */\n\ttype: 'free' | 'underflow' | 'overflow' | 'normal';\n\t/** Formatted display text (e.g., \"0.0001\", \"100,000,000\") */\n\tdisplayText: string;\n\t/** Currency symbol (e.g., \"ETH\", \"USDC\") */\n\tsymbol: string;\n};\n\n/**\n * Formats price data into a structured object for presentation.\n * This pure data transformation function is easily testable and\n * separates business logic from UI concerns.\n *\n * @param amount - Raw amount bigint (in base units)\n * @param currency - Currency object with symbol and decimals\n * @returns FormattedPrice object for presentation layer\n *\n * @example\n * ```ts\n * const priceData = formatPriceData(1000000000000000000n, {\n *   symbol: 'ETH',\n *   decimals: 18\n * });\n * // Returns: { type: 'normal', displayText: '1', symbol: 'ETH' }\n * ```\n */\nexport function formatPriceData(\n\tamount: bigint,\n\tcurrency: Currency,\n): FormattedPrice {\n\tconst isFree = amount === 0n;\n\n\tif (isFree) {\n\t\treturn { type: 'free', displayText: 'Free', symbol: '' };\n\t}\n\n\tconst { formattedNumber, isUnderflow, isOverflow } = formatPriceNumber(\n\t\tamount,\n\t\tcurrency.decimals,\n\t);\n\n\tif (isUnderflow) {\n\t\treturn {\n\t\t\ttype: 'underflow',\n\t\t\tdisplayText: formattedNumber,\n\t\t\tsymbol: currency.symbol,\n\t\t};\n\t}\n\n\tif (isOverflow) {\n\t\treturn {\n\t\t\ttype: 'overflow',\n\t\t\tdisplayText: formattedNumber,\n\t\t\tsymbol: currency.symbol,\n\t\t};\n\t}\n\n\treturn {\n\t\ttype: 'normal',\n\t\tdisplayText: formattedNumber,\n\t\tsymbol: currency.symbol,\n\t};\n}\n","import type { ContractType } from '../../../../_internal';\nimport { Card } from '../Card';\n\n/**\n * Determines whether to render a skeleton loading state for a card\n * and returns the skeleton component if appropriate.\n *\n * @param params - Loading state parameters\n * @param params.cardLoading - Whether the card data is loading\n * @param params.balanceIsLoading - Whether the balance data is loading (optional)\n * @param params.collectionType - Type of collection (ERC721/ERC1155)\n * @param params.isShop - Whether this is a shop card variant\n * @returns Skeleton component if loading, null otherwise\n *\n * @example\n * ```tsx\n * const skeleton = renderSkeletonIfLoading({\n *   cardLoading,\n *   balanceIsLoading,\n *   collectionType,\n *   isShop: false\n * });\n * if (skeleton) return skeleton;\n * ```\n */\nexport function renderSkeletonIfLoading(params: {\n\tcardLoading: boolean;\n\tbalanceIsLoading?: boolean;\n\tcollectionType: ContractType | undefined;\n\tisShop: boolean;\n}): React.ReactElement | null {\n\tconst {\n\t\tcardLoading,\n\t\tbalanceIsLoading = false,\n\t\tcollectionType,\n\t\tisShop,\n\t} = params;\n\n\tif (cardLoading || balanceIsLoading) {\n\t\treturn <Card.Skeleton type={collectionType} isShop={isShop} />;\n\t}\n\n\treturn null;\n}\n","import type { Address } from 'viem';\nimport { ContractType } from '../../../../_internal';\n\nexport interface ShopCardStateParams {\n\tquantityRemaining?: bigint;\n\tquantityInitial?: bigint;\n\tunlimitedSupply?: boolean;\n\tcollectionType?: ContractType;\n\tsalesContractAddress?: Address;\n}\n\nexport interface ShopCardState {\n\tisOutOfStock: boolean;\n\tisMissingStockInfo: boolean;\n\tshowActionButton: boolean;\n\tmediaClassName: string;\n\ttitleClassName: string | undefined;\n}\n\n/**\n * Calculates the display state for a shop card based on stock availability\n *\n * @param params - Stock and collection parameters\n * @returns Computed state for visual styling and interaction\n *\n * @example\n * ```tsx\n * const shopState = getShopCardState({\n *   quantityRemaining: '5',\n *   quantityInitial: '100',\n *   unlimitedSupply: false,\n *   collectionType: ContractType.ERC1155,\n *   salesContractAddress: '0x...'\n * });\n *\n * // Use computed state\n * <Card.Media className={shopState.mediaClassName} />\n * <Card.Title className={shopState.titleClassName} />\n * <Card.Actions show={shopState.showActionButton} />\n * ```\n */\nexport function getShopCardState(params: ShopCardStateParams): ShopCardState {\n\tconst {\n\t\tquantityRemaining,\n\t\tquantityInitial,\n\t\tunlimitedSupply,\n\t\tcollectionType,\n\t\tsalesContractAddress,\n\t} = params;\n\n\t// Check if item is out of stock\n\tconst isOutOfStock =\n\t\t!unlimitedSupply &&\n\t\t(quantityRemaining === 0n || quantityRemaining === undefined);\n\n\t// Check if stock information is missing\n\tconst isMissingStockInfo =\n\t\tquantityInitial === undefined || quantityRemaining === undefined;\n\n\t// Show action button only if:\n\t// 1. Sales contract exists\n\t// 2. Collection is ERC1155\n\t// 3. Either unlimited supply OR has remaining quantity\n\tconst showActionButton =\n\t\t!!salesContractAddress &&\n\t\tcollectionType === ContractType.ERC1155 &&\n\t\t(unlimitedSupply ||\n\t\t\t(quantityRemaining !== undefined && quantityRemaining > 0n));\n\n\t// Styling for out of stock items\n\tconst mediaClassName = isOutOfStock ? 'opacity-50' : 'opacity-100';\n\n\t// Styling for items with missing stock info\n\tconst titleClassName = isMissingStockInfo ? 'text-text-50' : undefined;\n\n\treturn {\n\t\tisOutOfStock,\n\t\tisMissingStockInfo,\n\t\tshowActionButton,\n\t\tmediaClassName,\n\t\ttitleClassName,\n\t};\n}\n","import { ContractType } from '../../../../_internal';\n\nexport const getSupplyStatusText = ({\n\tquantityRemaining,\n\tcollectionType,\n\tunlimitedSupply,\n}: {\n\tquantityRemaining: bigint | undefined;\n\tcollectionType: ContractType;\n\tunlimitedSupply?: boolean;\n}): string => {\n\tif (unlimitedSupply) {\n\t\treturn 'Unlimited Supply';\n\t}\n\n\tif (\n\t\tcollectionType === ContractType.ERC721 &&\n\t\tquantityRemaining === undefined\n\t) {\n\t\treturn 'Out of stock';\n\t}\n\n\tif (\n\t\tcollectionType === ContractType.ERC1155 &&\n\t\t!unlimitedSupply &&\n\t\tquantityRemaining === 0n\n\t) {\n\t\treturn 'Out of stock';\n\t}\n\n\tif (quantityRemaining && quantityRemaining > 0n) {\n\t\treturn `Supply: ${quantityRemaining.toString()}`;\n\t}\n\n\treturn 'Out of stock';\n};\n","'use client';\n\nimport {\n\tChevronLeftIcon,\n\tChevronRightIcon,\n\tcn,\n\tImage,\n\tText,\n} from '@0xsequence/design-system';\nimport type { Currency } from '../../../../_internal';\nimport { formatPriceData } from '../utils';\n\ninterface PriceDisplayProps {\n\tamount: bigint;\n\tcurrency: Currency;\n\tshowCurrencyIcon?: boolean;\n\tclassName?: string;\n}\n\n/**\n * Formats price into React components for display.\n * Uses formatPriceData for data transformation.\n */\nexport const formatPrice = (\n\tamount: bigint,\n\tcurrency: Currency,\n\tclassName?: string,\n): React.ReactNode => {\n\tconst price = formatPriceData(amount, currency);\n\n\tif (price.type === 'free') {\n\t\treturn <Text className=\"font-bold text-sm text-text-100\">Free</Text>;\n\t}\n\n\tconst Icon =\n\t\tprice.type === 'underflow'\n\t\t\t? ChevronLeftIcon\n\t\t\t: price.type === 'overflow'\n\t\t\t\t? ChevronRightIcon\n\t\t\t\t: null;\n\n\tif (Icon) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center\">\n\t\t\t\t<Icon className=\"h-3 w-3 text-text-100\" />\n\t\t\t\t<Text\n\t\t\t\t\tclassName={cn('font-bold text-sm', className || 'text-text-100')}\n\t\t\t\t>{`${price.displayText} ${price.symbol}`}</Text>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Text className={cn('font-bold text-sm', className || 'text-text-100')}>\n\t\t\t{price.displayText} {price.symbol}\n\t\t</Text>\n\t);\n};\n\nexport const PriceDisplay = ({\n\tamount,\n\tcurrency,\n\tshowCurrencyIcon = true,\n\tclassName,\n}: PriceDisplayProps) => {\n\treturn (\n\t\t<div className=\"flex items-center gap-1\">\n\t\t\t{showCurrencyIcon && currency.imageUrl && (\n\t\t\t\t<Image\n\t\t\t\t\talt={currency.symbol}\n\t\t\t\t\tclassName=\"h-3 w-3\"\n\t\t\t\t\tsrc={currency.imageUrl}\n\t\t\t\t\tonError={(e) => {\n\t\t\t\t\t\te.currentTarget.style.display = 'none';\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{formatPrice(amount, currency, className)}\n\t\t</div>\n\t);\n};\n","'use client';\n\nimport { cn, Text } from '@0xsequence/design-system';\nimport { forwardRef } from 'react';\nimport type { Currency } from '../../../../_internal';\nimport { PriceDisplay as BasePriceDisplay } from '../_internals/PriceDisplay';\n\nexport interface CardPriceProps extends React.HTMLAttributes<HTMLDivElement> {\n\tamount?: bigint;\n\tcurrency?: Currency;\n\tshowCurrencyIcon?: boolean;\n}\n\nexport const CardPrice = forwardRef<HTMLDivElement, CardPriceProps>(\n\t({ amount, currency, showCurrencyIcon = true, className, ...props }, ref) => {\n\t\tif (!amount || !currency) {\n\t\t\treturn (\n\t\t\t\t<div ref={ref} {...props}>\n\t\t\t\t\t<Text className=\"text-left font-body font-bold text-sm text-text-50\">\n\t\t\t\t\t\tNot listed yet\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div ref={ref} {...props}>\n\t\t\t\t<BasePriceDisplay\n\t\t\t\t\tamount={amount}\n\t\t\t\t\tcurrency={currency}\n\t\t\t\t\tshowCurrencyIcon={showCurrencyIcon}\n\t\t\t\t\tclassName={cn('text-text-100', className)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCardPrice.displayName = 'CardPrice';\n","'use client';\n\nimport { Text } from '@0xsequence/design-system';\nimport { cn } from '../../../../../utils';\nimport type { ContractType } from '../../../../_internal';\nimport { getSupplyStatusText } from '../utils';\n\nexport interface CardSaleDetailsProps {\n\tquantityRemaining?: bigint;\n\ttype: ContractType;\n\tunlimitedSupply?: boolean;\n\tclassName?: string;\n}\n\nexport function CardSaleDetails({\n\tquantityRemaining,\n\ttype,\n\tunlimitedSupply,\n\tclassName,\n}: CardSaleDetailsProps) {\n\tconst supplyText = getSupplyStatusText({\n\t\tquantityRemaining,\n\t\tcollectionType: type,\n\t\tunlimitedSupply,\n\t});\n\n\treturn (\n\t\t<Text\n\t\t\tclassName={cn(\n\t\t\t\t'rounded-lg bg-background-secondary px-2 py-1 text-left font-medium text-text-80 text-xs',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{supplyText}\n\t\t</Text>\n\t);\n}\n","'use client';\n\nimport { Skeleton } from '@0xsequence/design-system';\nimport { ContractType } from '../../../../_internal';\n\nexport interface CardSkeletonProps {\n\ttype?: ContractType;\n\tisShop?: boolean;\n}\n\nexport function CardSkeleton({\n\ttype = ContractType.ERC721,\n\tisShop = false,\n}: CardSkeletonProps) {\n\treturn (\n\t\t<div\n\t\t\tdata-testid=\"collectible-card-skeleton\"\n\t\t\tclassName=\"w-card-width overflow-hidden rounded-xl border border-border-base focus-visible:border-border-focus focus-visible:shadow-none focus-visible:outline-focus active:border-border-focus active:shadow-none\"\n\t\t>\n\t\t\t<div className=\"relative aspect-square overflow-hidden bg-background-secondary\">\n\t\t\t\t<Skeleton\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\tclassName=\"absolute inset-0 h-full w-full animate-shimmer\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mt-2 flex flex-col gap-2 px-4 pb-4\">\n\t\t\t\t<Skeleton size=\"lg\" className=\"animate-shimmer\" />\n\t\t\t\t<Skeleton size=\"sm\" className=\"h-5 w-16 animate-shimmer\" />\n\n\t\t\t\t{isShop && type === ContractType.ERC1155 && (\n\t\t\t\t\t<Skeleton size=\"lg\" className=\"h-6 w-20 animate-shimmer\" />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * Constants used across card components\n */\n\n/**\n * Default maximum length for card titles\n */\nexport const CARD_TITLE_MAX_LENGTH_DEFAULT = 17;\n\n/**\n * Maximum length for card titles when an offer bell is displayed\n * Reduced to reserve space for the offer notification icon\n */\nexport const CARD_TITLE_MAX_LENGTH_WITH_OFFER = 15;\n\n/**\n * Number of characters reserved for the offer bell icon in the title\n * Used internally by Card.Title for truncation calculations\n */\nexport const OFFER_BELL_RESERVED_CHARS = 2;\n","'use client';\n\nimport { cn, IconButton } from '@0xsequence/design-system';\nimport { forwardRef } from 'react';\nimport type { Order } from '../../../../_internal';\nimport { useCollectibleCardOfferState } from '../../../../hooks/ui/useCollectibleCardOfferState';\nimport SvgBellIcon from '../../../icons/BellIcon';\nimport { OFFER_BELL_RESERVED_CHARS } from '../constants';\n\nexport interface CardTitleProps\n\textends React.HTMLAttributes<HTMLHeadingElement> {\n\tas?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n\thighestOffer?: Order;\n\tonOfferClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n\tbalance?: string;\n\tmaxLength?: number;\n}\n\ninterface OfferBellProps {\n\tcanAcceptOffer: boolean;\n\tonOfferClick: (e: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nfunction OfferBell({ canAcceptOffer, onOfferClick }: OfferBellProps) {\n\treturn (\n\t\t<IconButton\n\t\t\tclassName={`absolute top-0 right-0 z-10 h-[22px] w-[22px] ${!canAcceptOffer ? 'opacity-50 hover:animate-none hover:opacity-50' : 'hover:animate-bell-ring'}`}\n\t\t\tsize=\"xs\"\n\t\t\tvariant=\"primary\"\n\t\t\tonClick={(e) => {\n\t\t\t\tif (!canAcceptOffer) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tonOfferClick?.(e);\n\t\t\t}}\n\t\t\tonMouseEnter={(e) => {\n\t\t\t\tif (canAcceptOffer) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t}}\n\t\t\ticon={(props) => <SvgBellIcon {...props} size=\"xs\" />}\n\t\t/>\n\t);\n}\n\nexport const CardTitle = forwardRef<HTMLHeadingElement, CardTitleProps>(\n\t(\n\t\t{\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\tas: Comp = 'h3',\n\t\t\thighestOffer,\n\t\t\tonOfferClick,\n\t\t\tbalance,\n\t\t\tmaxLength,\n\t\t\t...props\n\t\t},\n\t\tref,\n\t) => {\n\t\tconst collectibleCardOfferState = useCollectibleCardOfferState(\n\t\t\thighestOffer,\n\t\t\tbalance,\n\t\t);\n\t\tconst name = typeof children === 'string' ? children : String(children);\n\n\t\tconst truncateAt = maxLength\n\t\t\t? collectibleCardOfferState\n\t\t\t\t? maxLength - OFFER_BELL_RESERVED_CHARS\n\t\t\t\t: maxLength\n\t\t\t: Number.POSITIVE_INFINITY;\n\n\t\tconst displayName =\n\t\t\tname.length > truncateAt ? `${name.substring(0, truncateAt)}...` : name;\n\n\t\tconst showOfferBell = collectibleCardOfferState && onOfferClick;\n\n\t\treturn (\n\t\t\t<div className=\"relative flex w-full items-center justify-between\">\n\t\t\t\t<Comp\n\t\t\t\t\tref={ref}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'overflow-hidden text-ellipsis text-left font-body font-bold text-sm text-text-100',\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t{displayName || 'Untitled'}\n\t\t\t\t</Comp>\n\n\t\t\t\t{showOfferBell && (\n\t\t\t\t\t<OfferBell\n\t\t\t\t\t\tcanAcceptOffer={collectibleCardOfferState.canAcceptOffer}\n\t\t\t\t\t\tonOfferClick={onOfferClick}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nCardTitle.displayName = 'CardTitle';\n","import { Card as CardRoot } from './card';\nimport { CardBadge } from './card-badge';\nimport { CardContent } from './card-content';\nimport { CardFooter } from './card-footer';\nimport { CardMedia } from './card-media';\nimport { CardPrice } from './card-price';\nimport { CardSaleDetails } from './card-sale-details';\nimport { CardSkeleton } from './card-skeleton';\nimport { CardTitle } from './card-title';\n\nexport const Card = Object.assign(CardRoot, {\n\tMedia: CardMedia,\n\tContent: CardContent,\n\tTitle: CardTitle,\n\tPrice: CardPrice,\n\tBadge: CardBadge,\n\tFooter: CardFooter,\n\tSaleDetails: CardSaleDetails,\n\tSkeleton: CardSkeleton,\n});\n\nexport type { CardProps } from './card';\nexport type { CardBadgeProps } from './card-badge';\nexport type { CardContentProps } from './card-content';\nexport type { CardFooterProps } from './card-footer';\nexport type { CardMediaProps } from './card-media';\nexport type { CardPriceProps } from './card-price';\nexport type { CardSaleDetailsProps } from './card-sale-details';\nexport type { CardSkeletonProps } from './card-skeleton';\nexport type { CardTitleProps } from './card-title';\n"],"mappings":"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"}