{"version":3,"file":"checkout.js","names":["apiArgs: CheckoutOptionsSalesContractRequest","params"],"sources":["../src/react/queries/checkout/primary-sale-checkout-options.ts"],"sourcesContent":["import type {\n\tAddress,\n\tCheckoutOptionsItem,\n\tCheckoutOptionsSalesContractRequest,\n\tCheckoutOptionsSalesContractResponse,\n\tGetPrimarySaleCheckoutOptionsRequest,\n} from '@0xsequence/api-client';\nimport { isAddress } from 'viem';\nimport {\n\tbuildQueryOptions,\n\tgetMarketplaceClient,\n\ttype SdkQueryParams,\n\ttype WithOptionalParams,\n\ttype WithRequired,\n} from '../../_internal';\n\nexport type FetchPrimarySaleCheckoutOptionsParams =\n\tGetPrimarySaleCheckoutOptionsRequest;\n\n/**\n * Fetches checkout options for primary sales contract from the Marketplace API\n */\nexport async function fetchPrimarySaleCheckoutOptions(\n\tparams: WithRequired<\n\t\tPrimarySaleCheckoutOptionsQueryOptions,\n\t\t| 'chainId'\n\t\t| 'walletAddress'\n\t\t| 'contractAddress'\n\t\t| 'collectionAddress'\n\t\t| 'items'\n\t\t| 'config'\n\t>,\n): Promise<CheckoutOptionsSalesContractResponse> {\n\tconst {\n\t\tchainId,\n\t\twalletAddress,\n\t\tcontractAddress,\n\t\tcollectionAddress,\n\t\titems,\n\t\tconfig,\n\t} = params;\n\n\tconst client = getMarketplaceClient(config);\n\n\tconst apiArgs: CheckoutOptionsSalesContractRequest = {\n\t\tchainId,\n\t\twallet: walletAddress,\n\t\tcontractAddress,\n\t\tcollectionAddress,\n\t\titems,\n\t};\n\n\tconst result = await client.checkoutOptionsSalesContract(apiArgs);\n\treturn result;\n}\n\nexport type PrimarySaleCheckoutOptionsQueryOptions =\n\tSdkQueryParams<FetchPrimarySaleCheckoutOptionsParams>;\n\nexport function getPrimarySaleCheckoutOptionsQueryKey(\n\tparams: PrimarySaleCheckoutOptionsQueryOptions,\n): readonly [\n\t'checkout',\n\t'primary-sale',\n\t{\n\t\tchainId: number;\n\t\twalletAddress: Address;\n\t\tcontractAddress: Address;\n\t\tcollectionAddress: Address;\n\t\titems: ReadonlyArray<CheckoutOptionsItem>;\n\t},\n] {\n\treturn [\n\t\t'checkout',\n\t\t'primary-sale',\n\t\t{\n\t\t\tchainId: params.chainId ?? 0,\n\t\t\twalletAddress: params.walletAddress ?? ('0x' as Address),\n\t\t\tcontractAddress: params.contractAddress ?? ('' as Address),\n\t\t\tcollectionAddress: params.collectionAddress ?? ('' as Address),\n\t\t\titems: params.items ?? [],\n\t\t},\n\t] as const;\n}\n\nexport function primarySaleCheckoutOptionsQueryOptions(\n\tparams: WithOptionalParams<\n\t\tWithRequired<\n\t\t\tPrimarySaleCheckoutOptionsQueryOptions,\n\t\t\t| 'chainId'\n\t\t\t| 'walletAddress'\n\t\t\t| 'contractAddress'\n\t\t\t| 'collectionAddress'\n\t\t\t| 'items'\n\t\t\t| 'config'\n\t\t>\n\t>,\n) {\n\treturn buildQueryOptions(\n\t\t{\n\t\t\tgetQueryKey: getPrimarySaleCheckoutOptionsQueryKey,\n\t\t\trequiredParams: [\n\t\t\t\t'chainId',\n\t\t\t\t'walletAddress',\n\t\t\t\t'contractAddress',\n\t\t\t\t'collectionAddress',\n\t\t\t\t'items',\n\t\t\t\t'config',\n\t\t\t] as const,\n\t\t\tfetcher: fetchPrimarySaleCheckoutOptions,\n\t\t\tcustomValidation: (params) =>\n\t\t\t\t(params.items?.length ?? 0) > 0 &&\n\t\t\t\t!!params.collectionAddress &&\n\t\t\t\tisAddress(params.collectionAddress),\n\t\t},\n\t\tparams,\n\t);\n}\n"],"mappings":";;;;;;;;AAsBA,eAAsB,gCACrB,QASgD;CAChD,MAAM,EACL,SACA,eACA,iBACA,mBACA,OACA,WACG;CAEJ,MAAM,SAAS,qBAAqB,OAAO;CAE3C,MAAMA,UAA+C;EACpD;EACA,QAAQ;EACR;EACA;EACA;EACA;AAGD,QADe,MAAM,OAAO,6BAA6B,QAAQ;;AAOlE,SAAgB,sCACf,QAWC;AACD,QAAO;EACN;EACA;EACA;GACC,SAAS,OAAO,WAAW;GAC3B,eAAe,OAAO,iBAAkB;GACxC,iBAAiB,OAAO,mBAAoB;GAC5C,mBAAmB,OAAO,qBAAsB;GAChD,OAAO,OAAO,SAAS,EAAE;GACzB;EACD;;AAGF,SAAgB,uCACf,QAWC;AACD,QAAO,kBACN;EACC,aAAa;EACb,gBAAgB;GACf;GACA;GACA;GACA;GACA;GACA;GACA;EACD,SAAS;EACT,mBAAmB,cACjBC,SAAO,OAAO,UAAU,KAAK,KAC9B,CAAC,CAACA,SAAO,qBACT,UAAUA,SAAO,kBAAkB;EACpC,EACD,OACA"}