{"version":3,"file":"react.js","names":["BaseError","BaseError","auth: Auth","ThemeProvider","SequenceThemeProvider","context: MarketplaceSdkContextType","ThemeProvider","ContractType","quantityRemaining: bigint | undefined","quantityTotal: bigint | undefined","queryOptions","initialContext: WaasFeeOptionsState","initialContext","useWaasFeeOptions","waasConnector: Connector | undefined","confirmation: WaasFeeOptionConfirmation","options","isTransactionStep","entries: StepEntry[]","isTransactionStep","status: FlowState['status']","isFormValid","initialContext: TransactionStatusModalContext","initialContext","useIsOpen","useTransactionType","useTransactionType","useCollectionDetail","ChessTileImage","useIsOpen","useCollectibleDetail","useTransactionStatus","TransactionPreview","initialContext: SellModalState","initialContext","generateSellTransaction","StepType","useGenerateSellTransaction","useGenerateSellTransaction","useWaasFeeOptions","steps: SellModalSteps","ctas: CtaAction[]","error","error: unknown","useWaasFeeOptions","useWaasFeeOptionManager","cn","WaasFeeOptionsSelect","BalanceIndicator","ActionButtons","useCollectibleDetail","ChessTileImage","fees: number[]","Modal","SelectWaasFeeOptions","ContractType","ContractType","useOpenConnectModal","analyticsProps: Record<string, string>","analyticsNums: Record<string, number>","initialContext: {\n\tisOpen: boolean;\n\tprops: BuyModalProps | null;\n\tbuyAnalyticsId: string;\n\tpaymentModalState: SubModalState;\n\tquantity: number;\n}","initialContext","steps: Step[]","TransactionType","MarketplaceKind","TransactionType","ContractType","StepType","StepType","hash: Hex | undefined","reservoirOrderId: string | undefined","context: string","enabled: boolean","UserRejectedRequestError","ViemUserRejectedRequestError","TransactionExecutionError","result: Hex | undefined","useCollectible","useCollection","checkoutModeConfig: CheckoutMode","useWaasFeeOptions","checkoutMode: CheckoutMode | undefined","useCurrencyBalance","StepType","data","error","maxQuantity: bigint","error: null | string","StepType","StepType","ContractType","paymentModalParams","SequenceCheckout","OPENSEA_CHAIN_CURRENCIES: Record<string, ChainCurrency>","OrderbookKind","selectedCurrency","useConvertPriceToUSD","cn","CurrencyOptionsSelect","CurrencyImage","OrderbookKind","validation: ListingValidation","isFormValid","OrderbookKind","initialContext: CreateListingModalState","OrderbookKind","initialContext","request: GenerateListingTransactionRequest","StepType","hash: Hex | undefined","orderId: string | undefined","requestId: string | undefined","OrderbookKind","priceDnum: Dnum","quantityDnum: Dnum","balanceDnum: Dnum | undefined","isFormValid","useWaasFeeOptions","steps: CreateListingModalSteps","Modal","ExpirationDateSelect","SelectWaasFeeOptions","validation: OfferValidation","initialContext: MakeOfferModalState","OrderbookKind","initialContext","StepType","request: GenerateOfferTransactionRequest","requestId: string | undefined","OrderbookKind","useWaasFeeOptions","steps: MakeOfferModalSteps","Modal","ExpirationDateSelect","SelectWaasFeeOptions","initialContext: TransferModalState","useWaasFeeOptions","steps: TransferModalSteps","Modal","WalletAddressInput","TokenQuantityInput","SelectWaasFeeOptions","sheet: CSSStyleSheet","container","SwitchChainErrorModal","TransactionStatusModal","useOpenConnectModal","cn","cn","ContractType","ContractType"],"sources":["../src/utils/_internal/error/context.ts","../src/utils/_internal/error/config.ts","../src/react/_internal/databeat/index.ts","../src/react/providers/analytics-provider.tsx","../src/react/providers/theme-provider.tsx","../src/react/providers/index.tsx","../src/react/hooks/config/useConfig.tsx","../src/react/hooks/checkout/primary-sale-checkout-options.tsx","../src/react/hooks/collectible/balance.tsx","../src/react/hooks/collectible/erc721-sale-details.tsx","../src/react/hooks/collectible/market-activities.tsx","../src/react/hooks/collectible/market-count.tsx","../src/react/hooks/collectible/market-highest-offer.tsx","../src/react/hooks/collectible/market-list.tsx","../src/react/hooks/collectible/market-list-paginated.tsx","../src/react/hooks/collectible/market-listings.tsx","../src/react/hooks/collectible/market-listings-count.tsx","../src/react/hooks/collectible/market-lowest-listing.tsx","../src/react/hooks/collectible/market-offers.tsx","../src/react/hooks/collectible/market-offers-count.tsx","../src/react/hooks/collectible/metadata.tsx","../src/react/hooks/collectible/primary-sale-item.tsx","../src/react/hooks/collectible/primary-sale-items.tsx","../src/react/hooks/collectible/primary-sale-items-count.tsx","../src/react/hooks/collectible/token-balances.tsx","../src/react/hooks/collection/balance-details.tsx","../src/react/hooks/config/useMarketplaceConfig.tsx","../src/react/hooks/collection/list.tsx","../src/react/hooks/collection/market-activities.tsx","../src/react/hooks/collection/market-detail-polling.tsx","../src/react/hooks/collection/market-filtered-count.tsx","../src/react/hooks/collection/market-floor.tsx","../src/react/hooks/collection/market-items.tsx","../src/react/hooks/collection/market-items-count.tsx","../src/react/hooks/collection/market-items-paginated.tsx","../src/react/hooks/collection/metadata.tsx","../src/react/queries/collection/activeListingsCurrencies.ts","../src/react/hooks/collection/useCollectionActiveListingsCurrencies.tsx","../src/react/queries/collection/activeOffersCurrencies.ts","../src/react/hooks/collection/useCollectionActiveOffersCurrencies.tsx","../src/react/hooks/currency/compare-prices.tsx","../src/react/hooks/currency/convert-to-usd.tsx","../src/react/hooks/currency/currency.tsx","../src/react/hooks/currency/list.tsx","../src/react/hooks/inventory/inventory.tsx","../src/react/hooks/token/balances.tsx","../src/react/hooks/token/currency-balance.tsx","../src/react/hooks/token/metadata.tsx","../src/react/hooks/token/metadata-search.tsx","../src/react/hooks/token/ranges.tsx","../src/react/hooks/utils/waasFeeOptionsStore.ts","../src/react/hooks/utils/useWaasFeeOptions.tsx","../src/react/ui/modals/_internal/components/selectWaasFeeOptions/store.ts","../src/react/ui/modals/_internal/types/steps.ts","../src/react/ui/modals/_internal/helpers/flow-state.ts","../src/react/ui/modals/_internal/helpers/step-guards.ts","../src/react/ui/modals/_internal/components/transactionStatusModal/store.ts","../src/react/ui/modals/_internal/components/transactionPreview/consts.ts","../src/react/ui/modals/_internal/components/transactionPreview/useTransactionPreviewTitle.tsx","../src/react/ui/modals/_internal/components/transactionPreview/index.tsx","../src/react/hooks/config/useConnectorMetadata.tsx","../src/react/ui/modals/_internal/components/transactionStatusModal/hooks/useTransactionStatus.ts","../src/react/ui/modals/_internal/components/transactionStatusModal/util/getFormattedType.ts","../src/react/ui/modals/_internal/components/transactionStatusModal/util/getMessage.ts","../src/react/ui/modals/_internal/components/transactionStatusModal/util/getTitle.ts","../src/react/ui/modals/_internal/components/transactionStatusModal/index.tsx","../src/react/ui/modals/SellModal/internal/store.ts","../src/react/ui/modals/SellModal/internal/sell-mutations.ts","../src/react/ui/modals/BuyModal/hooks/useMarketPlatformFee.ts","../src/react/ui/modals/SellModal/internal/use-generate-sell-transaction.ts","../src/react/ui/modals/SellModal/internal/context.ts","../src/react/ui/modals/_internal/components/baseModal/BaseModal.tsx","../src/react/ui/modals/_internal/components/baseModal/errors/ModalInitializationError.tsx","../src/utils/errors.ts","../src/utils/getWagmiErrorMessage.ts","../src/utils/getWebRPCErrorMessage.ts","../src/utils/getErrorMessage.ts","../src/react/ui/components/_internals/ErrorDisplay.tsx","../src/react/ui/modals/_internal/components/baseModal/SmartErrorHandler.tsx","../src/react/ui/modals/_internal/components/baseModal/ActionModal.tsx","../src/react/ui/modals/_internal/components/waasFeeOptionsSelect/WaasFeeOptionsSelect.tsx","../src/react/ui/modals/_internal/components/selectWaasFeeOptions/_components/ActionButtons.tsx","../src/react/ui/modals/_internal/components/selectWaasFeeOptions/_components/BalanceIndicator.tsx","../src/react/hooks/data/tokens/useCurrencyBalance.tsx","../src/react/ui/modals/_internal/components/selectWaasFeeOptions/useWaasFeeOptionManager.tsx","../src/react/ui/modals/_internal/components/selectWaasFeeOptions/index.tsx","../src/react/ui/modals/_internal/components/tokenPreview/index.tsx","../src/react/ui/modals/_internal/components/transactionDetails/index.tsx","../src/react/ui/modals/SellModal/Modal.tsx","../src/react/hooks/ui/card-data/market-card-data.tsx","../src/react/hooks/ui/card-data/market-card-data-paged.tsx","../src/react/hooks/ui/card-data/primary-sale-721-card-data.tsx","../src/react/hooks/ui/card-data/primary-sale-1155-card-data.tsx","../src/react/hooks/ui/useFilters.tsx","../src/react/hooks/ui/useOpenConnectModal.tsx","../src/react/_internal/databeat/utils.ts","../src/react/ui/modals/BuyModal/store.ts","../src/react/hooks/transactions/useMarketTransactionSteps.tsx","../src/react/hooks/transactions/usePrimarySaleTransactionSteps.ts","../src/react/hooks/transactions/useTransactionType.ts","../src/react/hooks/transactions/useBuyTransaction.tsx","../src/react/hooks/utils/useAutoSelectFeeOption.tsx","../src/react/hooks/util/optimisticCancelUpdates.ts","../src/react/hooks/utils/useEnsureCorrectChain.ts","../src/react/hooks/transactions/useGenerateCancelTransaction.tsx","../src/react/hooks/transactions/useProcessStep.ts","../src/react/hooks/transactions/useCancelTransactionSteps.tsx","../src/react/hooks/transactions/useCancelOrder.tsx","../src/utils/date.ts","../src/react/hooks/transactions/useGenerateListingTransaction.tsx","../src/react/hooks/transactions/useGenerateOfferTransaction.tsx","../src/react/hooks/transactions/useGenerateSellTransaction.tsx","../src/react/_internal/logger.ts","../src/react/hooks/transactions/useOrderSteps.tsx","../src/react/hooks/transactions/useTransactionExecution.ts","../src/react/hooks/transactions/useTransferTokens.tsx","../src/react/hooks/utils/useGetReceiptFromHash.tsx","../src/react/hooks/utils/useRoyalty.tsx","../src/react/ui/modals/BuyModal/index.tsx","../src/react/queries/orders.ts","../src/react/hooks/data/orders/useOrders.tsx","../src/react/ui/modals/BuyModal/hooks/useBuyModalData.ts","../src/react/ui/modals/BuyModal/internal/buyModalContext.ts","../src/react/ui/components/_internals/ErrorLogBox.tsx","../src/react/ui/modals/BuyModal/hooks/useExecuteBundledTransactions.ts","../src/react/ui/modals/BuyModal/hooks/useHasSufficientBalance.ts","../src/react/ui/modals/BuyModal/internal/cryptoPaymentModalContext.tsx","../src/react/ui/modals/BuyModal/components/CryptoPaymentModalSkeleton.tsx","../src/react/ui/modals/BuyModal/components/CryptoPaymentModal.tsx","../src/react/ui/modals/_internal/components/baseModal/ErrorBoundary.tsx","../src/react/ui/modals/_internal/components/baseModal/ErrorModal.tsx","../src/react/ui/modals/_internal/components/baseModal/LoadingModal.tsx","../src/react/ui/modals/BuyModal/components/sequence-checkout/ERC1155QuantityModal.tsx","../../api/src/adapters/marketplace/marketplace.gen.ts","../src/utils/decode/erc20.ts","../src/react/ui/modals/BuyModal/components/sequence-checkout/usePaymentModalParams.ts","../src/react/ui/modals/BuyModal/components/sequence-checkout/SequenceCheckoutNew.tsx","../src/react/ui/modals/BuyModal/components/TrailsCss.ts","../src/react/ui/modals/BuyModal/components/BuyModalContent.tsx","../src/react/ui/modals/BuyModal/components/Modal.tsx","../src/react/ui/modals/_internal/components/floorPriceText/index.tsx","../src/react/ui/components/_internals/custom-select/CustomSelect.tsx","../src/react/ui/modals/_internal/constants/opensea-currencies.ts","../src/react/ui/modals/_internal/components/currencyOptionsSelect/index.tsx","../src/react/ui/modals/_internal/components/priceInput/index.tsx","../src/react/ui/modals/_internal/helpers/currency.ts","../src/react/ui/modals/_internal/helpers/dnum-utils.ts","../src/react/ui/modals/CreateListingModal/internal/helpers/validation.ts","../src/utils/getConduitAddressForOrderbook.ts","../src/utils/getSequenceMarketRequestId.ts","../src/react/ui/modals/CreateListingModal/internal/store.ts","../src/react/ui/modals/CreateListingModal/internal/listing-mutations.ts","../src/react/ui/modals/CreateListingModal/internal/context.ts","../src/react/ui/modals/CreateListingModal/Modal.tsx","../src/react/ui/modals/MakeOfferModal/internal/helpers/validation.ts","../src/react/ui/modals/MakeOfferModal/internal/store.ts","../src/react/ui/modals/MakeOfferModal/internal/offer-mutations.ts","../src/react/ui/modals/MakeOfferModal/internal/context.ts","../src/react/ui/modals/MakeOfferModal/Modal.tsx","../src/react/ui/modals/TransferModal/_views/enterWalletAddress/_components/TokenQuantityInput.tsx","../src/react/ui/modals/TransferModal/_views/enterWalletAddress/_components/WalletAddressInput.tsx","../src/react/ui/modals/TransferModal/internal/store.ts","../src/react/ui/modals/TransferModal/internal/context.ts","../src/react/ui/modals/TransferModal/index.tsx","../src/styles/styles.ts","../src/react/providers/shadow-root.tsx","../src/react/providers/modal-provider.tsx","../src/react/ui/modals/MakeOfferModal/index.tsx","../src/react/ui/components/marketplace-collectible-card/ActionButton/store.ts","../src/react/ui/components/marketplace-collectible-card/ActionButton/components/ActionButtonBody.tsx","../src/react/ui/components/marketplace-collectible-card/ActionButton/components/NonOwnerActions.tsx","../src/react/ui/modals/CreateListingModal/index.tsx","../src/react/ui/components/marketplace-collectible-card/ActionButton/components/OwnerActions.tsx","../src/react/ui/components/marketplace-collectible-card/ActionButton/hooks/useActionButtonLogic.ts","../src/react/ui/components/marketplace-collectible-card/ActionButton/ActionButton.tsx","../src/react/ui/components/marketplace-collectible-card/variants/MarketCardPresentation.tsx","../src/react/ui/components/marketplace-collectible-card/variants/MarketCard.tsx","../src/react/ui/components/marketplace-collectible-card/variants/NonTradableInventoryCard.tsx","../src/react/ui/components/marketplace-collectible-card/variants/ShopCardPresentation.tsx","../src/react/ui/components/marketplace-collectible-card/variants/ShopCard.tsx","../src/react/ui/components/marketplace-collectible-card/CollectibleCard.tsx"],"sourcesContent":["import { BaseError } from './base';\n\nexport type MarketplaceSdkProviderNotFoundErrorType =\n\tMarketplaceSdkProviderNotFoundError & {\n\t\tname: 'MarketplaceSDKProviderNotFoundError';\n\t};\n\nexport class MarketplaceSdkProviderNotFoundError extends BaseError {\n\toverride name = 'MarketplaceSDKProviderNotFoundError';\n\tconstructor() {\n\t\tsuper('`useConfig` must be used within `MarketplaceSdkProvider`.');\n\t}\n}\n","import { BaseError } from './base';\n\nexport type ConfigErrorType<name extends string = 'ConfigError'> = BaseError & {\n\tname: name;\n};\n\nexport class ConfigError extends BaseError {\n\toverride name = 'ConfigError';\n}\n\nexport class InvalidProjectAccessKeyError extends ConfigError {\n\toverride name = 'InvalidProjectAccessKeyError';\n\tconstructor(projectAccessKey: string) {\n\t\tsuper(`Invalid project access key: ${projectAccessKey}`);\n\t}\n}\n","import type { Event as DatabeatEvent } from '@databeat/tracker';\nimport { Databeat } from '@databeat/tracker';\nimport { useContext } from 'react';\n\nimport { MarketplaceSdkContext } from '../../providers';\nimport type {\n\tEventType,\n\tTrackBuyModalOpened,\n\tTrackCreateListing,\n\tTrackCreateOffer,\n\tTrackSellItems,\n\tTrackTransactionFailed,\n} from './types';\n\nexport type EventTypes = keyof typeof EventType;\nexport type Event = DatabeatEvent<EventTypes>;\n\nexport class DatabeatAnalytics extends Databeat<Extract<EventTypes, string>> {\n\ttrackSellItems(args: TrackSellItems) {\n\t\tthis.track({\n\t\t\tevent: 'SELL_ITEMS',\n\t\t\tprops: args.props,\n\t\t\tnums: args.nums,\n\t\t});\n\t}\n\n\ttrackBuyModalOpened(args: TrackBuyModalOpened) {\n\t\tthis.track({\n\t\t\tevent: 'BUY_MODAL_OPENED',\n\t\t\tprops: args.props,\n\t\t\tnums: args.nums,\n\t\t});\n\t}\n\n\ttrackCreateListing(args: TrackCreateListing) {\n\t\tthis.track({\n\t\t\tevent: 'CREATE_LISTING',\n\t\t\tprops: args.props,\n\t\t\tnums: args.nums,\n\t\t});\n\t}\n\n\ttrackCreateOffer(args: TrackCreateOffer) {\n\t\tthis.track({\n\t\t\tevent: 'CREATE_OFFER',\n\t\t\tprops: args.props,\n\t\t\tnums: args.nums,\n\t\t});\n\t}\n\n\ttrackTransactionFailed(args: TrackTransactionFailed) {\n\t\tthis.track({\n\t\t\tevent: 'TRANSACTION_FAILED',\n\t\t\tprops: args,\n\t\t});\n\t}\n}\n\nexport const useAnalytics = () => {\n\tconst context = useContext(MarketplaceSdkContext);\n\n\tif (!context) {\n\t\tthrow new Error('useAnalytics must be used within MarketplaceProvider');\n\t}\n\n\treturn context.analytics;\n};\n","'use client';\n\nimport type { Auth } from '@databeat/tracker';\nimport { useEffect, useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport type { SdkConfig } from '../../types';\nimport { DatabeatAnalytics } from '../_internal/databeat';\n\ninterface AnalyticsProviderProps {\n\tconfig: SdkConfig;\n\tchildren: (analytics: DatabeatAnalytics) => React.ReactNode;\n}\n\nexport function AnalyticsProvider({\n\tconfig,\n\tchildren,\n}: AnalyticsProviderProps) {\n\tconst { address, isConnected } = useAccount();\n\tconst isWindowDefined = typeof window !== 'undefined';\n\n\tconst analytics = useMemo(() => {\n\t\tconst server = 'https://nodes.sequence.app';\n\t\tconst auth: Auth = {};\n\t\tauth.headers = { 'X-Access-Key': config.projectAccessKey };\n\n\t\treturn new DatabeatAnalytics(server, auth, {\n\t\t\tdefaultEnabled: true,\n\t\t\tinitProps: () => {\n\t\t\t\treturn {\n\t\t\t\t\torigin: isWindowDefined ? window.location.origin : '',\n\t\t\t\t};\n\t\t\t},\n\t\t});\n\t}, [config.projectAccessKey, isWindowDefined]);\n\n\tuseEffect(() => {\n\t\tif (!isConnected || !address) {\n\t\t\tanalytics?.reset();\n\t\t\treturn;\n\t\t}\n\t\tanalytics?.identify(address.toLowerCase());\n\t}, [analytics, address, isConnected]);\n\n\treturn <>{children(analytics)}</>;\n}\n","'use client';\n\nimport {\n\tThemeProvider as SequenceThemeProvider,\n\ttype Theme,\n} from '@0xsequence/design-system';\nimport { useConfig } from '../hooks';\n\nexport const ThemeProvider = ({\n\tchildren,\n\ttheme,\n\troot,\n}: {\n\tchildren: React.ReactNode;\n\ttheme?: Theme;\n\troot?: HTMLElement;\n}) => {\n\tconst { shadowDom } = useConfig();\n\n\tif (!shadowDom) {\n\t\treturn (\n\t\t\t<SequenceThemeProvider defaultTheme={theme} root={root}>\n\t\t\t\t{children}\n\t\t\t</SequenceThemeProvider>\n\t\t);\n\t}\n\n\treturn children;\n};\n","'use client';\n\nimport { useOpenConnectModal } from '@0xsequence/connect';\nimport { QueryClientProvider } from '@tanstack/react-query';\nimport { createContext } from 'react';\nimport type {\n\tMarketplaceSdkContext as MarketplaceSdkContextType,\n\tSdkConfig,\n} from '../../types';\nimport { InvalidProjectAccessKeyError } from '../../utils/_internal/error/config';\nimport { getQueryClient } from '../_internal/api/get-query-client';\nimport type { DatabeatAnalytics } from '../_internal/databeat';\nimport { PROVIDER_ID } from '../_internal/get-provider';\nimport { AnalyticsProvider } from './analytics-provider';\nimport { ThemeProvider } from './theme-provider';\n\nexport const MarketplaceSdkContext = createContext<\n\tMarketplaceSdkContextType | undefined\n>(undefined);\n\nexport type MarketplaceSdkProviderProps = {\n\tconfig: SdkConfig;\n\tchildren: React.ReactNode;\n\topenConnectModal?: () => void;\n};\n\nexport function MarketplaceProvider({\n\tconfig,\n\tchildren,\n\topenConnectModal,\n}: MarketplaceSdkProviderProps) {\n\tif (config.projectAccessKey === '' || !config.projectAccessKey) {\n\t\tthrow new InvalidProjectAccessKeyError(config.projectAccessKey);\n\t}\n\n\treturn (\n\t\t<AnalyticsProvider config={config}>\n\t\t\t{(analytics) => {\n\t\t\t\tif (openConnectModal) {\n\t\t\t\t\tconst context: MarketplaceSdkContextType = {\n\t\t\t\t\t\t...config,\n\t\t\t\t\t\topenConnectModal,\n\t\t\t\t\t\tanalytics,\n\t\t\t\t\t};\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MarketplaceSdkContext.Provider value={context}>\n\t\t\t\t\t\t\t<ThemeProvider>\n\t\t\t\t\t\t\t\t<div id={PROVIDER_ID}>{children}</div>\n\t\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t\t</MarketplaceSdkContext.Provider>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<MarketplaceProviderWithSequenceConnect\n\t\t\t\t\t\tconfig={config}\n\t\t\t\t\t\tanalytics={analytics}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ThemeProvider>{children}</ThemeProvider>\n\t\t\t\t\t</MarketplaceProviderWithSequenceConnect>\n\t\t\t\t);\n\t\t\t}}\n\t\t</AnalyticsProvider>\n\t);\n}\n\nexport function MarketplaceQueryClientProvider({\n\tchildren,\n}: {\n\tchildren: React.ReactNode;\n}) {\n\tconst queryClient = getQueryClient();\n\treturn (\n\t\t<QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n\t);\n}\n\nfunction MarketplaceProviderWithSequenceConnect({\n\tconfig,\n\tchildren,\n\tanalytics,\n}: MarketplaceSdkProviderProps & { analytics: DatabeatAnalytics }) {\n\tconst { setOpenConnectModal } = useOpenConnectModal();\n\n\tconst context: MarketplaceSdkContextType = {\n\t\t...config,\n\t\topenConnectModal: () => setOpenConnectModal(true),\n\t\tanalytics,\n\t};\n\n\treturn (\n\t\t<MarketplaceSdkContext.Provider value={context}>\n\t\t\t<div id={PROVIDER_ID}>{children}</div>\n\t\t</MarketplaceSdkContext.Provider>\n\t);\n}\n","'use client';\n\nimport { useContext } from 'react';\n\nimport { MarketplaceSdkProviderNotFoundError } from '../../../utils/_internal/error/context';\nimport { MarketplaceSdkContext } from '../../providers';\n\nexport function useConfig() {\n\tconst context = useContext(MarketplaceSdkContext);\n\tif (!context) {\n\t\tthrow new MarketplaceSdkProviderNotFoundError();\n\t}\n\treturn context;\n}\n","'use client';\n\nimport { skipToken, useQuery } from '@tanstack/react-query';\nimport { useAccount } from 'wagmi';\nimport type {\n\tCheckoutOptionsItem,\n\tOptional,\n\tWithOptionalParams,\n\tWithRequired,\n} from '../../_internal';\nimport {\n\ttype FetchPrimarySaleCheckoutOptionsParams,\n\ttype fetchPrimarySaleCheckoutOptions,\n\ttype PrimarySaleCheckoutOptionsQueryOptions,\n\tprimarySaleCheckoutOptionsQueryOptions,\n} from '../../queries/checkout/primary-sale-checkout-options';\nimport { useConfig } from '../config/useConfig';\n\nexport type UsePrimarySaleCheckoutOptionsParams = Optional<\n\tWithOptionalParams<\n\t\tWithRequired<\n\t\t\tPrimarySaleCheckoutOptionsQueryOptions,\n\t\t\t| 'chainId'\n\t\t\t| 'walletAddress'\n\t\t\t| 'contractAddress'\n\t\t\t| 'collectionAddress'\n\t\t\t| 'items'\n\t\t\t| 'config'\n\t\t>\n\t>,\n\t'config' | 'walletAddress'\n>;\n\n/**\n * Hook to fetch checkout options for primary sale contract items\n *\n * Retrieves checkout options including available payment methods, fees, and transaction details\n * for items from a primary sales contract. Requires a connected wallet to calculate wallet-specific options.\n *\n * @param params - Configuration parameters or skipToken to skip the query\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.contractAddress - The primary sales contract address\n * @param params.collectionAddress - The collection contract address\n * @param params.items - Array of items to purchase with tokenId and quantity\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing checkout options with payment methods and fees\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: checkoutOptions, isLoading } = usePrimarySaleCheckoutOptions({\n *   chainId: 137,\n *   contractAddress: '0x1234...',\n *   collectionAddress: '0x5678...',\n *   items: [{\n *     tokenId: '1',\n *     quantity: '1'\n *   }]\n * })\n * ```\n *\n * @example\n * With skipToken to conditionally skip:\n * ```typescript\n * const { data: checkoutOptions } = usePrimarySaleCheckoutOptions(\n *   items.length > 0 ? {\n *     chainId: 1,\n *     contractAddress: contractAddress,\n *     collectionAddress: collectionAddress,\n *     items: items\n *   } : skipToken\n * )\n * ```\n */\nexport function usePrimarySaleCheckoutOptions(\n\tparams: UsePrimarySaleCheckoutOptionsParams | typeof skipToken,\n) {\n\tconst { address } = useAccount();\n\tconst defaultConfig = useConfig();\n\n\tconst queryOptions = primarySaleCheckoutOptionsQueryOptions(\n\t\tparams === skipToken || !address\n\t\t\t? {\n\t\t\t\t\tconfig: defaultConfig,\n\t\t\t\t\twalletAddress:\n\t\t\t\t\t\taddress ?? '0x0000000000000000000000000000000000000000',\n\t\t\t\t\tchainId: 0,\n\t\t\t\t\tcontractAddress:\n\t\t\t\t\t\t'0x0000000000000000000000000000000000000000' as `0x${string}`,\n\t\t\t\t\tcollectionAddress:\n\t\t\t\t\t\t'0x0000000000000000000000000000000000000000' as `0x${string}`,\n\t\t\t\t\titems: [],\n\t\t\t\t\tquery: { enabled: false },\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\t...params,\n\t\t\t\t\tconfig: params.config ?? defaultConfig,\n\t\t\t\t\twalletAddress: address,\n\t\t\t\t},\n\t);\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { primarySaleCheckoutOptionsQueryOptions };\n\nexport type { FetchPrimarySaleCheckoutOptionsParams };\n\n// Legacy exports for backward compatibility\nexport type UsePrimarySaleCheckoutOptionsArgs = {\n\tchainId: number;\n\tcontractAddress: string;\n\tcollectionAddress: string;\n\titems: Array<CheckoutOptionsItem>;\n};\n\nexport type UsePrimarySaleCheckoutOptionsReturn = Awaited<\n\tReturnType<typeof fetchPrimarySaleCheckoutOptions>\n>;\n","import { useQuery } from '@tanstack/react-query';\nimport {\n\ttype BalanceOfCollectibleQueryOptions,\n\tbalanceOfCollectibleOptions,\n} from '../../queries/collectible/balance';\nimport { useConfig } from '../config/useConfig';\n\n/**\n * Hook to fetch the balance of a specific collectible for a user\n *\n * @param args - The arguments for fetching the balance\n * @returns Query result containing the balance data\n *\n * @example\n * ```tsx\n * const { data, isLoading, error } = useCollectibleBalance({\n *   collectionAddress: '0x123...',\n *   tokenId: 1n,\n *   userAddress: '0x456...',\n *   chainId: 1,\n *   query: {\n *     enabled: true,\n *     refetchInterval: 10000,\n *   }\n * });\n * ```\n */\nexport function useCollectibleBalance(\n\targs: Omit<BalanceOfCollectibleQueryOptions, 'config'>,\n) {\n\tconst config = useConfig();\n\n\treturn useQuery(\n\t\tbalanceOfCollectibleOptions({\n\t\t\t...args,\n\t\t\tconfig,\n\t\t}),\n\t);\n}\n","import type { Address } from 'viem';\nimport { useReadContract } from 'wagmi';\nimport {\n\tERC721_ABI,\n\tERC721_SALE_ABI_V0,\n\tERC721_SALE_ABI_V1,\n} from '../../../utils';\nimport { ContractType } from '../../_internal';\nimport {\n\tSalesContractVersion,\n\tuseSalesContractABI,\n} from '../contracts/useSalesContractABI';\n\ninterface UseErc721CollectionDataProps {\n\tchainId: number;\n\tsalesContractAddress: Address;\n\titemsContractAddress: Address;\n\tenabled?: boolean;\n}\n\nexport function useErc721SaleDetails({\n\tchainId,\n\tsalesContractAddress,\n\titemsContractAddress,\n\tenabled = true,\n}: UseErc721CollectionDataProps) {\n\tconst {\n\t\tversion,\n\t\tisLoading: versionLoading,\n\t\terror: versionError,\n\t} = useSalesContractABI({\n\t\tcontractAddress: salesContractAddress,\n\t\tcontractType: ContractType.ERC721,\n\t\tchainId,\n\t\tenabled,\n\t});\n\n\tconst {\n\t\tsaleDetails: saleDetailsV0,\n\t\tquantityMinted: quantityMintedV0,\n\t\tquantityTotal: quantityTotalV0,\n\t\tquantityRemaining: quantityRemainingV0,\n\t\tisLoading: saleDetailsLoadingV0,\n\t\terror: saleDetailsErrorV0,\n\t} = useErc721SaleDetailsV0({\n\t\tchainId,\n\t\tsalesContractAddress,\n\t\titemsContractAddress,\n\t\tenabled: enabled && !versionLoading && version === SalesContractVersion.V0,\n\t});\n\n\tconst {\n\t\tsaleDetails: saleDetailsV1,\n\t\tquantityMinted: quantityMintedV1,\n\t\tquantityTotal: quantityTotalV1,\n\t\tquantityRemaining: quantityRemainingV1,\n\t\tisLoading: saleDetailsLoadingV1,\n\t\terror: saleDetailsErrorV1,\n\t} = useErc721SaleDetailsV1({\n\t\tchainId,\n\t\tsalesContractAddress,\n\t\titemsContractAddress,\n\t\tenabled: enabled && !versionLoading && version === SalesContractVersion.V1,\n\t});\n\n\tconst saleDetails = saleDetailsV0 || saleDetailsV1;\n\tconst quantityMinted = quantityMintedV0 || quantityMintedV1;\n\tconst quantityTotal = quantityTotalV0 || quantityTotalV1;\n\tconst quantityRemaining = quantityRemainingV0 || quantityRemainingV1;\n\n\treturn {\n\t\tsaleDetails,\n\t\tquantityMinted,\n\t\tquantityTotal,\n\t\tquantityRemaining,\n\t\tisLoading: versionLoading || saleDetailsLoadingV0 || saleDetailsLoadingV1,\n\t\terror: versionError || saleDetailsErrorV0 || saleDetailsErrorV1,\n\t};\n}\n\nconst useErc721SaleDetailsV0 = ({\n\tchainId,\n\tsalesContractAddress,\n\titemsContractAddress,\n\tenabled,\n}: UseErc721CollectionDataProps) => {\n\tconst {\n\t\tdata: saleDetails,\n\t\tisLoading: saleDetailsLoading,\n\t\terror: saleDetailsError,\n\t} = useReadContract({\n\t\tchainId,\n\t\taddress: salesContractAddress,\n\t\tabi: ERC721_SALE_ABI_V0,\n\t\tfunctionName: 'saleDetails',\n\t\tquery: {\n\t\t\tenabled,\n\t\t},\n\t});\n\n\tconst {\n\t\tdata: erc721TotalSupply,\n\t\tisLoading: erc721SupplyLoading,\n\t\terror: erc721SupplyError,\n\t} = useReadContract({\n\t\tchainId,\n\t\taddress: itemsContractAddress,\n\t\tabi: ERC721_ABI,\n\t\tfunctionName: 'totalSupply',\n\t\tquery: {\n\t\t\tenabled,\n\t\t},\n\t});\n\n\tconst supplyCap = saleDetails?.supplyCap;\n\tconst totalMinted = erc721TotalSupply;\n\n\tlet quantityRemaining: bigint | undefined;\n\tif (supplyCap !== undefined && totalMinted !== undefined) {\n\t\tquantityRemaining = supplyCap - totalMinted;\n\t}\n\n\treturn {\n\t\tsaleDetails,\n\t\tquantityMinted: erc721TotalSupply,\n\t\tquantityTotal: supplyCap,\n\t\tquantityRemaining,\n\t\tisLoading: saleDetailsLoading || erc721SupplyLoading,\n\t\terror: saleDetailsError || erc721SupplyError,\n\t};\n};\n\nconst useErc721SaleDetailsV1 = ({\n\tchainId,\n\tsalesContractAddress,\n\titemsContractAddress,\n\tenabled,\n}: UseErc721CollectionDataProps) => {\n\tconst {\n\t\tdata: saleDetails,\n\t\tisLoading: saleDetailsLoading,\n\t\terror: saleDetailsError,\n\t} = useReadContract({\n\t\tchainId,\n\t\taddress: salesContractAddress,\n\t\tabi: ERC721_SALE_ABI_V1,\n\t\tfunctionName: 'saleDetails',\n\t\tquery: {\n\t\t\tenabled,\n\t\t},\n\t});\n\n\tconst {\n\t\tdata: erc721TotalSupply,\n\t\tisLoading: erc721SupplyLoading,\n\t\terror: erc721SupplyError,\n\t} = useReadContract({\n\t\tchainId,\n\t\taddress: itemsContractAddress,\n\t\tabi: ERC721_ABI,\n\t\tfunctionName: 'totalSupply',\n\t\tquery: {\n\t\t\tenabled,\n\t\t},\n\t});\n\n\tlet quantityTotal: bigint | undefined;\n\n\tif (\n\t\tsaleDetails?.remainingSupply !== undefined &&\n\t\terc721TotalSupply !== undefined\n\t) {\n\t\tquantityTotal = erc721TotalSupply + saleDetails.remainingSupply;\n\t}\n\n\treturn {\n\t\tsaleDetails,\n\t\tquantityMinted: erc721TotalSupply,\n\t\tquantityTotal,\n\t\tquantityRemaining: saleDetails?.remainingSupply,\n\t\tisLoading: saleDetailsLoading || erc721SupplyLoading,\n\t\terror: saleDetailsError || erc721SupplyError,\n\t};\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype fetchListCollectibleActivities,\n\ttype ListCollectibleActivitiesQueryOptions,\n\tlistCollectibleActivitiesQueryOptions,\n} from '../../queries/collectible/market-activities';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketActivitiesParams = Optional<\n\tListCollectibleActivitiesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch a list of activities for a specific collectible\n *\n * Fetches activities (transfers, sales, offers, etc.) for a specific token\n * from the marketplace with support for pagination and sorting.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The specific token ID to fetch activities for\n * @param params.page - Page number to fetch (default: 1)\n * @param params.pageSize - Number of activities per page (default: 10)\n * @param params.sort - Sort order for activities\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing activities data\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketActivities({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '123'\n * })\n * ```\n *\n * @example\n * With pagination:\n * ```typescript\n * const { data } = useCollectibleMarketActivities({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   tokenId: '456',\n *   page: 2,\n *   pageSize: 20\n * })\n * ```\n *\n * @example\n * With sorting:\n * ```typescript\n * const { data } = useCollectibleMarketActivities({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '789',\n *   sort: 'timestamp_desc',\n *   pageSize: 50\n * })\n * ```\n */\nexport function useCollectibleMarketActivities(\n\tparams: UseCollectibleMarketActivitiesParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listCollectibleActivitiesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listCollectibleActivitiesQueryOptions };\n\nexport type { ListCollectibleActivitiesQueryOptions };\n\n// Legacy exports for backward compatibility during migration\nexport type UseListCollectibleActivitiesRequest =\n\tUseCollectibleMarketActivitiesParams;\nexport type UseListCollectibleActivitiesParams =\n\tUseCollectibleMarketActivitiesParams;\nexport type UseListCollectibleActivitiesResponse = Awaited<\n\tReturnType<typeof fetchListCollectibleActivities>\n>;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CountOfCollectablesQueryOptions,\n\tcountOfCollectablesQueryOptions,\n\ttype FetchCountOfCollectablesParams,\n} from '../../queries/collectible/market-count';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketCountParams = Optional<\n\tCountOfCollectablesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to get the count of collectibles in a market collection\n *\n * Counts either all collectibles or filtered collectibles based on provided parameters.\n * When filter and side parameters are provided, returns count of filtered collectibles.\n * Otherwise returns count of all collectibles in the collection.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.filter - Optional filter criteria for collectibles\n * @param params.side - Optional order side (BUY/SELL) when using filters\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the count of collectibles\n *\n * @example\n * Basic usage (count all collectibles):\n * ```typescript\n * const { data: totalCount, isLoading } = useCollectibleMarketCount({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With filters (count filtered collectibles):\n * ```typescript\n * const { data: filteredCount } = useCollectibleMarketCount({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   filter: { priceRange: { min: '1000000000000000000' } },\n *   side: OrderSide.SELL\n * })\n * ```\n */\nexport function useCollectibleMarketCount(\n\tparams: UseCollectibleMarketCountParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = countOfCollectablesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { countOfCollectablesQueryOptions };\n\nexport type { FetchCountOfCollectablesParams, CountOfCollectablesQueryOptions };\n","'use client';\n\nimport type { Order } from '@0xsequence/api-client';\nimport { type UseQueryResult, useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype HighestOfferQueryOptions,\n\thighestOfferQueryOptions,\n} from '../../queries/collectible/market-highest-offer';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketHighestOfferParams = Optional<\n\tHighestOfferQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch the highest offer for a collectible\n *\n * Retrieves the highest offer currently available for a specific token\n * in a collection from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The token ID within the collection\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the highest offer data or null if no offers exist\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketHighestOffer({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '1'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketHighestOffer({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   tokenId: '42',\n *   query: {\n *     refetchInterval: 15000,\n *     enabled: hasTokenId\n *   }\n * })\n * ```\n */\nexport function useCollectibleMarketHighestOffer(\n\tparams: UseCollectibleMarketHighestOfferParams,\n): UseQueryResult<Order | undefined, Error> {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = highestOfferQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { highestOfferQueryOptions };\n\nexport type { HighestOfferQueryOptions };\n","'use client';\n\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype ListCollectiblesQueryOptions,\n\tlistCollectiblesQueryOptions,\n} from '../../queries/collectible/market-list';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketListParams = Optional<\n\tListCollectiblesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch a list of collectibles with infinite pagination support\n *\n * Fetches collectibles from the marketplace with support for filtering, pagination,\n * and special handling for shop marketplace types.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.side - Order side (listing or bid)\n * @param params.filter - Optional filtering parameters\n * @param params.marketplaceType - Type of marketplace (shop, etc.)\n * @param params.query - Optional React Query configuration\n *\n * @returns Infinite query result containing collectibles data with pagination\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading, fetchNextPage, hasNextPage } = useCollectibleMarketList {\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing\n * })\n * ```\n *\n * @example\n * With filtering:\n * ```typescript\n * const { data, fetchNextPage } = useCollectibleMarketList {\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   filter: {\n *     searchText: 'dragon',\n *     includeEmpty: false,\n *     marketplaces: [MarketplaceKind.sequence_marketplace_v2]\n *   }\n * })\n * ```\n */\nexport function useCollectibleMarketList(\n\tparams: UseCollectibleMarketListParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listCollectiblesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useInfiniteQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listCollectiblesQueryOptions };\n\nexport type { ListCollectiblesQueryOptions };\n\n// Legacy export for backward compatibility during migration\nexport type UseListCollectiblesParams = UseCollectibleMarketListParams;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchListCollectiblesPaginatedParams,\n\ttype fetchListCollectiblesPaginated,\n\ttype ListCollectiblesPaginatedQueryOptions,\n\tlistCollectiblesPaginatedQueryOptions,\n} from '../../queries/collectible/market-list-paginated';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketListPaginatedParams = Optional<\n\tListCollectiblesPaginatedQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch a list of collectibles with pagination support\n *\n * Fetches collectibles from the marketplace with support for filtering and pagination.\n * Unlike the infinite query version, this hook fetches a specific page of results.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.side - Order side (listing or bid)\n * @param params.filter - Optional filtering parameters\n * @param params.page - Page number to fetch (default: 1)\n * @param params.pageSize - Number of items per page (default: 30)\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing collectibles data for the specific page\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketListPaginated({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   page: 1,\n *   pageSize: 20\n * })\n * ```\n *\n * @example\n * With filtering:\n * ```typescript\n * const { data } = useCollectibleMarketListPaginated({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   page: 2,\n *   pageSize: 50,\n *   filter: {\n *     searchText: 'rare',\n *     includeEmpty: false\n *   }\n * })\n * ```\n *\n * @example\n * Controlled pagination:\n * ```typescript\n * const [currentPage, setCurrentPage] = useState(1);\n * const { data, isLoading } = useCollectibleMarketListPaginated({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   page: currentPage,\n *   pageSize: 25\n * });\n *\n * const hasMorePages = data?.page?.more;\n * ```\n */\nexport function useCollectibleMarketListPaginated(\n\tparams: UseCollectibleMarketListPaginatedParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listCollectiblesPaginatedQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listCollectiblesPaginatedQueryOptions };\n\nexport type {\n\tFetchListCollectiblesPaginatedParams,\n\tListCollectiblesPaginatedQueryOptions,\n};\n\n// Legacy exports for backward compatibility during migration\nexport type UseListCollectiblesPaginatedArgs =\n\tUseCollectibleMarketListPaginatedParams;\nexport type UseListCollectiblesPaginatedParams =\n\tUseCollectibleMarketListPaginatedParams;\nexport type UseListCollectiblesPaginatedReturn = Awaited<\n\tReturnType<typeof fetchListCollectiblesPaginated>\n>;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype fetchListListingsForCollectible,\n\ttype ListListingsForCollectibleQueryOptions,\n\tlistListingsForCollectibleQueryOptions,\n} from '../../queries/collectible/market-listings';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketListingsParams = Optional<\n\tListListingsForCollectibleQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch listings for a specific collectible\n *\n * Fetches active listings (sales) for a specific token from the marketplace\n * with support for filtering and pagination.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The specific token ID to fetch listings for\n * @param params.filter - Optional filtering parameters (marketplace, currencies, etc.)\n * @param params.page - Optional pagination parameters\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing listings data for the collectible\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketListings({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: 123n\n * })\n * ```\n *\n * @example\n * With pagination:\n * ```typescript\n * const { data } = useCollectibleMarketListings({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   tokenId: 456n,\n *   page: {\n *     page: 2,\n *     pageSize: 20\n *   }\n * })\n * ```\n *\n * @example\n * With filtering:\n * ```typescript\n * const { data } = useCollectibleMarketListings({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: 789n,\n *   filter: {\n *     marketplace: [MarketplaceKind.sequence_marketplace_v2],\n *     currencies: ['0x...'] // Specific currency addresses\n *   }\n * })\n * ```\n */\nexport function useCollectibleMarketListings(\n\tparams: UseCollectibleMarketListingsParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listListingsForCollectibleQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listListingsForCollectibleQueryOptions };\n\nexport type { ListListingsForCollectibleQueryOptions };\n\n// Legacy exports for backward compatibility during migration\nexport type UseListListingsForCollectibleArgs =\n\tUseListListingsForCollectibleParams;\nexport type UseListListingsForCollectibleResponse = Awaited<\n\tReturnType<typeof fetchListListingsForCollectible>\n>;\nexport type UseListListingsForCollectibleParams =\n\tUseCollectibleMarketListingsParams;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CountListingsForCollectibleQueryOptions,\n\tcountListingsForCollectibleQueryOptions,\n\ttype FetchCountListingsForCollectibleParams,\n} from '../../queries/collectible/market-listings-count';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketListingsCountParams = Optional<\n\tCountListingsForCollectibleQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to get the count of listings for a specific collectible\n *\n * Counts the number of active listings for a given collectible in the marketplace.\n * Useful for displaying listing counts in UI components.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The specific collectible/token ID\n * @param params.filter - Optional filter criteria for listings\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the count of listings\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: listingCount, isLoading } = useCollectibleMarketListingsCount({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '123'\n * })\n * ```\n *\n * @example\n * With filter:\n * ```typescript\n * const { data: filteredCount } = useCollectibleMarketListingsCount({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '123',\n *   filter: { priceRange: { min: '1000000000000000000' } }\n * })\n * ```\n */\nexport function useCollectibleMarketListingsCount(\n\tparams: UseCollectibleMarketListingsCountParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = countListingsForCollectibleQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { countListingsForCollectibleQueryOptions };\n\nexport type {\n\tFetchCountListingsForCollectibleParams,\n\tCountListingsForCollectibleQueryOptions,\n};\n","'use client';\n\nimport type { Order } from '@0xsequence/api-client';\nimport { type UseQueryResult, useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype LowestListingQueryOptions,\n\tlowestListingQueryOptions,\n} from '../../queries/collectible/market-lowest-listing';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketLowestListingParams = Optional<\n\tLowestListingQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch the lowest listing for a collectible\n *\n * Retrieves the lowest priced listing currently available for a specific token\n * in a collection from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The token ID within the collection\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the lowest listing data or null if no listings exist\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketLowestListing({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '1'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketLowestListing({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   tokenId: '42',\n *   query: {\n *     refetchInterval: 15000,\n *     enabled: hasTokenId\n *   }\n * })\n * ```\n */\nexport function useCollectibleMarketLowestListing(\n\tparams: UseCollectibleMarketLowestListingParams,\n): UseQueryResult<Order | undefined, Error> {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = lowestListingQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { lowestListingQueryOptions };\n\nexport type { LowestListingQueryOptions };\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype ListOffersForCollectibleQueryOptions,\n\tlistOffersForCollectibleQueryOptions,\n} from '../../queries/collectible/market-offers';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketOffersParams = Optional<\n\tListOffersForCollectibleQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch offers for a specific collectible\n *\n * Fetches offers for a specific collectible from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The specific token ID to fetch offers for\n * @param params.filter - Optional filtering parameters\n * @param params.page - Optional pagination parameters\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing offers data\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectibleMarketOffers({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: 1n\n * })\n * ```\n *\n * @example\n * With filtering:\n * ```typescript\n * const { data } = useCollectibleMarketOffers({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   tokenId: 1n,\n *   filter: {\n *     marketplace: [MarketplaceKind.sequence_marketplace_v2]\n *   }\n * })\n * ```\n */\nexport function useCollectibleMarketOffers(\n\tparams: UseCollectibleMarketOffersParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listOffersForCollectibleQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listOffersForCollectibleQueryOptions };\n\nexport type { ListOffersForCollectibleQueryOptions };\n\n// Legacy export for backward compatibility during migration\nexport type UseListOffersForCollectibleRequest =\n\tUseListOffersForCollectibleParams;\nexport type UseListOffersForCollectibleParams =\n\tUseCollectibleMarketOffersParams;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CountOffersForCollectibleQueryOptions,\n\tcountOffersForCollectibleQueryOptions,\n\ttype FetchCountOffersForCollectibleParams,\n} from '../../queries/collectible/market-offers-count';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMarketOffersCountParams = Optional<\n\tCountOffersForCollectibleQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to get the count of offers for a specific collectible\n *\n * Counts the number of active offers for a given collectible in the marketplace.\n * Useful for displaying offer counts in UI components.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.tokenId - The specific collectible/token ID\n * @param params.filter - Optional filter criteria for offers\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the count of offers\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: offerCount, isLoading } = useCollectibleMarketOffersCount({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '123'\n * })\n * ```\n *\n * @example\n * With filter:\n * ```typescript\n * const { data: filteredCount } = useCollectibleMarketOffersCount({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '123',\n *   filter: { priceRange: { min: '1000000000000000000' } }\n * })\n * ```\n */\nexport function useCollectibleMarketOffersCount(\n\tparams: UseCollectibleMarketOffersCountParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = countOffersForCollectibleQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { countOffersForCollectibleQueryOptions };\n\nexport type {\n\tFetchCountOffersForCollectibleParams,\n\tCountOffersForCollectibleQueryOptions,\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CollectibleQueryOptions,\n\tcollectibleQueryOptions,\n\ttype FetchCollectibleParams,\n} from '../../queries/collectible/metadata';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectibleMetadataParams = Optional<\n\tCollectibleQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch metadata for a specific collectible\n *\n * This hook retrieves metadata for an individual NFT from a collection,\n * including properties like name, description, image, attributes, etc.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.contractAddress - The collection contract address\n * @param params.tokenId - The token ID of the collectible\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the collectible metadata\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: collectible, isLoading } = useCollectibleMetadata({\n *   chainId: 137,\n *   contractAddress: '0x631998e91476da5b870d741192fc5cbc55f5a52e',\n *   tokenId: '12345'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data } = useCollectibleMetadata({\n *   chainId: 137,\n *   contractAddress: '0x631998e91476da5b870d741192fc5cbc55f5a52e',\n *   tokenId: '12345',\n *   query: {\n *     enabled: Boolean(contractAddress && tokenId),\n *     staleTime: 30_000\n *   }\n * })\n * ```\n */\nexport function useCollectibleMetadata(params: UseCollectibleMetadataParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = collectibleQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { collectibleQueryOptions };\n\nexport type { FetchCollectibleParams, CollectibleQueryOptions };\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype PrimarySaleItemQueryOptions,\n\tprimarySaleItemQueryOptions,\n} from '../../queries/collectible/primary-sale-item';\nimport { useConfig } from '../config/useConfig';\n\nexport type UsePrimarySaleItemParams = Optional<\n\tPrimarySaleItemQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch a single primary sale item\n *\n * Retrieves details for a specific primary sale item from a primary sale contract.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (number)\n * @param params.primarySaleContractAddress - The primary sale contract address\n * @param params.tokenId - The token ID of the primary sale item (string or bigint)\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the primary sale item data\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: item, isLoading } = usePrimarySaleItem({\n *   chainId: 137,\n *   primarySaleContractAddress: '0x...',\n *   tokenId: '1',\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data } = usePrimarySaleItem({\n *   chainId: 1,\n *   primarySaleContractAddress: '0x...',\n *   tokenId: '42',\n *   query: {\n *     staleTime: 30_000\n *   }\n * })\n * ```\n */\nexport function usePrimarySaleItem(params: UsePrimarySaleItemParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = primarySaleItemQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { primarySaleItemQueryOptions };\n\nexport type { PrimarySaleItemQueryOptions };\n","'use client';\n\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype ListPrimarySaleItemsQueryOptions,\n\tprimarySaleItemsQueryOptions,\n} from '../../queries/collectible/primary-sale-items';\nimport { useConfig } from '../config/useConfig';\n\nexport type UsePrimarySaleItemsParams = Optional<\n\tListPrimarySaleItemsQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch primary sale items with pagination support\n *\n * Retrieves a paginated list of primary sale items for a specific contract address\n * from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.primarySaleContractAddress - The primary sale contract address\n * @param params.filter - Optional filter parameters for the query\n * @param params.page - Optional pagination parameters\n * @param params.query - Optional React Query configuration\n *\n * @returns Infinite query result containing the primary sale items data\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = usePrimarySaleItems({\n *   chainId: 137,\n *   primarySaleContractAddress: '0x...',\n * })\n * ```\n *\n * @example\n * With filters and pagination:\n * ```typescript\n * const { data, isLoading } = usePrimarySaleItems({\n *   chainId: 1,\n *   primarySaleContractAddress: '0x...',\n *   filter: { status: 'active' },\n *   page: { page: 1, pageSize: 20 },\n *   query: {\n *     enabled: isReady\n *   }\n * })\n * ```\n */\nexport function usePrimarySaleItems(params: UsePrimarySaleItemsParams) {\n\tconst defaultConfig = useConfig();\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = primarySaleItemsQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useInfiniteQuery(queryOptions);\n}\n\nexport type { ListPrimarySaleItemsQueryOptions };\n","import { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport type { ListPrimarySaleItemsQueryOptions } from '../../queries/collectible/primary-sale-items';\nimport { primarySaleItemsCountQueryOptions } from '../../queries/collectible/primary-sale-items-count';\nimport { useConfig } from '../config/useConfig';\n\nexport type UsePrimarySaleItemsCountParams = Optional<\n\tListPrimarySaleItemsQueryOptions,\n\t'config'\n>;\n\nexport function usePrimarySaleItemsCount(args: UsePrimarySaleItemsCountParams) {\n\tconst defaultConfig = useConfig();\n\tconst { config = defaultConfig, ...rest } = args;\n\n\tconst queryOptions = primarySaleItemsCountQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery(queryOptions);\n}\n","import { useQuery } from '@tanstack/react-query';\nimport {\n\ttype TokenBalancesQueryOptions,\n\ttokenBalancesOptions,\n} from '../../queries/collectible/token-balances';\nimport { useConfig } from '../config/useConfig';\n\n/**\n * Hook to fetch all token balances for a user in a collection\n *\n * @param args - The arguments for fetching the balances\n * @returns Query result containing the balances data\n *\n * @example\n * ```tsx\n * const { data, isLoading, error } = useCollectibleTokenBalances({\n *   collectionAddress: '0x123...',\n *   userAddress: '0x456...',\n *   chainId: 1,\n *   query: {\n *     enabled: true,\n *     refetchInterval: 10000,\n *   }\n * });\n * ```\n */\nexport function useCollectibleTokenBalances(\n\targs: Omit<TokenBalancesQueryOptions, 'config'>,\n) {\n\tconst config = useConfig();\n\n\treturn useQuery(\n\t\ttokenBalancesOptions({\n\t\t\t...args,\n\t\t\tconfig,\n\t\t}),\n\t);\n}\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CollectionBalanceDetailsQueryOptions,\n\ttype CollectionBalanceFilter,\n\tcollectionBalanceDetailsQueryOptions,\n\ttype FetchCollectionBalanceDetailsParams,\n\ttype fetchCollectionBalanceDetails,\n} from '../../queries/collection/balance-details';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionBalanceDetailsParams = Optional<\n\tCollectionBalanceDetailsQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch detailed balance information for multiple accounts\n *\n * Retrieves token balances and native balances for multiple account addresses,\n * with support for contract whitelisting and optional native balance exclusion.\n * Aggregates results from multiple account addresses into a single response.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.filter - Filter configuration for balance queries\n * @param params.filter.accountAddresses - Array of account addresses to query balances for\n * @param params.filter.contractWhitelist - Optional array of contract addresses to filter by\n * @param params.filter.omitNativeBalances - Whether to exclude native token balances\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing aggregated balance details for all accounts\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: balanceDetails, isLoading } = useCollectionBalanceDetails({\n *   chainId: 137,\n *   filter: {\n *     accountAddresses: ['0x1234...', '0x5678...'],\n *     omitNativeBalances: false\n *   }\n * })\n *\n * if (data) {\n *   console.log(`Found ${data.balances.length} token balances`);\n *   console.log(`Found ${data.nativeBalances.length} native balances`);\n * }\n * ```\n *\n * @example\n * With contract whitelist:\n * ```typescript\n * const { data: balanceDetails } = useCollectionBalanceDetails({\n *   chainId: 1,\n *   filter: {\n *     accountAddresses: [userAddress],\n *     contractWhitelist: ['0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'], // USDC only\n *     omitNativeBalances: true\n *   },\n *   query: {\n *     enabled: Boolean(userAddress),\n *     refetchInterval: 60000 // Refresh every minute\n *   }\n * })\n * ```\n */\nexport function useCollectionBalanceDetails(\n\tparams: UseCollectionBalanceDetailsParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = collectionBalanceDetailsQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { collectionBalanceDetailsQueryOptions };\n\nexport type {\n\tFetchCollectionBalanceDetailsParams,\n\tCollectionBalanceDetailsQueryOptions,\n\tCollectionBalanceFilter,\n};\n\n// Legacy exports for backward compatibility\nexport type UseCollectionBalanceDetailsArgs = {\n\tchainId: number;\n\tfilter: CollectionBalanceFilter;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nexport type UseCollectionBalanceDetailsReturn = Awaited<\n\tReturnType<typeof fetchCollectionBalanceDetails>\n>;\n","import { useQuery } from '@tanstack/react-query';\nimport { marketplaceConfigOptions } from '../../queries/marketplace/config';\nimport { useConfig } from '../config/useConfig';\n\nexport const useMarketplaceConfig = () => {\n\tconst config = useConfig();\n\treturn useQuery(marketplaceConfigOptions(config));\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchListCollectionsParams,\n\ttype ListCollectionsQueryOptions,\n\tlistCollectionsQueryOptions,\n} from '../../queries/collection/list';\nimport { useConfig } from '../config/useConfig';\nimport { useMarketplaceConfig } from '../config/useMarketplaceConfig';\n\nexport type UseCollectionListParams = Optional<\n\tListCollectionsQueryOptions,\n\t'config' | 'marketplaceConfig'\n>;\n\n/**\n * Hook to fetch collections from marketplace configuration\n *\n * Retrieves all collections configured in the marketplace, with optional filtering\n * by marketplace type. Combines metadata from the metadata API with marketplace\n * configuration to provide complete collection information.\n *\n * @param params - Configuration parameters\n * @param params.marketplaceType - Optional filter by marketplace type\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing array of collections with metadata\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: collections, isLoading } = useListCollections();\n *\n * if (isLoading) return <div>Loading collections...</div>;\n *\n * return (\n *   <div>\n *     {collections?.map(collection => (\n *       <div key={collection.itemsAddress}>\n *         {collection.name}\n *       </div>\n *     ))}\n *   </div>\n * );\n * ```\n *\n * @example\n * Filtering by marketplace type:\n * ```typescript\n * const { data: marketCollections } = useCollectionList({\n *   marketplaceType: 'market'\n * });\n * ```\n */\nexport function useCollectionList(params: UseCollectionListParams = {}) {\n\tconst defaultConfig = useConfig();\n\tconst { data: marketplaceConfig } = useMarketplaceConfig();\n\n\tconst {\n\t\tconfig = defaultConfig,\n\t\tmarketplaceConfig: paramMarketplaceConfig,\n\t\t...rest\n\t} = params;\n\n\tconst queryOptions = listCollectionsQueryOptions({\n\t\tconfig,\n\t\tmarketplaceConfig: paramMarketplaceConfig || marketplaceConfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listCollectionsQueryOptions };\n\nexport type { FetchListCollectionsParams, ListCollectionsQueryOptions };\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype fetchListCollectionActivities,\n\ttype ListCollectionActivitiesQueryOptions,\n\tlistCollectionActivitiesQueryOptions,\n} from '../../queries/collection/market-activities';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketActivitiesParams = Optional<\n\tListCollectionActivitiesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch a list of activities for an entire collection\n *\n * Fetches activities (transfers, sales, offers, etc.) for all tokens\n * in a collection from the marketplace with support for pagination and sorting.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.page - Page number to fetch (default: 1)\n * @param params.pageSize - Number of activities per page (default: 10)\n * @param params.sort - Sort order for activities\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing activities data for the collection\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectionMarketActivities({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With pagination:\n * ```typescript\n * const { data } = useCollectionMarketActivities({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   page: 2,\n *   pageSize: 20\n * })\n * ```\n *\n * @example\n * With sorting:\n * ```typescript\n * const { data } = useCollectionMarketActivities({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   sort: [{ column: 'createdAt', order: SortOrder.DESC }],\n *   pageSize: 50\n * })\n * ```\n */\nexport function useCollectionMarketActivities(\n\tparams: UseCollectionMarketActivitiesParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listCollectionActivitiesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listCollectionActivitiesQueryOptions };\n\nexport type { ListCollectionActivitiesQueryOptions };\n\n// Legacy exports for backward compatibility during migration\nexport type UseListCollectionActivitiesRequest =\n\tUseListCollectionActivitiesParams;\nexport type UseListCollectionActivitiesResponse = Awaited<\n\tReturnType<typeof fetchListCollectionActivities>\n>;\nexport type UseListCollectionActivitiesParams =\n\tUseCollectionMarketActivitiesParams;\n","import type { Address } from '@0xsequence/api-client';\nimport { queryOptions, useQuery } from '@tanstack/react-query';\nimport type { SdkConfig } from '../../../types';\nimport { CollectionStatus } from '../../_internal';\nimport { collectionMarketDetailQueryOptions } from '../../queries/collection/market-detail';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketDetailPollingParams = {\n\tcollectionAddress: Address;\n\tchainId: number;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nconst INITIAL_POLLING_INTERVAL = 2000; // 2 seconds\nconst MAX_POLLING_INTERVAL = 30000; // 30 seconds\nconst MAX_ATTEMPTS = 30;\n\nconst isTerminalState = (status: CollectionStatus): boolean => {\n\treturn [\n\t\tCollectionStatus.active,\n\t\tCollectionStatus.failed,\n\t\tCollectionStatus.inactive,\n\t\tCollectionStatus.incompatible_type,\n\t].includes(status);\n};\n\nexport const collectionMarketDetailPollingOptions = (\n\targs: UseCollectionMarketDetailPollingParams,\n\tconfig: SdkConfig,\n) => {\n\treturn queryOptions({\n\t\t...collectionMarketDetailQueryOptions({ ...args, config }),\n\t\trefetchInterval: (query) => {\n\t\t\tconst data = query.state.data;\n\t\t\tif (data && isTerminalState(data.status)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Calculate exponential backoff interval\n\t\t\tconst currentAttempt = (query.state.dataUpdateCount || 0) + 1;\n\t\t\tif (currentAttempt >= MAX_ATTEMPTS) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst interval = Math.min(\n\t\t\t\tINITIAL_POLLING_INTERVAL * 1.5 ** currentAttempt,\n\t\t\t\tMAX_POLLING_INTERVAL,\n\t\t\t);\n\n\t\t\treturn interval;\n\t\t},\n\t\trefetchOnWindowFocus: false,\n\t\tretry: false,\n\t\tenabled: args.query?.enabled ?? true,\n\t});\n};\n\nexport const useCollectionMarketDetailPolling = (\n\targs: UseCollectionMarketDetailPollingParams,\n) => {\n\tconst config = useConfig();\n\treturn useQuery(collectionMarketDetailPollingOptions(args, config));\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchGetCountOfFilteredOrdersParams,\n\ttype GetCountOfFilteredOrdersQueryOptions,\n\tgetCountOfFilteredOrdersQueryOptions,\n} from '../../queries/collection/market-filtered-count';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketFilteredCountParams = Optional<\n\tGetCountOfFilteredOrdersQueryOptions,\n\t'config'\n>;\n\nexport function useCollectionMarketFilteredCount(\n\tparams: UseCollectionMarketFilteredCountParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = getCountOfFilteredOrdersQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { getCountOfFilteredOrdersQueryOptions };\n\nexport type {\n\tFetchGetCountOfFilteredOrdersParams,\n\tGetCountOfFilteredOrdersQueryOptions,\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FloorOrderQueryOptions,\n\tfloorOrderQueryOptions,\n} from '../../queries/collection/market-floor';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketFloorParams = Optional<\n\tFloorOrderQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch the floor order for a collection\n *\n * Retrieves the lowest priced order (listing) currently available for any token\n * in the specified collection from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.filter - Optional filter criteria for collectibles\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the floor order data for the collection\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectionMarketFloor({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With filters and custom query options:\n * ```typescript\n * const { data, isLoading } = useCollectionMarketFloor({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   filter: {\n *     minPrice: '1000000000000000000' // 1 ETH in wei\n *   },\n *   query: {\n *     refetchInterval: 30000,\n *     enabled: hasCollectionAddress\n *   }\n * })\n * ```\n */\nexport function useCollectionMarketFloor(\n\tparams: UseCollectionMarketFloorParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = floorOrderQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { floorOrderQueryOptions };\n\nexport type { FloorOrderQueryOptions };\n","'use client';\n\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchListItemsOrdersForCollectionParams,\n\ttype fetchListItemsOrdersForCollection,\n\ttype ListItemsOrdersForCollectionQueryOptions,\n\tlistItemsOrdersForCollectionQueryOptions,\n} from '../../queries/collection/market-items';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketItemsParams = Optional<\n\tListItemsOrdersForCollectionQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch all listings for a collection with infinite pagination support\n *\n * Fetches active listings (sales) for all tokens in a collection from the marketplace\n * with support for filtering and infinite scroll pagination.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.filter - Optional filtering parameters (marketplace, currencies, etc.)\n * @param params.query - Optional React Query configuration\n *\n * @returns Infinite query result containing listings data with pagination\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading, fetchNextPage, hasNextPage } = useCollectionMarketItems({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With filtering:\n * ```typescript\n * const { data, fetchNextPage } = useCollectionMarketItems({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   filter: {\n *     marketplace: [MarketplaceKind.sequence_marketplace_v2],\n *     currencies: ['0x...']\n *   }\n * })\n * ```\n *\n * @example\n * Accessing paginated data:\n * ```typescript\n * const { data } = useCollectionMarketItems({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n *\n * const allListings = data?.pages.flatMap(page => page.listings) ?? []\n * ```\n */\nexport function useCollectionMarketItems(\n\tparams: UseCollectionMarketItemsParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listItemsOrdersForCollectionQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useInfiniteQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listItemsOrdersForCollectionQueryOptions };\n\nexport type {\n\tFetchListItemsOrdersForCollectionParams,\n\tListItemsOrdersForCollectionQueryOptions,\n};\n\nexport type UseListItemsOrdersForCollectionArgs =\n\tUseListItemsOrdersForCollectionParams;\nexport type UseListItemsOrdersForCollectionReturn = Awaited<\n\tReturnType<typeof fetchListItemsOrdersForCollection>\n>;\nexport type UseListItemsOrdersForCollectionParams =\n\tUseCollectionMarketItemsParams;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CountItemsOrdersForCollectionQueryOptions,\n\tcountItemsOrdersForCollectionQueryOptions,\n\ttype FetchCountItemsOrdersForCollectionParams,\n} from '../../queries/collection/market-items-count';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketItemsCountParams = Optional<\n\tCountItemsOrdersForCollectionQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to get the count of orders for a collection\n *\n * Counts the total number of active orders (listings) for all tokens\n * in a collection. Useful for displaying order counts in collection UI.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.filter - Optional filter criteria for orders\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the count of orders\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: orderCount, isLoading } = useCollectionMarketItemsCount({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With filter:\n * ```typescript\n * const { data: filteredCount } = useCollectionMarketItemsCount({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   filter: {\n *     marketplace: [MarketplaceKind.sequence_marketplace_v2]\n *   }\n * })\n * ```\n *\n * @example\n * Combined with list hook:\n * ```typescript\n * const { data: totalCount } = useCollectionMarketItemsCount({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n *\n * const { data: orders } = useListItemsOrdersForCollection({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n *\n * return <div>Showing {orders?.pages[0]?.listings.length ?? 0} of {totalCount} orders</div>\n * ```\n */\nexport function useCollectionMarketItemsCount(\n\tparams: UseCollectionMarketItemsCountParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = countItemsOrdersForCollectionQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { countItemsOrdersForCollectionQueryOptions };\n\nexport type {\n\tFetchCountItemsOrdersForCollectionParams,\n\tCountItemsOrdersForCollectionQueryOptions,\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchListItemsOrdersForCollectionPaginatedParams,\n\ttype fetchListItemsOrdersForCollectionPaginated,\n\ttype ListItemsOrdersForCollectionPaginatedQueryOptions,\n\tlistItemsOrdersForCollectionPaginatedQueryOptions,\n} from '../../queries/collection/market-items-paginated';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMarketItemsPaginatedParams = Optional<\n\tListItemsOrdersForCollectionPaginatedQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch all listings for a collection with pagination support\n *\n * Fetches active listings (sales) for all tokens in a collection from the marketplace\n * with support for filtering and pagination. Unlike the infinite query version,\n * this hook fetches a specific page of results.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.side - Order side (listing or bid)\n * @param params.filter - Optional filtering parameters (marketplace, currencies, etc.)\n * @param params.page - Page number to fetch (default: 1)\n * @param params.pageSize - Number of items per page (default: 30)\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing listings data for the specific page\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectionMarketItemsPaginated({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   page: 1,\n *   pageSize: 20\n * })\n * ```\n *\n * @example\n * With filtering:\n * ```typescript\n * const { data } = useCollectionMarketItemsPaginated({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   page: 2,\n *   pageSize: 50,\n *   filter: {\n *     marketplace: [MarketplaceKind.sequence_marketplace_v2],\n *     currencies: ['0x...']\n *   }\n * })\n * ```\n *\n * @example\n * Controlled pagination:\n * ```typescript\n * const [currentPage, setCurrentPage] = useState(1);\n * const { data, isLoading } = useCollectionMarketItemsPaginated({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   side: OrderSide.listing,\n *   page: currentPage,\n *   pageSize: 25\n * });\n *\n * const hasMorePages = data?.page?.more;\n * ```\n */\nexport function useCollectionMarketItemsPaginated(\n\tparams: UseCollectionMarketItemsPaginatedParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listItemsOrdersForCollectionPaginatedQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listItemsOrdersForCollectionPaginatedQueryOptions };\n\nexport type {\n\tFetchListItemsOrdersForCollectionPaginatedParams,\n\tListItemsOrdersForCollectionPaginatedQueryOptions,\n};\n\n// Legacy exports for backward compatibility during migration\nexport type UseListItemsOrdersForCollectionPaginatedArgs =\n\tUseListItemsOrdersForCollectionPaginatedParams;\nexport type UseListItemsOrdersForCollectionPaginatedReturn = Awaited<\n\tReturnType<typeof fetchListItemsOrdersForCollectionPaginated>\n>;\nexport type UseListItemsOrdersForCollectionPaginatedParams =\n\tUseCollectionMarketItemsPaginatedParams;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CollectionQueryOptions,\n\tcollectionQueryOptions,\n\ttype FetchCollectionParams,\n} from '../../queries/collection/metadata';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionMetadataParams = Optional<\n\tCollectionQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch collection information from the metadata API\n *\n * Retrieves basic contract information including name, symbol, type,\n * and extension data for a given collection contract.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing contract information\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectionMetadata({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useCollectionMetadata({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   query: {\n *     refetchInterval: 30000,\n *     enabled: userWantsToFetch\n *   }\n * })\n * ```\n */\nexport function useCollectionMetadata(params: UseCollectionMetadataParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = collectionQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { collectionQueryOptions };\n\nexport type { FetchCollectionParams, CollectionQueryOptions };\n","import type { Currency } from '@0xsequence/api-client';\nimport {\n\tbuildQueryOptions,\n\tgetMarketplaceClient,\n\ttype SdkQueryParams,\n\ttype WithOptionalParams,\n\ttype WithRequired,\n} from '../../_internal';\nimport { createCollectionQueryKey } from './queryKeys';\n\nexport interface FetchCollectionActiveListingsCurrenciesParams {\n\tchainId: number;\n\tcollectionAddress: string;\n}\n\nexport type CollectionActiveListingsCurrenciesQueryOptions =\n\tSdkQueryParams<FetchCollectionActiveListingsCurrenciesParams>;\n\n/**\n * Fetches the active listings currencies for a collection from the marketplace API\n */\nexport async function fetchCollectionActiveListingsCurrencies(\n\tparams: WithRequired<\n\t\tCollectionActiveListingsCurrenciesQueryOptions,\n\t\t'chainId' | 'collectionAddress' | 'config'\n\t>,\n): Promise<Currency[]> {\n\tconst { collectionAddress, chainId, config } = params;\n\n\tconst marketplaceClient = getMarketplaceClient(config);\n\n\tconst result = await marketplaceClient.getCollectionActiveListingsCurrencies({\n\t\tcontractAddress: collectionAddress,\n\t\tchainId: String(chainId),\n\t});\n\treturn result.currencies;\n}\n\nexport function getCollectionActiveListingsCurrenciesQueryKey(\n\tparams: CollectionActiveListingsCurrenciesQueryOptions,\n) {\n\treturn createCollectionQueryKey('active-listings-currencies', {\n\t\tchainId: params.chainId,\n\t\tcontractAddress: params.collectionAddress,\n\t});\n}\n\nexport function collectionActiveListingsCurrenciesQueryOptions(\n\tparams: WithOptionalParams<\n\t\tWithRequired<\n\t\t\tCollectionActiveListingsCurrenciesQueryOptions,\n\t\t\t'chainId' | 'collectionAddress' | 'config'\n\t\t>\n\t>,\n) {\n\treturn buildQueryOptions(\n\t\t{\n\t\t\tgetQueryKey: getCollectionActiveListingsCurrenciesQueryKey,\n\t\t\trequiredParams: ['chainId', 'collectionAddress', 'config'] as const,\n\t\t\tfetcher: fetchCollectionActiveListingsCurrencies,\n\t\t},\n\t\tparams,\n\t);\n}\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CollectionActiveListingsCurrenciesQueryOptions,\n\tcollectionActiveListingsCurrenciesQueryOptions,\n\ttype FetchCollectionActiveListingsCurrenciesParams,\n} from '../../queries/collection/activeListingsCurrencies';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionActiveListingsCurrenciesParams = Optional<\n\tCollectionActiveListingsCurrenciesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch the active listings currencies for a collection\n *\n * Retrieves all currencies that are currently being used in active listings\n * for a specific collection from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the array of currencies used in active listings\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectionActiveListingsCurrencies({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useCollectionActiveListingsCurrencies({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   query: {\n *     refetchInterval: 30000,\n *     enabled: hasCollectionAddress\n *   }\n * })\n * ```\n */\nexport function useCollectionActiveListingsCurrencies(\n\tparams: UseCollectionActiveListingsCurrenciesParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = collectionActiveListingsCurrenciesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { collectionActiveListingsCurrenciesQueryOptions };\n\nexport type {\n\tFetchCollectionActiveListingsCurrenciesParams,\n\tCollectionActiveListingsCurrenciesQueryOptions,\n};\n","import type { Currency } from '@0xsequence/api-client';\nimport {\n\tbuildQueryOptions,\n\tgetMarketplaceClient,\n\ttype SdkQueryParams,\n\ttype WithOptionalParams,\n\ttype WithRequired,\n} from '../../_internal';\nimport { createCollectionQueryKey } from './queryKeys';\n\nexport interface FetchCollectionActiveOffersCurrenciesParams {\n\tchainId: number;\n\tcollectionAddress: string;\n}\n\nexport type CollectionActiveOffersCurrenciesQueryOptions =\n\tSdkQueryParams<FetchCollectionActiveOffersCurrenciesParams>;\n\n/**\n * Fetches the active offers currencies for a collection from the marketplace API\n */\nexport async function fetchCollectionActiveOffersCurrencies(\n\tparams: WithRequired<\n\t\tCollectionActiveOffersCurrenciesQueryOptions,\n\t\t'chainId' | 'collectionAddress' | 'config'\n\t>,\n): Promise<Currency[]> {\n\tconst { collectionAddress, chainId, config } = params;\n\n\tconst marketplaceClient = getMarketplaceClient(config);\n\n\tconst result = await marketplaceClient.getCollectionActiveOffersCurrencies({\n\t\tcontractAddress: collectionAddress,\n\t\tchainId: String(chainId),\n\t});\n\treturn result.currencies;\n}\n\nexport function getCollectionActiveOffersCurrenciesQueryKey(\n\tparams: CollectionActiveOffersCurrenciesQueryOptions,\n) {\n\treturn createCollectionQueryKey('active-offers-currencies', {\n\t\tchainId: params.chainId,\n\t\tcontractAddress: params.collectionAddress,\n\t});\n}\n\nexport function collectionActiveOffersCurrenciesQueryOptions(\n\tparams: WithOptionalParams<\n\t\tWithRequired<\n\t\t\tCollectionActiveOffersCurrenciesQueryOptions,\n\t\t\t'chainId' | 'collectionAddress' | 'config'\n\t\t>\n\t>,\n) {\n\treturn buildQueryOptions(\n\t\t{\n\t\t\tgetQueryKey: getCollectionActiveOffersCurrenciesQueryKey,\n\t\t\trequiredParams: ['chainId', 'collectionAddress', 'config'] as const,\n\t\t\tfetcher: fetchCollectionActiveOffersCurrencies,\n\t\t},\n\t\tparams,\n\t);\n}\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CollectionActiveOffersCurrenciesQueryOptions,\n\tcollectionActiveOffersCurrenciesQueryOptions,\n\ttype FetchCollectionActiveOffersCurrenciesParams,\n} from '../../queries/collection/activeOffersCurrencies';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCollectionActiveOffersCurrenciesParams = Optional<\n\tCollectionActiveOffersCurrenciesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch the active offers currencies for a collection\n *\n * Retrieves all currencies that are currently being used in active offers\n * for a specific collection from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the array of currencies used in active offers\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCollectionActiveOffersCurrencies({\n *   chainId: 137,\n *   collectionAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useCollectionActiveOffersCurrencies({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   query: {\n *     refetchInterval: 30000,\n *     enabled: hasCollectionAddress\n *   }\n * })\n * ```\n */\nexport function useCollectionActiveOffersCurrencies(\n\tparams: UseCollectionActiveOffersCurrenciesParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = collectionActiveOffersCurrenciesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { collectionActiveOffersCurrenciesQueryOptions };\n\nexport type {\n\tFetchCollectionActiveOffersCurrenciesParams,\n\tCollectionActiveOffersCurrenciesQueryOptions,\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Address } from 'viem';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype ComparePricesQueryOptions,\n\tcomparePricesQueryOptions,\n\ttype FetchComparePricesParams,\n} from '../../queries/currency/compare-prices';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCurrencyComparePricesParams = Optional<\n\tComparePricesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to compare prices between different currencies by converting both to USD\n *\n * Compares two prices by converting both to USD using real-time exchange rates\n * and returns the percentage difference with comparison status.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.priceAmountRaw - The raw amount of the first price (wei format)\n * @param params.priceCurrencyAddress - The currency address of the first price\n * @param params.compareToPriceAmountRaw - The raw amount of the second price to compare against (wei format)\n * @param params.compareToPriceCurrencyAddress - The currency address of the second price\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing percentage difference and comparison status\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: comparison, isLoading } = useCurrencyComparePrices({\n *   chainId: 1,\n *   priceAmountRaw: '1000000000000000000', // 1 ETH in wei\n *   priceCurrencyAddress: '0x0000000000000000000000000000000000000000', // ETH\n *   compareToPriceAmountRaw: '2000000000', // 2000 USDC in wei (6 decimals)\n *   compareToPriceCurrencyAddress: '0xA0b86a33E6B8DbF5E71Eaa9bfD3F6fD8e8Be3F69' // USDC\n * })\n *\n * if (data) {\n *   console.log(`${data.percentageDifferenceFormatted}% ${data.status}`);\n *   // e.g., \"25.50% above\" or \"10.25% below\"\n * }\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data: comparison } = useCurrencyComparePrices({\n *   chainId: 137,\n *   priceAmountRaw: price1,\n *   priceCurrencyAddress: currency1Address,\n *   compareToPriceAmountRaw: price2,\n *   compareToPriceCurrencyAddress: currency2Address,\n *   query: {\n *     enabled: Boolean(price1 && price2),\n *     refetchInterval: 30000 // Refresh every 30 seconds\n *   }\n * })\n * ```\n */\nexport function useCurrencyComparePrices(\n\tparams: UseCurrencyComparePricesParams,\n) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = comparePricesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { comparePricesQueryOptions };\n\nexport type { FetchComparePricesParams, ComparePricesQueryOptions };\n\n// Legacy exports for backward compatibility\nexport type UseComparePricesArgs = {\n\tchainId: number;\n\tpriceAmountRaw: string;\n\tpriceCurrencyAddress: Address;\n\tcompareToPriceAmountRaw: string;\n\tcompareToPriceCurrencyAddress: Address;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nexport type UseComparePricesReturn = {\n\tpercentageDifference: number;\n\tpercentageDifferenceFormatted: string;\n\tstatus: 'above' | 'same' | 'below';\n};\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Address } from 'viem';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype ConvertPriceToUSDQueryOptions,\n\ttype ConvertPriceToUSDReturn,\n\tconvertPriceToUSDQueryOptions,\n\ttype FetchConvertPriceToUSDParams,\n} from '../../queries/currency/convert-to-usd';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCurrencyConvertToUSDParams = Optional<\n\tConvertPriceToUSDQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to convert a price amount from a specific currency to USD\n *\n * Converts cryptocurrency amounts to their USD equivalent using current exchange rates.\n * Fetches currency data and calculates the USD value based on the provided amount\n * and currency address.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.currencyAddress - The currency contract address to convert from\n * @param params.amountRaw - The raw amount in smallest units (e.g., wei for ETH)\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing USD amount and formatted USD amount\n *\n * @example\n * Basic ETH to USD conversion:\n * ```typescript\n * const { data: conversion, isLoading } = useCurrencyConvertToUSD({\n *   chainId: 1,\n *   currencyAddress: '0x0000000000000000000000000000000000000000', // ETH\n *   amountRaw: '1000000000000000000' // 1 ETH in wei\n * })\n *\n * if (data) {\n *   console.log(`$${data.usdAmountFormatted}`); // e.g., \"$2000.00\"\n *   console.log(data.usdAmount); // e.g., 2000\n * }\n * ```\n *\n * @example\n * ERC-20 token conversion with conditional enabling:\n * ```typescript\n * const { data: conversion } = useCurrencyConvertToUSD({\n *   chainId: 137,\n *   currencyAddress: '0x2791bca1f2de4661ed88a30c99a7a9449aa84174', // USDC on Polygon\n *   amountRaw: '1000000', // 1 USDC (6 decimals)\n *   query: {\n *     enabled: Boolean(userHasTokens),\n *     refetchInterval: 30000 // Update price every 30 seconds\n *   }\n * })\n * ```\n */\nexport function useCurrencyConvertToUSD(params: UseCurrencyConvertToUSDParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = convertPriceToUSDQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { convertPriceToUSDQueryOptions };\n\nexport type {\n\tFetchConvertPriceToUSDParams,\n\tConvertPriceToUSDQueryOptions,\n\tConvertPriceToUSDReturn,\n};\n\n// Legacy exports for backward compatibility\nexport type UseConvertPriceToUSDArgs = {\n\tchainId: number;\n\tcurrencyAddress: Address;\n\tamountRaw: string;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nexport type UseConvertPriceToUSDReturn = ConvertPriceToUSDReturn;\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype CurrencyQueryOptions,\n\tcurrencyQueryOptions,\n\ttype FetchCurrencyParams,\n} from '../../queries/currency/currency';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCurrencyParams = Optional<CurrencyQueryOptions, 'config'>;\n\n/**\n * Hook to fetch currency details from the marketplace\n *\n * Retrieves detailed information about a specific currency by its contract address.\n * The currency data is cached from previous currency list calls when possible.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.currencyAddress - The currency contract address\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing currency details\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCurrency({\n *   chainId: 137,\n *   currencyAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useCurrency({\n *   chainId: 1,\n *   currencyAddress: '0x...',\n *   query: {\n *     enabled: Boolean(selectedCurrency)\n *   }\n * })\n * ```\n */\nexport function useCurrency(params: UseCurrencyParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = currencyQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { currencyQueryOptions };\n\nexport type { FetchCurrencyParams, CurrencyQueryOptions };\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchMarketCurrenciesParams,\n\ttype MarketCurrenciesQueryOptions,\n\tmarketCurrenciesQueryOptions,\n} from '../../queries/currency/list';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseCurrencyListParams = Optional<\n\tMarketCurrenciesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch supported currencies for a marketplace\n *\n * Retrieves the list of currencies supported by the marketplace for a specific chain.\n * Can optionally filter to exclude native currency or filter by collection.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.includeNativeCurrency - Whether to include native currency (default: true)\n * @param params.collectionAddress - Optional collection address to filter currencies\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing supported currencies\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useCurrencyList({\n *   chainId: 137\n * })\n * ```\n *\n * @example\n * Exclude native currency:\n * ```typescript\n * const { data, isLoading } = useCurrencyList({\n *   chainId: 1,\n *   includeNativeCurrency: false\n * })\n * ```\n */\nexport function useCurrencyList(params: UseCurrencyListParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = marketCurrenciesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { marketCurrenciesQueryOptions };\n\nexport type { FetchMarketCurrenciesParams, MarketCurrenciesQueryOptions };\n","import { useQuery } from '@tanstack/react-query';\nimport {\n\tinventoryOptions,\n\ttype UseInventoryArgs,\n} from '../../queries/inventory/inventory';\nimport { useConfig } from '../config/useConfig';\n\nexport function useInventory(args: UseInventoryArgs) {\n\tconst config = useConfig();\n\n\treturn useQuery(inventoryOptions({ ...args, config }));\n}\n\nexport type {\n\tCollectiblesResponse,\n\tCollectibleWithBalance,\n} from '../../queries/inventory/inventory';\n","import { useInfiniteQuery } from '@tanstack/react-query';\nimport type { UseListBalancesArgs } from '../../queries/token/balances';\nimport { listBalancesOptions } from '../../queries/token/balances';\nimport { useConfig } from '../config/useConfig';\n\n/**\n * Hook to fetch a list of token balances with pagination support\n *\n * @param args - The arguments for fetching the balances\n * @returns Infinite query result containing the balances data\n *\n * @example\n * ```tsx\n * const { data, isLoading, error, fetchNextPage } = useTokenBalances({\n *   chainId: 1,\n *   accountAddress: '0x123...',\n *   includeMetadata: true,\n *   query: {\n *     enabled: true,\n *     refetchInterval: 10000,\n *   }\n * });\n * ```\n */\nexport function useTokenBalances(args: UseListBalancesArgs) {\n\tconst config = useConfig();\n\n\treturn useInfiniteQuery(listBalancesOptions({ ...args, config }));\n}\n","'use client';\n\nimport type { Address } from 'viem';\nimport { erc20Abi, formatUnits, zeroAddress } from 'viem';\nimport { useBalance, useReadContracts } from 'wagmi';\n\nexport type UseCurrencyBalanceArgs = {\n\tcurrencyAddress: Address | undefined;\n\tchainId: number | undefined;\n\tuserAddress: Address | undefined;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nexport type UseTokenCurrencyBalanceResult = {\n\tdata: { value: bigint; formatted: string } | undefined;\n\tisLoading: boolean;\n\tisError: boolean;\n\tisSuccess: boolean;\n\terror: Error | null;\n\t[key: string]: any; // Allow other wagmi properties to pass through\n};\n\n/**\n * Hook to fetch cryptocurrency balance for a user\n *\n * Retrieves the balance of a specific currency (native token or ERC-20)\n * for a given user address using wagmi. Handles both native tokens (ETH, MATIC, etc.)\n * and ERC-20 tokens with automatic decimal formatting through direct blockchain calls.\n *\n * @param args - Configuration parameters\n * @param args.currencyAddress - The currency contract address (use zero address for native tokens)\n * @param args.chainId - The chain ID to query on\n * @param args.userAddress - The user address to check balance for\n * @param args.query - Optional wagmi query configuration\n *\n * @returns Wagmi query result containing raw and formatted balance values\n *\n * @example\n * Native token balance (ETH):\n * ```typescript\n * const { data: ethBalance, isLoading } = useTokenCurrencyBalance({\n *   currencyAddress: '0x0000000000000000000000000000000000000000', // Zero address for ETH\n *   chainId: 1,\n *   userAddress: '0x1234...'\n * })\n *\n * if (data) {\n *   console.log(`ETH Balance: ${data.formatted} ETH`); // e.g., \"1.5 ETH\"\n *   console.log(`Raw balance: ${data.value.toString()}`); // e.g., \"1500000000000000000\"\n * }\n * ```\n *\n * @example\n * ERC-20 token balance (USDC):\n * ```typescript\n * const { data: usdcBalance } = useTokenCurrencyBalance({\n *   currencyAddress: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', // USDC\n *   chainId: 1,\n *   userAddress: userAddress,\n *   query: {\n *     enabled: Boolean(userAddress), // Only fetch when user is connected\n *     refetchInterval: 30000 // Update every 30 seconds\n *   }\n * })\n *\n * if (data) {\n *   console.log(`USDC Balance: $${data.formatted}`); // e.g., \"$1000.50\"\n * }\n * ```\n */\nexport function useTokenCurrencyBalance(\n\targs: UseCurrencyBalanceArgs,\n): UseTokenCurrencyBalanceResult {\n\tconst { currencyAddress, chainId, userAddress, query } = args;\n\n\t// Check if all required parameters are present\n\tconst hasAllParams = Boolean(currencyAddress && chainId && userAddress);\n\tconst isNativeToken = currencyAddress === zeroAddress;\n\n\t// For native token (zero address), use useBalance\n\tconst nativeBalance = useBalance({\n\t\taddress: userAddress,\n\t\tchainId,\n\t\tquery: {\n\t\t\t...query,\n\t\t\tenabled: hasAllParams && isNativeToken && (query?.enabled ?? true),\n\t\t},\n\t});\n\n\t// For ERC-20 tokens, use useReadContracts to get both balance and decimals\n\tconst erc20Balance = useReadContracts({\n\t\tcontracts:\n\t\t\thasAllParams && !isNativeToken && currencyAddress && userAddress\n\t\t\t\t? [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taddress: currencyAddress,\n\t\t\t\t\t\t\tabi: erc20Abi,\n\t\t\t\t\t\t\tfunctionName: 'balanceOf',\n\t\t\t\t\t\t\targs: [userAddress],\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taddress: currencyAddress,\n\t\t\t\t\t\t\tabi: erc20Abi,\n\t\t\t\t\t\t\tfunctionName: 'decimals',\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t: [],\n\t\tquery: {\n\t\t\t...query,\n\t\t\tenabled: hasAllParams && !isNativeToken && (query?.enabled ?? true),\n\t\t},\n\t});\n\n\t// Return native balance result if zero address\n\tif (isNativeToken) {\n\t\treturn {\n\t\t\t...nativeBalance,\n\t\t\tdata: nativeBalance.data\n\t\t\t\t? {\n\t\t\t\t\t\tvalue: nativeBalance.data.value,\n\t\t\t\t\t\tformatted: nativeBalance.data.formatted,\n\t\t\t\t\t}\n\t\t\t\t: undefined,\n\t\t};\n\t}\n\n\t// Return ERC-20 balance result with formatted data\n\tconst [balanceResult, decimalsResult] = erc20Balance.data || [];\n\tconst balance = balanceResult?.result;\n\tconst decimals = decimalsResult?.result;\n\n\tconst formattedData =\n\t\tbalance !== undefined && decimals !== undefined\n\t\t\t? {\n\t\t\t\t\tvalue: balance,\n\t\t\t\t\tformatted: formatUnits(balance, decimals),\n\t\t\t\t}\n\t\t\t: undefined;\n\n\treturn {\n\t\t...erc20Balance,\n\t\tdata: formattedData,\n\t};\n}\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchListTokenMetadataParams,\n\ttype ListTokenMetadataQueryOptions,\n\tlistTokenMetadataQueryOptions,\n} from '../../queries/token/metadata';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseTokenMetadataParams = Optional<\n\tListTokenMetadataQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch metadata for multiple tokens\n *\n * Retrieves metadata for a batch of tokens from a specific contract using the metadata API.\n * This hook is optimized for fetching multiple token metadata in a single request.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.contractAddress - The contract address containing the tokens\n * @param params.tokenIds - Array of token IDs to fetch metadata for\n * @param params.config - Optional SDK configuration (defaults from context)\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing an array of token metadata\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: metadata, isLoading } = useTokenMetadata({\n *   chainId: 137,\n *   contractAddress: '0x...',\n *   tokenIds: ['1', '2', '3']\n * })\n * ```\n *\n * @example\n * With query options:\n * ```typescript\n * const { data: metadata } = useTokenMetadata({\n *   chainId: 1,\n *   contractAddress: '0x...',\n *   tokenIds: selectedTokenIds,\n *   query: {\n *     enabled: selectedTokenIds.length > 0,\n *     staleTime: 10 * 60 * 1000 // 10 minutes\n *   }\n * })\n * ```\n */\nexport function useTokenMetadata(params: UseTokenMetadataParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = listTokenMetadataQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { listTokenMetadataQueryOptions };\n\nexport type { FetchListTokenMetadataParams, ListTokenMetadataQueryOptions };\n","'use client';\n\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype SearchTokenMetadataQueryOptions,\n\tsearchTokenMetadataQueryOptions,\n} from '../../queries/token/metadata-search';\nimport { tokenSuppliesQueryOptions } from '../../queries/token/supplies';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseTokenMetadataSearchParams = Optional<\n\tSearchTokenMetadataQueryOptions,\n\t'config'\n> & {\n\t/**\n\t * If true, only return minted tokens (tokens with supply > 0)\n\t */\n\tonlyMinted?: boolean;\n};\n\n/**\n * Hook to search token metadata using filters with infinite pagination support\n *\n * Searches for tokens in a collection based on text and property filters.\n * Supports filtering by attributes, ranges, and text search.\n * Can optionally filter to only show minted tokens (tokens with supply > 0).\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address\n * @param params.filter - Filter criteria for the search\n * @param params.filter.text - Optional text search query\n * @param params.filter.properties - Optional array of property filters\n * @param params.page - Optional pagination parameters\n * @param params.query - Optional React Query configuration\n * @param params.onlyMinted - If true, only return minted tokens (tokens with supply > 0)\n *\n * @returns Infinite query result containing matching token metadata with pagination support\n *\n * @example\n * Basic text search with pagination:\n * ```typescript\n * const { data, isLoading, fetchNextPage, hasNextPage } = useTokenMetadataSearch({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   filter: {\n *     text: 'dragon'\n *   }\n * })\n * ```\n *\n * @example\n * Property filters:\n * ```typescript\n * const { data, fetchNextPage } = useTokenMetadataSearch({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   filter: {\n *     properties: [\n *       {\n *         name: 'Rarity',\n *         type: PropertyType.STRING,\n *         values: ['Legendary', 'Epic']\n *       },\n *       {\n *         name: 'Level',\n *         type: PropertyType.INT,\n *         min: 50,\n *         max: 100\n *       }\n *     ]\n *   }\n * })\n * ```\n *\n * @example\n * Search only minted tokens:\n * ```typescript\n * const { data, fetchNextPage } = useTokenMetadataSearch({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   onlyMinted: true,\n *   filter: {\n *     text: 'dragon'\n *   }\n * })\n * ```\n */\nexport function useTokenMetadataSearch(params: UseTokenMetadataSearchParams) {\n\tconst defaultConfig = useConfig();\n\tconst { config = defaultConfig, onlyMinted, ...rest } = params;\n\n\t// Get token supplies to check which tokens are minted if onlyMinted is true\n\tconst {\n\t\tdata: suppliesData,\n\t\thasNextPage: hasNextSuppliesPage,\n\t\tisFetching: isSuppliesFetching,\n\t\tisLoading: isSuppliesLoading,\n\t\terror: suppliesError,\n\t\tfetchNextPage: fetchNextSuppliesPage,\n\t} = useInfiniteQuery(\n\t\ttokenSuppliesQueryOptions({\n\t\t\tchainId: params.chainId,\n\t\t\tcollectionAddress: params.collectionAddress,\n\t\t\tconfig,\n\t\t\tincludeMetadata: true,\n\t\t\tquery: {\n\t\t\t\tenabled:\n\t\t\t\t\tonlyMinted &&\n\t\t\t\t\t!!params.collectionAddress &&\n\t\t\t\t\t(params.query?.enabled ?? true),\n\t\t\t},\n\t\t}),\n\t);\n\n\tconst queryOptions = searchTokenMetadataQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\tconst result = useInfiniteQuery({\n\t\t...queryOptions,\n\t\t// If onlyMinted is true, only enable the metadata query when token supplies query succeeds\n\t\tenabled: onlyMinted\n\t\t\t? !isSuppliesLoading && !suppliesError && queryOptions.enabled\n\t\t\t: queryOptions.enabled,\n\t});\n\n\t// If onlyMinted is true and we have a supplies error, return that error state\n\tif (onlyMinted && suppliesError) {\n\t\treturn {\n\t\t\t...result,\n\t\t\tisError: true,\n\t\t\terror: suppliesError,\n\t\t\tdata: undefined,\n\t\t};\n\t}\n\n\tif (!onlyMinted) {\n\t\treturn {\n\t\t\t...result,\n\t\t\tdata: result.data\n\t\t\t\t? {\n\t\t\t\t\t\ttokenMetadata: result.data.pages.flatMap(\n\t\t\t\t\t\t\t(page) => page.tokenMetadata,\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpage: result.data.pages[result.data.pages.length - 1]?.page,\n\t\t\t\t\t}\n\t\t\t\t: undefined,\n\t\t};\n\t}\n\n\tconst mintedTokenIds = new Set(\n\t\tsuppliesData?.pages\n\t\t\t.flatMap((page) => page.supplies)\n\t\t\t?.filter((supply) => supply.supply > 0n)\n\t\t\t.map((supply) => supply.tokenId) ?? [],\n\t);\n\n\t// Filter minted tokens from all metadata pages\n\tconst filteredTokenMetadata = result.data?.pages\n\t\t.flatMap((page) => page.tokenMetadata)\n\t\t.filter((metadata) => mintedTokenIds.has(BigInt(metadata.tokenId)));\n\n\tconst lastPage = result.data?.pages[result.data.pages.length - 1]?.page;\n\n\tconst shouldFetchNextMetadataPage =\n\t\tresult.hasNextPage &&\n\t\t(filteredTokenMetadata?.length ?? 0) < (mintedTokenIds?.size ?? 0);\n\n\tconst fetchNextPage = async () => {\n\t\tif (hasNextSuppliesPage && !isSuppliesFetching) {\n\t\t\tawait fetchNextSuppliesPage();\n\t\t}\n\t};\n\n\treturn {\n\t\t...result,\n\t\thasNextPage: shouldFetchNextMetadataPage || hasNextSuppliesPage,\n\t\tdata: result.data\n\t\t\t? {\n\t\t\t\t\ttokenMetadata: filteredTokenMetadata ?? [],\n\t\t\t\t\tpage: lastPage,\n\t\t\t\t}\n\t\t\t: undefined,\n\t\tisLoading: result.isLoading || isSuppliesLoading,\n\t\tisFetching: result.isFetching || isSuppliesFetching,\n\t\terror: result.error || suppliesError,\n\t\tfetchNextPage,\n\t};\n}\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Address } from 'viem';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchGetTokenRangesParams,\n\ttype fetchGetTokenRanges,\n\ttype GetTokenRangesQueryOptions,\n\tgetTokenRangesQueryOptions,\n} from '../../queries/token/ranges';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseTokenRangesParams = Optional<\n\tGetTokenRangesQueryOptions,\n\t'config'\n>;\n\n/**\n * Hook to fetch token ID ranges for a collection\n *\n * Retrieves the available token ID ranges for a specific collection,\n * which is useful for understanding the token distribution and\n * available tokens within a collection.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address to fetch ranges for\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing token ID ranges for the collection\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: tokenRanges, isLoading } = useTokenRanges({\n *   chainId: 137,\n *   collectionAddress: '0x1234...'\n * })\n *\n * if (data) {\n *   console.log(`Token ranges: ${JSON.stringify(data.ranges)}`);\n *   data.ranges?.forEach(range => {\n *     console.log(`Range: ${range.start} - ${range.end}`);\n *   });\n * }\n * ```\n *\n * @example\n * With conditional enabling:\n * ```typescript\n * const { data: tokenRanges } = useTokenRanges({\n *   chainId: 1,\n *   collectionAddress: selectedCollection?.address,\n *   query: {\n *     enabled: Boolean(selectedCollection?.address),\n *     staleTime: 300000, // Cache for 5 minutes\n *     refetchInterval: 60000 // Refresh every minute\n *   }\n * })\n * ```\n */\nexport function useTokenRanges(params: UseTokenRangesParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = getTokenRangesQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { getTokenRangesQueryOptions };\n\nexport type { FetchGetTokenRangesParams, GetTokenRangesQueryOptions };\n\n// Legacy exports for backward compatibility\nexport type UseGetTokenRangesProps = {\n\tchainId: number;\n\tcollectionAddress: Address;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nexport type UseGetTokenRangesReturn = Awaited<\n\tReturnType<typeof fetchGetTokenRanges>\n>;\n","import type { FeeOption } from '@0xsequence/waas';\nimport { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\n\nexport class Deferred<T> {\n\tprivate _resolve: (value: T) => void = () => {};\n\tprivate _reject: (value: T) => void = () => {};\n\n\tprivate _promise: Promise<T> = new Promise<T>((resolve, reject) => {\n\t\tthis._reject = reject;\n\t\tthis._resolve = resolve;\n\t});\n\n\tget promise(): Promise<T> {\n\t\treturn this._promise;\n\t}\n\n\tresolve(value: T) {\n\t\tthis._resolve(value);\n\t}\n\n\treject(value: T) {\n\t\tthis._reject(value);\n\t}\n}\n\n/**\n * Extended FeeOption type that includes balance information\n */\nexport type FeeOptionExtended = FeeOption & {\n\t/** Raw balance string */\n\tbalance: string;\n\t/** Formatted balance with proper decimals */\n\tbalanceFormatted: string;\n\t/** Indicates if the wallet has enough balance to pay the fee */\n\thasEnoughBalanceForFee: boolean;\n};\n\n/**\n * Fee option confirmation data structure\n */\nexport type WaasFeeOptionConfirmation = {\n\t/** Unique identifier for the fee confirmation */\n\tid: string;\n\t/** Available fee options with balance information */\n\toptions: FeeOptionExtended[] | FeeOption[];\n\t/** Chain ID where the transaction will be executed */\n\tchainId: number;\n};\n\n/**\n * Result type for fee option confirmation\n */\nexport type FeeOptionConfirmationResult = {\n\tid: string;\n\tfeeTokenAddress?: string | null;\n\tconfirmed: boolean;\n};\n\nexport interface WaasFeeOptionsState {\n\tpendingConfirmation: WaasFeeOptionConfirmation | undefined;\n\tdeferred: Deferred<FeeOptionConfirmationResult> | undefined;\n}\n\nconst initialContext: WaasFeeOptionsState = {\n\tpendingConfirmation: undefined,\n\tdeferred: undefined,\n};\n\nexport const waasFeeOptionsStore = createStore({\n\tcontext: initialContext,\n\ton: {\n\t\tsetPendingConfirmation: (\n\t\t\tcontext,\n\t\t\tevent: { confirmation: WaasFeeOptionConfirmation | undefined },\n\t\t) => ({\n\t\t\t...context,\n\t\t\tpendingConfirmation: event.confirmation,\n\t\t}),\n\n\t\tsetDeferred: (\n\t\t\tcontext,\n\t\t\tevent: { deferred: Deferred<FeeOptionConfirmationResult> | undefined },\n\t\t) => ({\n\t\t\t...context,\n\t\t\tdeferred: event.deferred,\n\t\t}),\n\n\t\tconfirmFeeOption: (\n\t\t\tcontext,\n\t\t\tevent: { id: string; feeTokenAddress: string | null },\n\t\t) => {\n\t\t\tif (context.deferred && context.pendingConfirmation?.id === event.id) {\n\t\t\t\tcontext.deferred.resolve({\n\t\t\t\t\tid: event.id,\n\t\t\t\t\tfeeTokenAddress: event.feeTokenAddress,\n\t\t\t\t\tconfirmed: true,\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\t...context,\n\t\t\t\t\tdeferred: undefined,\n\t\t\t\t\tpendingConfirmation: undefined,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn context;\n\t\t},\n\n\t\trejectFeeOption: (context, event: { id: string }) => {\n\t\t\tif (context.deferred && context.pendingConfirmation?.id === event.id) {\n\t\t\t\tcontext.deferred.resolve({\n\t\t\t\t\tid: event.id,\n\t\t\t\t\tfeeTokenAddress: undefined,\n\t\t\t\t\tconfirmed: false,\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\t...context,\n\t\t\t\t\tdeferred: undefined,\n\t\t\t\t\tpendingConfirmation: undefined,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn context;\n\t\t},\n\n\t\tclear: () => initialContext,\n\t},\n});\n\n// Selector hooks\nexport const usePendingConfirmation = () =>\n\tuseSelector(\n\t\twaasFeeOptionsStore,\n\t\t(state) => state.context.pendingConfirmation,\n\t);\n\nexport const useDeferred = () =>\n\tuseSelector(waasFeeOptionsStore, (state) => state.context.deferred);\n\nexport const useWaasFeeOptionsState = () =>\n\tuseSelector(waasFeeOptionsStore, (state) => state.context);\n","'use client';\n\nimport { ContractVerificationStatus } from '@0xsequence/indexer';\nimport type { FeeOption } from '@0xsequence/waas';\nimport { useEffect } from 'react';\nimport { formatUnits } from 'viem';\nimport type { Connector } from 'wagmi';\nimport { useConnections } from 'wagmi';\nimport type { SdkConfig } from '../../../types';\nimport { getIndexerClient } from '../../_internal';\nimport {\n\tDeferred,\n\ttype FeeOptionConfirmationResult,\n\ttype FeeOptionExtended,\n\tusePendingConfirmation,\n\ttype WaasFeeOptionConfirmation,\n\twaasFeeOptionsStore,\n} from './waasFeeOptionsStore';\n\n// Re-export types for backward compatibility\nexport type { FeeOptionExtended, WaasFeeOptionConfirmation };\n\n/**\n * Return type for the useWaasFeeOptions hook\n */\nexport type UseWaasFeeOptionsReturnType = {\n\tpendingFeeOptionConfirmation: WaasFeeOptionConfirmation | undefined;\n\tconfirmPendingFeeOption: (id: string, feeTokenAddress: string | null) => void;\n\trejectPendingFeeOption: (id: string) => void;\n};\n\n/**\n * Options for the useWaasFeeOptions hook\n *\n * @property {boolean} skipFeeBalanceCheck - Whether to skip checking token balances (default: false)\n */\nexport interface WaasFeeOptionsConfig {\n\t/** Whether to skip checking token balances (default: false) */\n\tskipFeeBalanceCheck?: boolean;\n}\n\n/**\n * Hook for handling WaaS (Wallet as a Service) fee options for unsponsored transactions\n *\n * This hook provides functionality to:\n * - Get available fee options for a transaction in Native Token and ERC20's\n * - Provide user wallet balances for each fee option\n * - Confirm or reject fee selections\n *\n * @param options - Configuration options for the hook {@link WaasFeeOptionsConfig}\n * @returns Array containing the confirmation state and control functions {@link UseWaasFeeOptionsReturnType}\n *\n * @example\n * ```tsx\n *   // Use the hook with default balance checking, this will fetch the user's wallet balances for each fee option and provide them in the UseWaasFeeOptionsReturn\n *   const [\n *     pendingFeeOptionConfirmation,\n *     confirmPendingFeeOption,\n *     rejectPendingFeeOption\n *   ] = useWaasFeeOptions();\n *\n *   // Or skip balance checking if needed\n *   // const [pendingFeeOptionConfirmation, confirmPendingFeeOption, rejectPendingFeeOption] =\n *   //   useWaasFeeOptions({ skipFeeBalanceCheck: true });\n *\n *   const [selectedFeeOptionTokenName, setSelectedFeeOptionTokenName] = useState<string>();\n *   const [feeOptionAlert, setFeeOptionAlert] = useState<AlertProps>();\n *\n *   // Initialize with first option when fee options become available\n *   useEffect(() => {\n *     if (pendingFeeOptionConfirmation) {\n *       console.log('Pending fee options: ', pendingFeeOptionConfirmation.options)\n *     }\n *   }, [pendingFeeOptionConfirmation]);\n *\n * ```\n */\nexport function useWaasFeeOptions(\n\tchainId: number,\n\tconfig: SdkConfig,\n\toptions?: WaasFeeOptionsConfig,\n): UseWaasFeeOptionsReturnType {\n\tconst { skipFeeBalanceCheck = false } = options || {};\n\tconst connections = useConnections();\n\tconst waasConnector: Connector | undefined = connections.find((c: any) =>\n\t\tc.connector.id.includes('waas'),\n\t)?.connector;\n\tconst indexerClient = getIndexerClient(chainId, config);\n\tconst pendingFeeOptionConfirmation = usePendingConfirmation();\n\t/**\n\t * Confirms the selected fee option\n\t * @param id - The fee confirmation ID\n\t * @param feeTokenAddress - The address of the token to use for fee payment (null for native token)\n\t */\n\tfunction confirmPendingFeeOption(id: string, feeTokenAddress: string | null) {\n\t\twaasFeeOptionsStore.send({\n\t\t\ttype: 'confirmFeeOption',\n\t\t\tid,\n\t\t\tfeeTokenAddress,\n\t\t});\n\t}\n\n\t/**\n\t * Rejects the current fee option confirmation\n\t * @param id - The fee confirmation ID to reject\n\t */\n\tfunction rejectPendingFeeOption(id: string) {\n\t\twaasFeeOptionsStore.send({\n\t\t\ttype: 'rejectFeeOption',\n\t\t\tid,\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (!waasConnector) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst waasProvider = (waasConnector as any).sequenceWaasProvider;\n\t\tif (!waasProvider) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst originalHandler = waasProvider.feeConfirmationHandler;\n\n\t\twaasProvider.feeConfirmationHandler = {\n\t\t\tasync confirmFeeOption(\n\t\t\t\tid: string,\n\t\t\t\toptions: FeeOption[],\n\t\t\t\tchainId: number,\n\t\t\t): Promise<FeeOptionConfirmationResult> {\n\t\t\t\tconst pending = new Deferred<FeeOptionConfirmationResult>();\n\n\t\t\t\t// Set the deferred in the store\n\t\t\t\twaasFeeOptionsStore.send({\n\t\t\t\t\ttype: 'setDeferred',\n\t\t\t\t\tdeferred: pending,\n\t\t\t\t});\n\n\t\t\t\t// Clear any previous stale state immediately\n\t\t\t\twaasFeeOptionsStore.send({\n\t\t\t\t\ttype: 'setPendingConfirmation',\n\t\t\t\t\tconfirmation: undefined,\n\t\t\t\t});\n\n\t\t\t\tconst accountAddress = connections[0]?.accounts[0];\n\t\t\t\tif (!accountAddress) {\n\t\t\t\t\tthrow new Error('No account address available');\n\t\t\t\t}\n\n\t\t\t\tif (!skipFeeBalanceCheck) {\n\t\t\t\t\tconst optionsWithBalances = await Promise.all(\n\t\t\t\t\t\toptions.map(async (option) => {\n\t\t\t\t\t\t\tif (option.token.contractAddress) {\n\t\t\t\t\t\t\t\tconst tokenBalances =\n\t\t\t\t\t\t\t\t\tawait indexerClient.getTokenBalancesByContract({\n\t\t\t\t\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\t\t\t\taccountAddresses: [accountAddress],\n\t\t\t\t\t\t\t\t\t\t\tcontractStatus: ContractVerificationStatus.ALL,\n\t\t\t\t\t\t\t\t\t\t\tcontractAddresses: [option.token.contractAddress],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tomitMetadata: true,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tconst tokenBalance = tokenBalances.balances[0]?.balance;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\t\tbalanceFormatted: option.token.decimals\n\t\t\t\t\t\t\t\t\t\t? formatUnits(\n\t\t\t\t\t\t\t\t\t\t\t\tBigInt(tokenBalances.balances[0]?.balance ?? '0'),\n\t\t\t\t\t\t\t\t\t\t\t\toption.token.decimals,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t: (tokenBalances.balances[0]?.balance ?? '0'),\n\t\t\t\t\t\t\t\t\tbalance: tokenBalances.balances[0]?.balance ?? '0',\n\t\t\t\t\t\t\t\t\thasEnoughBalanceForFee: tokenBalance\n\t\t\t\t\t\t\t\t\t\t? BigInt(option.value) <= BigInt(tokenBalance)\n\t\t\t\t\t\t\t\t\t\t: false,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst nativeBalance = await indexerClient.getNativeTokenBalance({\n\t\t\t\t\t\t\t\taccountAddress,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\tbalanceFormatted: formatUnits(\n\t\t\t\t\t\t\t\t\tBigInt(nativeBalance.balance.balance),\n\t\t\t\t\t\t\t\t\t18,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tbalance: nativeBalance.balance.balance,\n\t\t\t\t\t\t\t\thasEnoughBalanceForFee:\n\t\t\t\t\t\t\t\t\tBigInt(option.value) <= BigInt(nativeBalance.balance.balance),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\n\t\t\t\t\tconst confirmation: WaasFeeOptionConfirmation = {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\toptions: optionsWithBalances,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t};\n\t\t\t\t\twaasFeeOptionsStore.send({\n\t\t\t\t\t\ttype: 'setPendingConfirmation',\n\t\t\t\t\t\tconfirmation,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst confirmation: WaasFeeOptionConfirmation = {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t};\n\t\t\t\t\twaasFeeOptionsStore.send({\n\t\t\t\t\t\ttype: 'setPendingConfirmation',\n\t\t\t\t\t\tconfirmation,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn pending.promise;\n\t\t\t},\n\t\t};\n\n\t\treturn () => {\n\t\t\twaasProvider.feeConfirmationHandler = originalHandler;\n\t\t};\n\t}, [waasConnector, indexerClient]);\n\n\treturn {\n\t\tpendingFeeOptionConfirmation,\n\t\tconfirmPendingFeeOption,\n\t\trejectPendingFeeOption,\n\t};\n}\n","'use client';\n\nimport { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { FeeOption } from '../../../../../../types/waas-types';\n\ninterface SelectWaasFeeOptionsContext {\n\tid: string | undefined;\n\tselectedFeeOption: FeeOption | undefined;\n\tisVisible: boolean;\n}\n\nexport const selectWaasFeeOptionsStore = createStore({\n\tcontext: {\n\t\tid: undefined,\n\t\tselectedFeeOption: undefined,\n\t\tisVisible: false,\n\t} as SelectWaasFeeOptionsContext,\n\ton: {\n\t\tshow: (context) => ({\n\t\t\t...context,\n\t\t\tisVisible: true,\n\t\t}),\n\t\thide: () => ({\n\t\t\tid: undefined,\n\t\t\tselectedFeeOption: undefined,\n\t\t\tisVisible: false,\n\t\t}),\n\t\tsetSelectedFeeOption: (\n\t\t\tcontext,\n\t\t\tevent: { feeOption: FeeOption | undefined },\n\t\t) => ({\n\t\t\t...context,\n\t\t\tselectedFeeOption: event.feeOption,\n\t\t}),\n\t},\n});\n\n// React hooks\nexport const useSelectWaasFeeOptionsStore = () => {\n\tconst isVisible = useSelector(\n\t\tselectWaasFeeOptionsStore,\n\t\t(state) => state.context.isVisible,\n\t);\n\tconst id = useSelector(\n\t\tselectWaasFeeOptionsStore,\n\t\t(state) => state.context.id,\n\t);\n\tconst selectedFeeOption = useSelector(\n\t\tselectWaasFeeOptionsStore,\n\t\t(state) => state.context.selectedFeeOption,\n\t);\n\n\treturn {\n\t\tisVisible,\n\t\tid,\n\t\tselectedFeeOption,\n\t\tshow: () => selectWaasFeeOptionsStore.send({ type: 'show' }),\n\t\thide: () => selectWaasFeeOptionsStore.send({ type: 'hide' }),\n\t\tsetSelectedFeeOption: (feeOption: FeeOption | undefined) =>\n\t\t\tselectWaasFeeOptionsStore.send({\n\t\t\t\ttype: 'setSelectedFeeOption',\n\t\t\t\tfeeOption,\n\t\t\t}),\n\t};\n};\n","import type { FeeOption } from '../../../../../types/waas-types';\n\nexport type StepStatus = 'idle' | 'pending' | 'success' | 'error';\n\nexport type TransactionResult =\n\t| { type: 'transaction'; hash: string }\n\t| { type: 'signature'; orderId: string }\n\t| { type: 'sponsored'; hash: string };\n\nexport type SuggestedAction =\n\t| 'fix-form'\n\t| 'complete-approval'\n\t| 're-approve'\n\t| 'connect-wallet'\n\t| 'wait-for-tx'\n\t| 'select-fee';\n\nexport type StepGuardResult = {\n\tcanProceed: boolean;\n\terror?: Error;\n\tsuggestedAction?: SuggestedAction;\n};\n\nexport type BaseStep = {\n\tlabel: string;\n\tstatus: StepStatus;\n\tisPending: boolean;\n\tisSuccess: boolean;\n\tisDisabled: boolean;\n\tdisabledReason: string | null;\n\terror: Error | null;\n};\n\nexport type FormStep = {\n\tlabel: string;\n\tstatus: 'idle' | 'success';\n\tisValid: boolean;\n\terrors: Record<string, string | null>;\n};\n\nexport type FeeStep = {\n\tlabel: string;\n\tstatus: 'idle' | 'selecting' | 'success';\n\tisSponsored: boolean;\n\tisSelecting: boolean;\n\tselectedOption: FeeOption | undefined;\n\tshow: () => void;\n\tcancel: () => void;\n};\n\nexport type ApprovalStep = BaseStep & {\n\tcanExecute: boolean;\n\tresult: TransactionResult | null;\n\tinvalidated?: boolean;\n\tinvalidationReason?: string | null;\n\texecute: () => Promise<void>;\n\treset: () => void;\n};\n\nexport type TransactionStep = BaseStep & {\n\tcanExecute: boolean;\n\tresult: TransactionResult | null;\n\texecute: () => Promise<void>;\n};\n\nexport type BaseStepName = 'form' | 'fee' | 'approval';\n\nexport type FlowStepInfo<TFinalStepName extends string = 'transaction'> = {\n\tname: BaseStepName | TFinalStepName;\n\tstatus: StepStatus;\n};\n\nexport type FlowState<TFinalStepName extends string = 'transaction'> = {\n\tstatus: 'idle' | 'pending' | 'success' | 'error';\n\tisPending: boolean;\n\tisSuccess: boolean;\n\tcurrentStep: BaseStepName | TFinalStepName;\n\tnextStep: BaseStepName | TFinalStepName | null;\n\tprogress: {\n\t\tcurrent: number;\n\t\ttotal: number;\n\t\tpercent: number;\n\t};\n\tallSteps: FlowStepInfo<TFinalStepName>[];\n\thasInvalidatedSteps: boolean;\n};\n\nexport type ModalSteps<TFinalStepName extends string = 'transaction'> = {\n\tform?: FormStep;\n\tfee?: FeeStep;\n\tapproval?: ApprovalStep;\n} & {\n\t[K in TFinalStepName]: TransactionStep;\n};\n\nexport type ModalContext<\n\tTFinalStepName extends string = 'transaction',\n\tTSteps extends ModalSteps<TFinalStepName> = ModalSteps<TFinalStepName>,\n> = {\n\tisOpen: boolean;\n\tclose: () => void;\n\tsteps: TSteps;\n\tflow: FlowState<TFinalStepName>;\n\terror: Error | null;\n};\n\nexport type StepName<T extends ModalSteps> = keyof T;\n\nexport function isTransactionStep(\n\tstep: unknown,\n): step is TransactionStep | ApprovalStep {\n\treturn (\n\t\ttypeof step === 'object' &&\n\t\tstep !== null &&\n\t\t'execute' in step &&\n\t\t'result' in step\n\t);\n}\n\nexport function isApprovalStep(step: unknown): step is ApprovalStep {\n\treturn (\n\t\tisTransactionStep(step) &&\n\t\t'reset' in step &&\n\t\ttypeof (step as ApprovalStep).reset === 'function'\n\t);\n}\n\nexport function isFeeStep(step: unknown): step is FeeStep {\n\treturn (\n\t\ttypeof step === 'object' &&\n\t\tstep !== null &&\n\t\t'isSponsored' in step &&\n\t\t'show' in step &&\n\t\t'cancel' in step\n\t);\n}\n\nexport function isFormStep(step: unknown): step is FormStep {\n\treturn (\n\t\ttypeof step === 'object' &&\n\t\tstep !== null &&\n\t\t'isValid' in step &&\n\t\t'errors' in step\n\t);\n}\n","import type {\n\tApprovalStep,\n\tBaseStepName,\n\tFeeStep,\n\tFlowState,\n\tFormStep,\n\tModalSteps,\n\tStepStatus,\n\tTransactionStep,\n} from '../types/steps';\nimport {\n\tisApprovalStep,\n\tisFeeStep,\n\tisFormStep,\n\tisTransactionStep,\n} from '../types/steps';\n\ntype StepEntry = {\n\tname: string;\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep;\n};\n\nexport function getStepEntries(\n\tsteps: Record<string, FormStep | FeeStep | ApprovalStep | TransactionStep>,\n): StepEntry[] {\n\tconst entries: StepEntry[] = [];\n\n\tif (steps.form) {\n\t\tentries.push({ name: 'form', step: steps.form });\n\t}\n\n\tif (steps.fee) {\n\t\tentries.push({ name: 'fee', step: steps.fee });\n\t}\n\n\tif (steps.approval) {\n\t\tentries.push({ name: 'approval', step: steps.approval });\n\t}\n\n\tconst finalStepKey = Object.keys(steps).find(\n\t\t(key) => key !== 'form' && key !== 'fee' && key !== 'approval',\n\t);\n\n\tif (finalStepKey) {\n\t\tconst finalStep = steps[finalStepKey as keyof typeof steps];\n\t\tif (finalStep) {\n\t\t\tentries.push({\n\t\t\t\tname: finalStepKey,\n\t\t\t\tstep: finalStep as TransactionStep,\n\t\t\t});\n\t\t}\n\t}\n\n\treturn entries;\n}\n\nexport function getStepStatus(\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep,\n): StepStatus {\n\tif (isFormStep(step)) {\n\t\treturn step.status === 'success' ? 'success' : 'idle';\n\t}\n\n\tif (isFeeStep(step)) {\n\t\tif (step.status === 'success') return 'success';\n\t\tif (step.status === 'selecting') return 'pending';\n\t\treturn 'idle';\n\t}\n\n\tif (isTransactionStep(step)) {\n\t\treturn step.status;\n\t}\n\n\treturn 'idle';\n}\n\nexport function isStepComplete(\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep,\n): boolean {\n\tif (isFormStep(step)) {\n\t\treturn step.status === 'success' && step.isValid;\n\t}\n\n\tif (isFeeStep(step)) {\n\t\treturn step.status === 'success';\n\t}\n\n\tif (isTransactionStep(step)) {\n\t\treturn step.isSuccess;\n\t}\n\n\treturn false;\n}\n\nexport function isStepDisabled(\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep,\n): boolean {\n\tif (isFormStep(step)) {\n\t\treturn false;\n\t}\n\n\tif (isFeeStep(step)) {\n\t\treturn false;\n\t}\n\n\tif (isTransactionStep(step)) {\n\t\treturn step.isDisabled;\n\t}\n\n\treturn false;\n}\n\nexport function isStepPending(\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep,\n): boolean {\n\tif (isFormStep(step)) {\n\t\treturn false;\n\t}\n\n\tif (isFeeStep(step)) {\n\t\treturn step.status === 'selecting';\n\t}\n\n\tif (isTransactionStep(step)) {\n\t\treturn step.isPending;\n\t}\n\n\treturn false;\n}\n\nexport function computeFlowState<TFinalStepName extends string = 'transaction'>(\n\tsteps: Record<string, FormStep | FeeStep | ApprovalStep | TransactionStep>,\n): FlowState<TFinalStepName> {\n\tconst stepEntries = getStepEntries(steps);\n\n\tconst totalSteps = stepEntries.length;\n\tconst completedSteps = stepEntries.filter(({ step }) =>\n\t\tisStepComplete(step),\n\t).length;\n\n\tconst currentStepEntry = stepEntries.find(\n\t\t({ step }) => !isStepComplete(step) && !isStepDisabled(step),\n\t);\n\tconst currentStep = (currentStepEntry?.name ||\n\t\tstepEntries[0]?.name ||\n\t\t'form') as BaseStepName | TFinalStepName;\n\n\tconst nextStepEntry = stepEntries.find(({ step }) => {\n\t\tconst status = getStepStatus(step);\n\t\treturn status === 'idle' && !isStepDisabled(step);\n\t});\n\tconst nextStep = (nextStepEntry?.name || null) as\n\t\t| BaseStepName\n\t\t| TFinalStepName\n\t\t| null;\n\n\tconst isPending = stepEntries.some(({ step }) => isStepPending(step));\n\tconst isSuccess = completedSteps === totalSteps && totalSteps > 0;\n\n\tconst hasError = stepEntries.some(({ step }) => {\n\t\tif (isTransactionStep(step)) {\n\t\t\treturn step.status === 'error' || step.error !== null;\n\t\t}\n\t\treturn false;\n\t});\n\n\tlet status: FlowState['status'] = 'idle';\n\tif (isPending) {\n\t\tstatus = 'pending';\n\t} else if (hasError) {\n\t\tstatus = 'error';\n\t} else if (isSuccess) {\n\t\tstatus = 'success';\n\t}\n\n\tconst hasInvalidatedSteps = stepEntries.some(({ step }) => {\n\t\tif (isApprovalStep(step)) {\n\t\t\treturn step.invalidated === true;\n\t\t}\n\t\treturn false;\n\t});\n\n\tconst progressPercent =\n\t\ttotalSteps > 0 ? Math.round((completedSteps / totalSteps) * 100) : 0;\n\n\tconst allSteps = stepEntries.map(({ name, step }) => ({\n\t\tname: name as BaseStepName | TFinalStepName,\n\t\tstatus: getStepStatus(step),\n\t}));\n\n\treturn {\n\t\tstatus,\n\t\tisPending,\n\t\tisSuccess,\n\t\tcurrentStep,\n\t\tnextStep,\n\t\tprogress: {\n\t\t\tcurrent: completedSteps,\n\t\t\ttotal: totalSteps,\n\t\t\tpercent: progressPercent,\n\t\t},\n\t\tallSteps,\n\t\thasInvalidatedSteps,\n\t};\n}\n\nexport function stepNeedsAction(\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep,\n): boolean {\n\tconst status = getStepStatus(step);\n\treturn status === 'idle' && !isStepDisabled(step);\n}\n\nexport function getActionableSteps(steps: ModalSteps): Array<{\n\tname: string;\n\tstep: FormStep | FeeStep | ApprovalStep | TransactionStep;\n}> {\n\treturn getStepEntries(steps).filter(({ step }) => stepNeedsAction(step));\n}\n\nexport function getFirstErrorStep(\n\tsteps: ModalSteps,\n): { name: string; step: TransactionStep | ApprovalStep } | null {\n\tconst entry = getStepEntries(steps).find(({ step }) => {\n\t\tif (isTransactionStep(step)) {\n\t\t\treturn step.status === 'error' || step.error !== null;\n\t\t}\n\t\treturn false;\n\t});\n\n\treturn entry\n\t\t? { name: entry.name, step: entry.step as TransactionStep | ApprovalStep }\n\t\t: null;\n}\n\nexport async function executeNextStep(\n\tsteps: ModalSteps,\n): Promise<{ stepName: string } | null> {\n\tconst stepEntries = getStepEntries(steps);\n\n\tconst nextStep = stepEntries.find(({ step }) => {\n\t\tif (isFeeStep(step) && step.status !== 'success') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (isTransactionStep(step)) {\n\t\t\tconst status = getStepStatus(step);\n\t\t\treturn status === 'idle' && !isStepDisabled(step);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tif (!nextStep) {\n\t\treturn null;\n\t}\n\n\tif (isFeeStep(nextStep.step)) {\n\t\tnextStep.step.show();\n\t\treturn { stepName: nextStep.name };\n\t}\n\n\tif (isTransactionStep(nextStep.step)) {\n\t\tawait nextStep.step.execute();\n\t\treturn { stepName: nextStep.name };\n\t}\n\n\treturn null;\n}\n","export type SuggestedAction =\n\t| 'fix-form'\n\t| 'complete-approval'\n\t| 're-approve'\n\t| 'connect-wallet'\n\t| 'wait-for-tx'\n\t| 'select-fee';\n\nexport type GuardResult = {\n\tcanProceed: boolean;\n\terror?: Error;\n\tsuggestedAction?: SuggestedAction;\n};\n\nexport function createBaseGuard(params: {\n\tisFormValid: boolean;\n\ttxReady: boolean;\n\twalletConnected: boolean;\n}): () => GuardResult {\n\treturn () => {\n\t\tconst { isFormValid, txReady, walletConnected } = params;\n\n\t\tif (!walletConnected) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please connect your wallet'),\n\t\t\t\tsuggestedAction: 'connect-wallet',\n\t\t\t};\n\t\t}\n\n\t\tif (!isFormValid) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please fix form validation errors'),\n\t\t\t\tsuggestedAction: 'fix-form',\n\t\t\t};\n\t\t}\n\n\t\tif (!txReady) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Transaction not ready'),\n\t\t\t\tsuggestedAction: 'wait-for-tx',\n\t\t\t};\n\t\t}\n\n\t\treturn { canProceed: true };\n\t};\n}\n\nexport function createApprovalGuard(params: {\n\tisFormValid: boolean;\n\ttxReady: boolean;\n\twalletConnected: boolean;\n}): () => GuardResult {\n\treturn createBaseGuard(params);\n}\n\nexport function createFinalTransactionGuard(params: {\n\tisFormValid: boolean;\n\ttxReady: boolean;\n\twalletConnected: boolean;\n\trequiresApproval: boolean;\n\tapprovalComplete: boolean;\n}): () => GuardResult {\n\treturn () => {\n\t\tconst {\n\t\t\tisFormValid,\n\t\t\ttxReady,\n\t\t\twalletConnected,\n\t\t\trequiresApproval,\n\t\t\tapprovalComplete,\n\t\t} = params;\n\n\t\tif (!walletConnected) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please connect your wallet'),\n\t\t\t\tsuggestedAction: 'connect-wallet',\n\t\t\t};\n\t\t}\n\n\t\tif (!isFormValid) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please fix form validation errors'),\n\t\t\t\tsuggestedAction: 'fix-form',\n\t\t\t};\n\t\t}\n\n\t\tif (requiresApproval && !approvalComplete) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please approve token first'),\n\t\t\t\tsuggestedAction: 'complete-approval',\n\t\t\t};\n\t\t}\n\n\t\tif (!txReady) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Transaction not ready'),\n\t\t\t\tsuggestedAction: 'wait-for-tx',\n\t\t\t};\n\t\t}\n\n\t\treturn { canProceed: true };\n\t};\n}\n\nexport function createFeeGuard(params: {\n\tfeeSelectionVisible: boolean;\n}): () => GuardResult {\n\treturn () => {\n\t\tconst { feeSelectionVisible } = params;\n\n\t\tif (feeSelectionVisible) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please select a fee option'),\n\t\t\t\tsuggestedAction: 'select-fee',\n\t\t\t};\n\t\t}\n\n\t\treturn { canProceed: true };\n\t};\n}\n\nexport { createApprovalGuard as createApproveStepGuard };\nexport { createFinalTransactionGuard as createOfferStepGuard };\nexport { createFeeGuard as createFeeStepGuard };\n","import type { QueryKey } from '@tanstack/react-query';\nimport { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { Address, Hex } from 'viem';\nimport type { Price } from '../../../../../../types';\nimport type { TransactionType } from '../../../../../_internal/types';\nimport type { ShowTransactionStatusModalArgs } from '.';\n\nexport type ConfirmationStatus = {\n\tisConfirming: boolean;\n\tisConfirmed: boolean;\n\tisFailed: boolean;\n\tisTimeout: boolean;\n};\n\nexport type TransactionStatus = 'PENDING' | 'SUCCESS' | 'FAILED' | 'TIMEOUT';\n\ninterface TransactionStatusModalContext {\n\tisOpen: boolean;\n\thash: Hex | undefined;\n\torderId: string | undefined;\n\tstatus: TransactionStatus;\n\ttransactionType: TransactionType | undefined;\n\tprice: Price | undefined;\n\tcollectionAddress: Address;\n\tchainId: number;\n\ttokenId: bigint;\n\tqueriesToInvalidate?: QueryKey[];\n}\n\nconst initialContext: TransactionStatusModalContext = {\n\tisOpen: false,\n\thash: undefined,\n\torderId: undefined,\n\tstatus: 'PENDING',\n\ttransactionType: undefined,\n\tprice: undefined,\n\tcollectionAddress: '0x0000000000000000000000000000000000000000',\n\tchainId: 0,\n\ttokenId: 0n,\n\tqueriesToInvalidate: [],\n};\n\nexport const transactionStatusModalStore = createStore({\n\tcontext: initialContext,\n\ton: {\n\t\topen: (\n\t\t\tcontext,\n\t\t\tevent: Omit<ShowTransactionStatusModalArgs, 'type'> & {\n\t\t\t\ttransactionType: TransactionType;\n\t\t\t},\n\t\t) => ({\n\t\t\t...context,\n\t\t\tisOpen: true,\n\t\t\thash: event.hash,\n\t\t\torderId: event.orderId,\n\t\t\tprice: event.price,\n\t\t\tcollectionAddress: event.collectionAddress,\n\t\t\tchainId: event.chainId,\n\t\t\ttokenId: event.tokenId,\n\t\t\ttransactionType: event.transactionType,\n\t\t\tqueriesToInvalidate: event.queriesToInvalidate,\n\t\t\tstatus: 'PENDING' as TransactionStatus,\n\t\t}),\n\n\t\tclose: () => ({\n\t\t\t...initialContext,\n\t\t}),\n\n\t\tupdateStatus: (context, event: { status: TransactionStatus }) => ({\n\t\t\t...context,\n\t\t\tstatus: event.status,\n\t\t}),\n\t},\n});\n\n// Selector hooks\nexport const useIsOpen = () =>\n\tuseSelector(transactionStatusModalStore, (state) => state.context.isOpen);\n\nexport const useTransactionStatusModalState = () =>\n\tuseSelector(transactionStatusModalStore, (state) => state.context);\n\nexport const useTransactionHash = () =>\n\tuseSelector(transactionStatusModalStore, (state) => state.context.hash);\n\nexport const useTransactionType = () =>\n\tuseSelector(\n\t\ttransactionStatusModalStore,\n\t\t(state) => state.context.transactionType,\n\t);\n\nexport const useTransactionDetails = () =>\n\tuseSelector(transactionStatusModalStore, (state) => ({\n\t\thash: state.context.hash,\n\t\torderId: state.context.orderId,\n\t\ttransactionType: state.context.transactionType,\n\t\tstatus: state.context.status,\n\t\tchainId: state.context.chainId,\n\t}));\n\nexport const useCollectibleInfo = () =>\n\tuseSelector(transactionStatusModalStore, (state) => ({\n\t\tcollectionAddress: state.context.collectionAddress,\n\t\ttokenId: state.context.tokenId,\n\t\tchainId: state.context.chainId,\n\t\tprice: state.context.price,\n\t}));\n","export const TRANSACTION_TITLES = {\n\tSELL: {\n\t\tconfirming: 'Selling',\n\t\tconfirmed: 'Sold',\n\t\tfailed: 'Sale failed',\n\t},\n\tLISTING: {\n\t\tconfirming: 'Creating listing',\n\t\tconfirmed: 'Listed',\n\t\tfailed: 'Listing failed',\n\t},\n\tOFFER: {\n\t\tconfirming: 'Creating offer',\n\t\tconfirmed: 'Offer created',\n\t\tfailed: 'Offer failed',\n\t},\n\tBUY: {\n\t\tconfirming: 'Buying',\n\t\tconfirmed: 'Bought',\n\t\tfailed: 'Purchase failed',\n\t},\n\tTRANSFER: {\n\t\tconfirming: 'Transferring',\n\t\tconfirmed: 'Transferred',\n\t\tfailed: 'Transfer failed',\n\t},\n\tCANCEL: {\n\t\tconfirming: 'Cancelling',\n\t\tconfirmed: 'Cancelled',\n\t\tfailed: 'Cancellation failed',\n\t},\n} as const;\n","import type { TransactionType } from '../../../../../_internal/types';\nimport type { ConfirmationStatus } from '../transactionStatusModal/store';\nimport { TRANSACTION_TITLES } from './consts';\n\nexport function useTransactionPreviewTitle(\n\torderId: string | undefined,\n\tstatus: ConfirmationStatus,\n\ttype?: TransactionType | undefined,\n): string {\n\tif (!type) return '';\n\n\tconst { isConfirming, isConfirmed, isFailed } = status;\n\tconst titles = TRANSACTION_TITLES[type];\n\n\tif (isConfirmed || orderId) return titles.confirmed;\n\tif (isConfirming) return titles.confirming;\n\tif (isFailed) return titles.failed;\n\n\treturn '';\n}\n","'use client';\n\nimport type { TokenMetadata } from '@0xsequence/api-client';\nimport { Image, NetworkImage, Skeleton, Text } from '@0xsequence/design-system';\nimport { type Address, formatUnits } from 'viem';\nimport type { Price } from '../../../../../../types';\nimport { useCollectionDetail } from '../../../../../hooks';\nimport ChessTileImage from '../../../../images/chess-tile.png';\nimport TimeAgo from '../timeAgo';\nimport { useTransactionType } from '../transactionStatusModal/store';\nimport { useTransactionPreviewTitle } from './useTransactionPreviewTitle';\n\ntype TransactionPreviewProps = {\n\torderId?: string;\n\tprice?: Price;\n\tcollectionAddress: Address;\n\tchainId: number;\n\tcollectible: TokenMetadata | undefined;\n\tcollectibleLoading: boolean;\n\tcurrencyImageUrl?: string;\n\tisConfirming: boolean;\n\tisConfirmed: boolean;\n\tisFailed: boolean;\n\tisTimeout: boolean;\n};\n\nconst TransactionPreview = ({\n\torderId,\n\tprice,\n\tcollectionAddress,\n\tchainId,\n\tcollectible,\n\tcollectibleLoading,\n\tcurrencyImageUrl,\n\tisConfirming,\n\tisConfirmed,\n\tisFailed,\n\tisTimeout,\n}: TransactionPreviewProps) => {\n\tconst transactionType = useTransactionType();\n\tconst title = useTransactionPreviewTitle(\n\t\torderId,\n\t\t{ isConfirmed, isConfirming, isFailed, isTimeout },\n\t\ttransactionType,\n\t);\n\tconst { data: collection, isLoading: collectionLoading } =\n\t\tuseCollectionDetail({\n\t\t\tcollectionAddress,\n\t\t\tchainId,\n\t\t});\n\n\tconst collectibleImage = collectible?.image;\n\tconst collectibleName = collectible?.name;\n\tconst collectionName = collection?.name;\n\tconst priceFormatted = price\n\t\t? formatUnits(BigInt(price?.amountRaw), price?.currency.decimals)\n\t\t: undefined;\n\n\tif (collectibleLoading || collectionLoading) {\n\t\treturn (\n\t\t\t<div className=\"w-full rounded-xl\" style={{ height: 83 }}>\n\t\t\t\t<Skeleton style={{ width: '100%', height: '100%' }} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"rounded-xl bg-background-secondary p-3\"\n\t\t\tdata-testid=\"transaction-preview\"\n\t\t>\n\t\t\t<div className=\"flex items-center\">\n\t\t\t\t<Text\n\t\t\t\t\tclassName=\"mr-1 font-body text-xs\"\n\t\t\t\t\tcolor=\"text80\"\n\t\t\t\t\tfontWeight=\"medium\"\n\t\t\t\t\tdata-testid=\"transaction-preview-title\"\n\t\t\t\t>\n\t\t\t\t\t{title}\n\t\t\t\t</Text>\n\n\t\t\t\t<NetworkImage chainId={Number(chainId)} size=\"xs\" />\n\n\t\t\t\t{isConfirming && <TimeAgo date={new Date()} />}\n\t\t\t</div>\n\t\t\t<div className=\"mt-2 flex items-center\">\n\t\t\t\t<Image\n\t\t\t\t\tclassName=\"mr-3 h-9 w-9 rounded-sm\"\n\t\t\t\t\tsrc={collectibleImage || ChessTileImage}\n\t\t\t\t\talt={collectibleName}\n\t\t\t\t\tstyle={{ objectFit: 'cover' }}\n\t\t\t\t\tdata-testid=\"transaction-preview-image\"\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"flex flex-col items-start gap-0.5\">\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName=\"font-body text-xs\"\n\t\t\t\t\t\tcolor=\"text80\"\n\t\t\t\t\t\tfontWeight=\"medium\"\n\t\t\t\t\t\tdata-testid=\"transaction-preview-collection-name\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{collectionName}\n\t\t\t\t\t</Text>\n\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName=\"font-body text-xs\"\n\t\t\t\t\t\tcolor=\"text100\"\n\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\tdata-testid=\"transaction-preview-collectible-name\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{collectibleName}\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\n\t\t\t\t{price && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"flex grow items-center justify-end gap-1\"\n\t\t\t\t\t\tdata-testid=\"transaction-preview-price\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Image className=\"h-3 w-3\" src={currencyImageUrl} />\n\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tclassName=\"font-body text-xs\"\n\t\t\t\t\t\t\tcolor=\"text100\"\n\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{priceFormatted} {price?.currency.symbol}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TransactionPreview;\n","import { WalletKind } from '@0xsequence/api-client';\nimport { useAccount } from 'wagmi';\n\nexport const useConnectorMetadata = () => {\n\tconst { connector } = useAccount();\n\n\tconst isWaaS = connector?.id.endsWith('waas') ?? false;\n\tconst isSequence = connector?.id.includes('sequence');\n\tconst walletKind = isSequence ? WalletKind.sequence : WalletKind.unknown;\n\n\treturn {\n\t\tisWaaS,\n\t\tisSequence,\n\t\twalletKind,\n\t};\n};\n","'use client';\n\nimport { skipToken, useQuery } from '@tanstack/react-query';\nimport { useEffect, useState } from 'react';\nimport { type Hex, WaitForTransactionReceiptTimeoutError } from 'viem';\nimport { useConfig } from '../../../../../../hooks/config';\nimport { waitForTransactionReceipt } from '../../../../../../utils/waitForTransactionReceipt';\nimport type { TransactionStatus } from '../store';\n\nconst useTransactionStatus = (hash: Hex | undefined, chainId: number) => {\n\tconst sdkConfig = useConfig();\n\tconst [status, setStatus] = useState<TransactionStatus>(\n\t\thash ? 'PENDING' : 'SUCCESS',\n\t);\n\n\tconst { data: confirmationResult, error } = useQuery({\n\t\tqueryKey: ['transaction-confirmation', hash, chainId],\n\t\tqueryFn: hash\n\t\t\t? async () =>\n\t\t\t\t\tawait waitForTransactionReceipt({ txHash: hash, chainId, sdkConfig })\n\t\t\t: skipToken,\n\t});\n\n\tuseEffect(() => {\n\t\tif (!hash) {\n\t\t\tsetStatus('SUCCESS');\n\t\t\treturn;\n\t\t}\n\n\t\tif (error) {\n\t\t\tsetStatus(\n\t\t\t\terror instanceof WaitForTransactionReceiptTimeoutError\n\t\t\t\t\t? 'TIMEOUT'\n\t\t\t\t\t: 'FAILED',\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!confirmationResult) {\n\t\t\tsetStatus('PENDING');\n\t\t\treturn;\n\t\t}\n\n\t\t// If we have a confirmation result and no error, the transaction succeeded\n\t\t// The Indexer will only return a receipt for successful transactions\n\t\tsetStatus('SUCCESS');\n\t}, [confirmationResult, error, hash]);\n\n\treturn status;\n};\n\nexport default useTransactionStatus;\n","import { TransactionType } from '../../../../../../_internal/types';\n\nexport function getFormattedType(\n\ttransactionType: TransactionType,\n\tverb = false,\n): string {\n\tswitch (transactionType) {\n\t\tcase TransactionType.TRANSFER:\n\t\t\treturn verb ? 'transferred' : 'transfer';\n\t\tcase TransactionType.LISTING:\n\t\t\treturn verb ? 'listed' : 'listing';\n\t\tcase TransactionType.BUY:\n\t\t\treturn verb ? 'purchased' : 'purchase';\n\t\tcase TransactionType.SELL:\n\t\t\treturn verb ? 'sold' : 'sale';\n\t\tcase TransactionType.CANCEL:\n\t\t\treturn verb ? 'cancelled' : 'cancellation';\n\t\tcase TransactionType.OFFER:\n\t\t\treturn verb ? 'offered' : 'offer';\n\t\tdefault:\n\t\t\treturn 'transaction';\n\t}\n}\n","import { formatUnits } from 'viem';\nimport type { Price } from '../../../../../../../types';\nimport { TransactionType } from '../../../../../../_internal';\nimport type { TransactionStatus } from '../store';\nimport { getFormattedType } from './getFormattedType';\n\nexport function getTransactionStatusModalMessage({\n\ttransactionStatus,\n\ttransactionType,\n\tcollectibleName,\n\torderId,\n\tprice,\n}: {\n\ttransactionStatus: TransactionStatus;\n\ttransactionType: TransactionType;\n\tcollectibleName: string;\n\torderId?: string;\n\tprice?: Price;\n}): string {\n\t// without this, the text will be \"Your cancellation CollectibleXXX has failed.\" which sounds weird\n\tconst hideCollectibleName = transactionType === 'CANCEL';\n\tconst formattedPrice = price\n\t\t? formatUnits(BigInt(price.amountRaw), price.currency.decimals)\n\t\t: '';\n\n\tif (orderId) {\n\t\treturn `You just ${getFormattedType(transactionType, true)}${!hideCollectibleName ? ` ${collectibleName}` : ''}. It's been confirmed on the blockchain!`;\n\t}\n\n\tif (transactionType === TransactionType.OFFER) {\n\t\treturn `You just offered ${formattedPrice} ${price?.currency.symbol} for ${collectibleName}. It's been confirmed on the blockchain!`;\n\t}\n\n\tswitch (transactionStatus) {\n\t\tcase 'PENDING':\n\t\t\treturn `You just ${getFormattedType(transactionType, true)}${!hideCollectibleName ? ` ${collectibleName}` : ''}. It should be confirmed on the blockchain shortly.`;\n\t\tcase 'SUCCESS':\n\t\t\treturn `You just ${getFormattedType(transactionType, true)}${!hideCollectibleName ? ` ${collectibleName}` : ''}. It's been confirmed on the blockchain!`;\n\t\tcase 'FAILED':\n\t\t\treturn `Your ${getFormattedType(transactionType)} has failed.`;\n\t\tcase 'TIMEOUT':\n\t\t\treturn `Your ${getFormattedType(transactionType)} takes too long. Click the link below to track it on the explorer.`;\n\t\tdefault:\n\t\t\treturn 'Your transaction is processing';\n\t}\n}\n","import type { TransactionType } from '../../../../../../_internal/types';\nimport type { TransactionStatus } from '../store';\nimport { getFormattedType } from './getFormattedType';\n\nexport function getTransactionStatusModalTitle({\n\ttransactionStatus,\n\ttransactionType,\n\torderId,\n}: {\n\ttransactionStatus: TransactionStatus;\n\ttransactionType: TransactionType | undefined;\n\torderId?: string;\n}): string {\n\tif (transactionType === undefined) {\n\t\treturn '';\n\t}\n\tif (orderId) {\n\t\treturn `Your ${getFormattedType(transactionType)} has processed`;\n\t}\n\n\tswitch (transactionStatus) {\n\t\tcase 'PENDING':\n\t\t\treturn `Your ${getFormattedType(transactionType)} is processing`;\n\t\tcase 'SUCCESS':\n\t\t\treturn `Your ${getFormattedType(transactionType)} has processed`;\n\t\tcase 'FAILED':\n\t\t\treturn `Your ${getFormattedType(transactionType)} has failed`;\n\t\tcase 'TIMEOUT':\n\t\t\treturn `Your ${getFormattedType(transactionType)} takes too long`;\n\t\tdefault:\n\t\t\treturn 'Your transaction is processing';\n\t}\n}\n\nexport function getTransactionStatusModalSpinnerTitle({\n\ttransactionStatus,\n}: {\n\ttransactionStatus: TransactionStatus;\n}): string {\n\tswitch (transactionStatus) {\n\t\tcase 'PENDING':\n\t\t\treturn 'Processing transaction';\n\t\tcase 'SUCCESS':\n\t\t\treturn 'Transaction completed';\n\t\tcase 'FAILED':\n\t\t\treturn 'Transaction failed';\n\t\tcase 'TIMEOUT':\n\t\t\treturn 'Taking too long';\n\t\tdefault:\n\t\t\treturn 'Processing transaction';\n\t}\n}\n","'use client';\n\nimport { Modal, Skeleton, Text } from '@0xsequence/design-system';\nimport type { ChainId } from '@0xsequence/network';\nimport type { QueryKey } from '@tanstack/react-query';\nimport type { Address, Hex } from 'viem';\nimport type { Price } from '../../../../../../types';\nimport { getQueryClient } from '../../../../../_internal';\nimport type { TransactionType } from '../../../../../_internal/types';\nimport { useCollectibleDetail } from '../../../../../hooks';\nimport { MODAL_OVERLAY_PROPS } from '../consts';\nimport { selectWaasFeeOptionsStore } from '../selectWaasFeeOptions/store';\nimport TransactionFooter from '../transaction-footer';\nimport TransactionPreview from '../transactionPreview';\nimport useTransactionStatus from './hooks/useTransactionStatus';\nimport {\n\ttransactionStatusModalStore,\n\tuseIsOpen,\n\tuseTransactionStatusModalState,\n} from './store';\nimport { getTransactionStatusModalMessage } from './util/getMessage';\nimport { getTransactionStatusModalTitle } from './util/getTitle';\n\nexport type ShowTransactionStatusModalArgs = {\n\thash?: Hex;\n\torderId?: string;\n\tprice?: Price;\n\tcollectionAddress: Address;\n\tchainId: number;\n\ttokenId: bigint;\n\ttype: TransactionType;\n\tqueriesToInvalidate?: QueryKey[];\n};\n\nconst invalidateQueries = async (queriesToInvalidate?: QueryKey[]) => {\n\tconst queryClient = getQueryClient();\n\tif (!queriesToInvalidate) {\n\t\t// Invalidate everything by default\n\t\tqueryClient.invalidateQueries({\n\t\t\tpredicate: (query) => !query.meta?.persistent,\n\t\t});\n\t\treturn;\n\t}\n\tfor (const queryKey of queriesToInvalidate) {\n\t\tawait queryClient.invalidateQueries({ queryKey });\n\t}\n};\n\nexport const useTransactionStatusModal = () => {\n\treturn {\n\t\tshow: (args: ShowTransactionStatusModalArgs) => {\n\t\t\tconst { type: transactionType, ...rest } = args;\n\t\t\ttransactionStatusModalStore.send({\n\t\t\t\ttype: 'open',\n\t\t\t\ttransactionType,\n\t\t\t\t...rest,\n\t\t\t});\n\t\t},\n\t\tclose: () => {\n\t\t\ttransactionStatusModalStore.send({ type: 'close' });\n\t\t},\n\t};\n};\n\nconst TransactionStatusModal = () => {\n\tconst isOpen = useIsOpen();\n\treturn isOpen ? <TransactionStatusModalContent /> : null;\n};\n\nfunction TransactionStatusModalContent() {\n\tconst {\n\t\ttransactionType: type,\n\t\thash,\n\t\torderId,\n\t\tprice,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\ttokenId,\n\t\tqueriesToInvalidate,\n\t} = useTransactionStatusModalState();\n\n\tconst { data: collectible, isLoading: collectibleLoading } =\n\t\tuseCollectibleDetail({\n\t\t\tcollectionAddress,\n\t\t\tchainId,\n\t\t\ttokenId,\n\t\t});\n\n\tconst transactionStatus = useTransactionStatus(hash, chainId);\n\n\tconst title = getTransactionStatusModalTitle({\n\t\ttransactionStatus,\n\t\ttransactionType: type,\n\t\torderId,\n\t});\n\n\tconst message = type\n\t\t? getTransactionStatusModalMessage({\n\t\t\t\ttransactionStatus,\n\t\t\t\ttransactionType: type,\n\t\t\t\tcollectibleName: collectible?.name || '',\n\t\t\t\torderId,\n\t\t\t\tprice,\n\t\t\t})\n\t\t: '';\n\n\tconst handleClose = () => {\n\t\tinvalidateQueries(queriesToInvalidate);\n\t\tif (selectWaasFeeOptionsStore.getSnapshot().context.isVisible) {\n\t\t\tselectWaasFeeOptionsStore.send({ type: 'hide' });\n\t\t}\n\n\t\ttransactionStatusModalStore.send({ type: 'close' });\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisDismissible={true}\n\t\t\tonClose={handleClose}\n\t\t\tsize=\"sm\"\n\t\t\toverlayProps={MODAL_OVERLAY_PROPS}\n\t\t\tdata-testid=\"transaction-status-modal\"\n\t\t>\n\t\t\t<div className=\"grid flex-col gap-6 p-7\">\n\t\t\t\t{title ? (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName=\"font-body text-xl\"\n\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\tcolor=\"text100\"\n\t\t\t\t\t\tdata-testid=\"transaction-status-title\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Text>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\tclassName=\"h-6 w-16\"\n\t\t\t\t\t\tdata-testid=\"transaction-modal-title-skeleton\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{message ? (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName=\"font-body text-sm\"\n\t\t\t\t\t\tcolor=\"text80\"\n\t\t\t\t\t\tdata-testid=\"transaction-status-message\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Text>\n\t\t\t\t) : (\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\tclassName=\"h-4 w-20\"\n\t\t\t\t\t\tdata-testid=\"transaction-modal-content-skeleton\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<TransactionPreview\n\t\t\t\t\torderId={orderId}\n\t\t\t\t\tprice={price}\n\t\t\t\t\tcollectionAddress={collectionAddress}\n\t\t\t\t\tchainId={chainId}\n\t\t\t\t\tcollectible={collectible}\n\t\t\t\t\tcollectibleLoading={collectibleLoading}\n\t\t\t\t\tcurrencyImageUrl={price?.currency.imageUrl}\n\t\t\t\t\tisConfirming={transactionStatus === 'PENDING'}\n\t\t\t\t\tisConfirmed={transactionStatus === 'SUCCESS'}\n\t\t\t\t\tisFailed={transactionStatus === 'FAILED'}\n\t\t\t\t\tisTimeout={transactionStatus === 'TIMEOUT'}\n\t\t\t\t/>\n\n\t\t\t\t<TransactionFooter\n\t\t\t\t\ttransactionHash={hash}\n\t\t\t\t\torderId={orderId}\n\t\t\t\t\tisConfirming={transactionStatus === 'PENDING'}\n\t\t\t\t\tisConfirmed={transactionStatus === 'SUCCESS'}\n\t\t\t\t\tisFailed={transactionStatus === 'FAILED'}\n\t\t\t\t\tisTimeout={transactionStatus === 'TIMEOUT'}\n\t\t\t\t\tchainId={chainId as unknown as ChainId}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\nexport default TransactionStatusModal;\n","import { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { Address } from 'viem';\nimport type { Order } from '../../../../_internal';\n\nexport type OpenSellModalArgs = {\n\tcollectionAddress: Address;\n\tchainId: number;\n\ttokenId: bigint;\n\torder: Order;\n};\n\ntype SellModalState = Omit<OpenSellModalArgs, 'order'> & {\n\tisOpen: boolean;\n\torder: Order | null;\n};\n\nconst initialContext: SellModalState = {\n\tisOpen: false,\n\tcollectionAddress: '0x0000000000000000000000000000000000000000',\n\tchainId: 0,\n\ttokenId: 0n,\n\torder: null,\n};\n\nexport const sellModalStore = createStore({\n\tcontext: { ...initialContext },\n\ton: {\n\t\topen: (context, event: OpenSellModalArgs) => ({\n\t\t\t...context,\n\t\t\tisOpen: true,\n\t\t\t...event,\n\t\t}),\n\t\tclose: () => ({ ...initialContext }),\n\t},\n});\n\nexport const useSellModal = () => {\n\tconst state = useSelector(sellModalStore, (state) => state.context);\n\n\treturn {\n\t\t...state,\n\t\tshow: (args: OpenSellModalArgs) =>\n\t\t\tsellModalStore.send({ type: 'open', ...args }),\n\t\tclose: () => sellModalStore.send({ type: 'close' }),\n\t};\n};\n\n// Internal hook for accessing store state\nexport const useSellModalState = () => {\n\tconst { isOpen, tokenId, collectionAddress, chainId, order } = useSelector(\n\t\tsellModalStore,\n\t\t(state) => state.context,\n\t);\n\n\tconst closeModal = () => sellModalStore.send({ type: 'close' });\n\tconst currencyAddress = order?.priceCurrencyAddress;\n\n\treturn {\n\t\tisOpen,\n\t\ttokenId,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\torder,\n\t\tcloseModal,\n\t\tcurrencyAddress,\n\t};\n};\n","import { useMutation } from '@tanstack/react-query';\nimport type { Hex } from 'viem';\nimport { formatUnits } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { type Step, TransactionType } from '../../../../_internal';\nimport { useAnalytics } from '../../../../_internal/databeat';\nimport { useConfig, useCurrency, useProcessStep } from '../../../../hooks';\nimport { waitForTransactionReceipt } from '../../../../utils';\nimport { useTransactionStatusModal } from '../../_internal/components/transactionStatusModal';\nimport { useSellModalState } from './store';\nimport type { useGenerateSellTransaction } from './use-generate-sell-transaction';\n\n/**\n * Result type from processStep mutation\n */\nexport type ProcessStepResult =\n\t| { type: 'transaction'; hash: Hex }\n\t| { type: 'signature'; orderId?: string; signature?: Hex };\n\nexport const useSellMutations = (\n\ttx: ReturnType<typeof useGenerateSellTransaction>['data'],\n) => {\n\tconst sdkConfig = useConfig();\n\tconst { show: showTxModal } = useTransactionStatusModal();\n\tconst analytics = useAnalytics();\n\tconst state = useSellModalState();\n\tconst { processStep } = useProcessStep();\n\tconst { address } = useAccount();\n\tconst { data: currency } = useCurrency({\n\t\tchainId: state.chainId,\n\t\tcurrencyAddress: state.currencyAddress,\n\t});\n\n\tasync function executeStepAndWait(step: Step) {\n\t\tconst res = await processStep(step, state.chainId);\n\t\tif (res.type === 'transaction' && res.hash) {\n\t\t\tawait waitForTransactionReceipt({\n\t\t\t\ttxHash: res.hash,\n\t\t\t\tchainId: state.chainId,\n\t\t\t\tsdkConfig,\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tconst approve = useMutation<ProcessStepResult, Error, void>({\n\t\tmutationFn: async () => {\n\t\t\tif (!tx?.approveStep) throw new Error('No approval step available');\n\t\t\treturn await executeStepAndWait(tx.approveStep);\n\t\t},\n\t});\n\n\tconst sell = useMutation<ProcessStepResult, Error, void>({\n\t\tmutationFn: async () => {\n\t\t\tif (!tx?.sellStep) throw new Error('No sell step available');\n\t\t\tconst res = await executeStepAndWait(tx.sellStep);\n\n\t\t\tif (currency && state.order?.priceAmount) {\n\t\t\t\tconst dec = currency.decimals ?? 0;\n\t\t\t\tconst raw = state.order.priceAmount;\n\t\t\t\tconst currencyValueDecimal = Number(formatUnits(BigInt(raw), dec));\n\n\t\t\t\tanalytics.trackSellItems({\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tmarketplaceKind: state.order.marketplace,\n\t\t\t\t\t\tuserId: address || '',\n\t\t\t\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\t\t\t\tcurrencyAddress: currency.contractAddress,\n\t\t\t\t\t\tcurrencySymbol: currency.symbol || '',\n\t\t\t\t\t\trequestId: state.order.orderId,\n\t\t\t\t\t\ttokenId: state.tokenId.toString(),\n\t\t\t\t\t\tchainId: state.chainId.toString(),\n\t\t\t\t\t\ttxnHash: res.type === 'transaction' ? res.hash : '',\n\t\t\t\t\t},\n\t\t\t\t\tnums: {\n\t\t\t\t\t\tcurrencyValueDecimal,\n\t\t\t\t\t\tcurrencyValueRaw: Number(raw),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn res;\n\t\t},\n\t\tonSuccess: (res) => {\n\t\t\tstate.closeModal();\n\t\t\tshowTxModal({\n\t\t\t\ttype: TransactionType.SELL,\n\t\t\t\tchainId: state.chainId,\n\t\t\t\thash: res?.type === 'transaction' ? res.hash : undefined,\n\t\t\t\torderId: res?.type === 'signature' ? res.orderId : undefined,\n\t\t\t\tqueriesToInvalidate: [\n\t\t\t\t\t['collectible', 'market-highest-offer'],\n\t\t\t\t\t['collectible', 'market-list-offers'],\n\t\t\t\t\t['collectible', 'market-count-offers'],\n\t\t\t\t\t['token', 'balances'],\n\t\t\t\t\t['collection', 'balance-details'],\n\t\t\t\t],\n\t\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\t\ttokenId: state.tokenId,\n\t\t\t});\n\t\t},\n\t});\n\n\treturn {\n\t\tapprove,\n\t\tsell,\n\t};\n};\n","import { skipToken } from '@tanstack/react-query';\nimport { avalanche, optimism } from 'viem/chains';\nimport { compareAddress } from '../../../../../utils';\nimport type { AdditionalFee } from '../../../../_internal';\nimport { useMarketplaceConfig } from '../../../../hooks';\n\nexport type FeesParams = {\n\tchainId: number;\n\tcollectionAddress: string;\n};\n\nexport const useMarketPlatformFee = (params: FeesParams | typeof skipToken) => {\n\tconst defaultFee = 2.5;\n\tconst defaultPlatformFeeRecipient =\n\t\t'0x858dB1cbF6D09D447C96A11603189b49B2D1C219';\n\tconst avalancheAndOptimismPlatformFeeRecipient =\n\t\t'0x400cdab4676c17aec07e8ec748a5fc3b674bca41';\n\tconst { data: marketplaceConfig } = useMarketplaceConfig();\n\n\t// Early return if skipToken is passed\n\tif (params === skipToken) {\n\t\treturn {\n\t\t\tamount: 0n,\n\t\t\treceiver: defaultPlatformFeeRecipient,\n\t\t} satisfies AdditionalFee;\n\t}\n\n\tconst { chainId, collectionAddress } = params;\n\n\t// Find collection in market collections only (not shop collections)\n\tconst marketCollection = marketplaceConfig?.market?.collections?.find(\n\t\t(col) =>\n\t\t\tcompareAddress(col.itemsAddress, collectionAddress) &&\n\t\t\tString(col.chainId) === String(chainId),\n\t);\n\n\tconst avalancheOrOptimism =\n\t\tchainId === avalanche.id || chainId === optimism.id;\n\tconst receiver = avalancheOrOptimism\n\t\t? avalancheAndOptimismPlatformFeeRecipient\n\t\t: defaultPlatformFeeRecipient;\n\n\tconst percentageToBPS = (percentage: string | number) =>\n\t\t(Number(percentage) * 10000) / 100;\n\n\t// Use collection fee if found in market collections, otherwise use default\n\tconst feePercentage = marketCollection?.feePercentage ?? defaultFee;\n\n\treturn {\n\t\tamount: BigInt(Math.round(percentageToBPS(feePercentage))),\n\t\treceiver,\n\t} satisfies AdditionalFee;\n};\n","import { skipToken, useQuery } from '@tanstack/react-query';\nimport type { SdkConfig } from '../../../../../types';\nimport {\n\ttype AdditionalFee,\n\ttype GenerateSellTransactionRequest,\n\tgetMarketplaceClient,\n\tStepType,\n\ttype ValuesOptional,\n} from '../../../../_internal';\nimport { useConfig } from '../../../../hooks';\nimport { useMarketPlatformFee } from '../../BuyModal/hooks/useMarketPlatformFee';\n\ntype GenerateSellTransactionArgsWithNumberChainId = Omit<\n\tGenerateSellTransactionRequest,\n\t'chainId'\n> & { chainId: number };\n\ntype UseGenerateSellTransactionArgs = ValuesOptional<\n\tOmit<GenerateSellTransactionArgsWithNumberChainId, 'additionalFees'> & {\n\t\tadditionalFees?: AdditionalFee[];\n\t}\n>;\n\nconst generateSellTransaction = async (\n\targs: GenerateSellTransactionArgsWithNumberChainId,\n\tconfig: SdkConfig,\n) => {\n\tconst marketplaceClient = getMarketplaceClient(config);\n\tconst argsWithStringChainId = {\n\t\t...args,\n\t\tchainId: args.chainId,\n\t} satisfies GenerateSellTransactionRequest;\n\tconst steps = await marketplaceClient\n\t\t.generateSellTransaction(argsWithStringChainId)\n\t\t.then((data) => data.steps);\n\n\tif (steps.length === 0) {\n\t\tthrow new Error('No steps generated');\n\t}\n\n\treturn {\n\t\tsellStep: steps.find((step) => step.id === StepType.sell),\n\t\tapproveStep: steps.find((step) => step.id === StepType.tokenApproval),\n\t};\n};\n\nexport const useGenerateSellTransaction = (\n\tparams: UseGenerateSellTransactionArgs,\n) => {\n\tconst config = useConfig();\n\n\tconst { chainId, collectionAddress, seller, marketplace, ordersData } =\n\t\tparams;\n\n\tconst enabled =\n\t\t!!chainId &&\n\t\t!!collectionAddress &&\n\t\t!!seller &&\n\t\t!!marketplace &&\n\t\t!!ordersData;\n\n\tconst additionalFees = params.additionalFees ? params.additionalFees : [];\n\n\tconst platformFeeParams = enabled\n\t\t? {\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress,\n\t\t\t}\n\t\t: skipToken;\n\n\tconst platformFee = useMarketPlatformFee(platformFeeParams);\n\n\treturn useQuery({\n\t\tqueryKey: ['generateSellTransaction', params],\n\t\tqueryFn: enabled\n\t\t\t? () =>\n\t\t\t\t\tgenerateSellTransaction(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...params,\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t\tmarketplace,\n\t\t\t\t\t\t\tseller,\n\t\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\t\tordersData,\n\t\t\t\t\t\t\tadditionalFees: [platformFee, ...additionalFees],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfig,\n\t\t\t\t\t)\n\t\t\t: skipToken,\n\t});\n};\n","import { useAccount } from 'wagmi';\nimport {\n\tuseCollectibleMetadata,\n\tuseCollectionMetadata,\n\tuseConfig,\n\tuseConnectorMetadata,\n\tuseCurrency,\n} from '../../../../hooks';\nimport { useWaasFeeOptions } from '../../../../hooks/utils/useWaasFeeOptions';\nimport { useSelectWaasFeeOptionsStore } from '../../_internal/components/selectWaasFeeOptions/store';\nimport { computeFlowState } from '../../_internal/helpers/flow-state';\nimport {\n\tcreateApprovalGuard,\n\tcreateFinalTransactionGuard,\n} from '../../_internal/helpers/step-guards';\nimport type {\n\tApprovalStep,\n\tFeeStep,\n\tTransactionStep,\n} from '../../_internal/types/steps';\nimport { useSellMutations } from './sell-mutations';\nimport { useSellModalState } from './store';\nimport { useGenerateSellTransaction } from './use-generate-sell-transaction';\n\nexport type SellModalSteps = {\n\tfee?: FeeStep;\n\tapproval?: ApprovalStep;\n\tsell: TransactionStep;\n};\n\nexport function useSellModalContext() {\n\tconst state = useSellModalState();\n\tconst { address } = useAccount();\n\tconst config = useConfig();\n\n\tconst collectibleQuery = useCollectibleMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\ttokenId: state.tokenId,\n\t});\n\n\tconst collectionQuery = useCollectionMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\tquery: {\n\t\t\tenabled: !!state.isOpen,\n\t\t},\n\t});\n\tconst currencyQuery = useCurrency({\n\t\tchainId: state.chainId,\n\t\tcurrencyAddress: state.currencyAddress,\n\t\tquery: {\n\t\t\tenabled: !!state.isOpen,\n\t\t},\n\t});\n\n\tconst { walletKind, isWaaS } = useConnectorMetadata();\n\n\tconst transactionData = useGenerateSellTransaction({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\tseller: address,\n\t\tmarketplace: state.order?.marketplace,\n\t\twalletType: walletKind,\n\t\tordersData: state.order\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\torderId: state.order.orderId,\n\t\t\t\t\t\tquantity: state.order.quantityRemaining,\n\t\t\t\t\t\ttokenId: BigInt(state.tokenId),\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t: undefined,\n\t});\n\n\tconst { approve, sell } = useSellMutations(transactionData.data);\n\n\tconst waas = useSelectWaasFeeOptionsStore();\n\tconst { pendingFeeOptionConfirmation, rejectPendingFeeOption } =\n\t\tuseWaasFeeOptions(state.chainId, config);\n\tconst isSponsored = pendingFeeOptionConfirmation?.options?.length === 0;\n\tconst isFeeSelectionVisible =\n\t\twaas.isVisible || (!isSponsored && !!pendingFeeOptionConfirmation?.options);\n\n\tconst steps: SellModalSteps = {} as SellModalSteps;\n\n\tif (isWaaS) {\n\t\tconst feeSelected = isSponsored || !!waas.selectedFeeOption;\n\n\t\tsteps.fee = {\n\t\t\tlabel: 'Select Fee',\n\t\t\tstatus: feeSelected\n\t\t\t\t? 'success'\n\t\t\t\t: isFeeSelectionVisible\n\t\t\t\t\t? 'selecting'\n\t\t\t\t\t: 'idle',\n\t\t\tisSponsored,\n\t\t\tisSelecting: isFeeSelectionVisible,\n\t\t\tselectedOption: waas.selectedFeeOption,\n\t\t\tshow: () => waas.show(),\n\t\t\tcancel: () => waas.hide(),\n\t\t};\n\t}\n\n\tconst approveResult =\n\t\tapprove.data &&\n\t\t'type' in approve.data &&\n\t\tapprove.data.type === 'transaction'\n\t\t\t? { type: 'transaction' as const, hash: approve.data.hash }\n\t\t\t: null;\n\n\tif (transactionData.data?.approveStep) {\n\t\tconst approvalGuard = createApprovalGuard({\n\t\t\tisFormValid: true,\n\t\t\ttxReady: !!transactionData.data?.approveStep,\n\t\t\twalletConnected: !!address,\n\t\t});\n\t\tconst guardResult = approvalGuard();\n\n\t\tsteps.approval = {\n\t\t\tlabel: 'Approve',\n\t\t\tstatus: approve.isSuccess\n\t\t\t\t? 'success'\n\t\t\t\t: approve.isPending\n\t\t\t\t\t? 'pending'\n\t\t\t\t\t: approve.error\n\t\t\t\t\t\t? 'error'\n\t\t\t\t\t\t: 'idle',\n\t\t\tisPending: approve.isPending,\n\t\t\tisSuccess: approve.isSuccess,\n\t\t\tisDisabled: !guardResult.canProceed,\n\t\t\tdisabledReason: guardResult.error?.message || null,\n\t\t\terror: approve.error,\n\t\t\tcanExecute: guardResult.canProceed,\n\t\t\tresult: approveResult,\n\t\t\texecute: async () => {\n\t\t\t\tawait approve.mutateAsync();\n\t\t\t},\n\t\t\treset: () => approve.reset(),\n\t\t};\n\t}\n\n\tconst sellGuard = createFinalTransactionGuard({\n\t\tisFormValid: true,\n\t\ttxReady: !!transactionData.data?.sellStep,\n\t\twalletConnected: !!address,\n\t\trequiresApproval: !!transactionData.data?.approveStep && !approve.isSuccess,\n\t\tapprovalComplete: approve.isSuccess || !transactionData.data?.approveStep,\n\t});\n\tconst sellGuardResult = sellGuard();\n\n\tconst sellResult =\n\t\tsell.data && 'type' in sell.data\n\t\t\t? sell.data.type === 'transaction'\n\t\t\t\t? { type: 'transaction' as const, hash: sell.data.hash }\n\t\t\t\t: sell.data.type === 'signature'\n\t\t\t\t\t? sell.data.orderId\n\t\t\t\t\t\t? { type: 'signature' as const, orderId: sell.data.orderId }\n\t\t\t\t\t\t: null\n\t\t\t\t\t: null\n\t\t\t: null;\n\n\tsteps.sell = {\n\t\tlabel: 'Accept Offer',\n\t\tstatus: sell.isSuccess\n\t\t\t? 'success'\n\t\t\t: sell.isPending\n\t\t\t\t? 'pending'\n\t\t\t\t: sell.error\n\t\t\t\t\t? 'error'\n\t\t\t\t\t: 'idle',\n\t\tisPending: sell.isPending,\n\t\tisSuccess: sell.isSuccess,\n\t\tisDisabled: !sellGuardResult.canProceed,\n\t\tdisabledReason: sellGuardResult.error?.message || null,\n\t\terror: sell.error,\n\t\tcanExecute: sellGuardResult.canProceed,\n\t\tresult: sellResult,\n\t\texecute: async () => {\n\t\t\tawait sell.mutateAsync();\n\t\t},\n\t};\n\n\tconst flow = computeFlowState(steps);\n\tconst error =\n\t\ttransactionData.error ||\n\t\tcollectibleQuery.error ||\n\t\tcollectionQuery.error ||\n\t\tcurrencyQuery.error;\n\n\tconst handleClose = () => {\n\t\tif (pendingFeeOptionConfirmation?.id) {\n\t\t\trejectPendingFeeOption(pendingFeeOptionConfirmation.id);\n\t\t}\n\t\twaas.hide();\n\t\tstate.closeModal();\n\t};\n\n\treturn {\n\t\tisOpen: state.isOpen,\n\t\tclose: handleClose,\n\t\titem: {\n\t\t\ttokenId: state.tokenId,\n\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\tchainId: state.chainId,\n\t\t},\n\t\tcollection: collectionQuery.data,\n\t\toffer: {\n\t\t\torder: state.order,\n\t\t\tcurrency: currencyQuery.data,\n\t\t\tpriceAmount: state.order?.priceAmount,\n\t\t},\n\n\t\tsteps,\n\t\tflow,\n\n\t\tloading: {\n\t\t\tcollectible: collectibleQuery.isLoading,\n\t\t\tcollection: collectionQuery.isLoading,\n\t\t\tcurrency: currencyQuery.isLoading,\n\t\t\tsteps: transactionData.isLoading,\n\t\t},\n\n\t\ttransactions: {\n\t\t\tapprove:\n\t\t\t\tapproveResult?.type === 'transaction' ? approveResult.hash : undefined,\n\t\t\tsell: sellResult?.type === 'transaction' ? sellResult.hash : undefined,\n\t\t},\n\n\t\terror,\n\t\tqueries: {\n\t\t\tcollectible: collectibleQuery,\n\t\t\tcollection: collectionQuery,\n\t\t\tcurrency: currencyQuery,\n\t\t},\n\n\t\tget actions() {\n\t\t\tconst needsApproval =\n\t\t\t\tthis.steps.approval && this.steps.approval.status !== 'success';\n\n\t\t\treturn {\n\t\t\t\tapprove: needsApproval\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tlabel: this.steps.approval?.label,\n\t\t\t\t\t\t\tonClick: this.steps.approval?.execute || (() => {}),\n\t\t\t\t\t\t\tloading: this.steps.approval?.isPending,\n\t\t\t\t\t\t\tdisabled: this.steps.approval?.isDisabled,\n\t\t\t\t\t\t\ttestid: 'sell-modal-approve-button',\n\t\t\t\t\t\t}\n\t\t\t\t\t: undefined,\n\t\t\t\tsell: {\n\t\t\t\t\tlabel: this.steps.sell.label,\n\t\t\t\t\tonClick: this.steps.sell.execute,\n\t\t\t\t\tloading: this.steps.sell.isPending,\n\t\t\t\t\tdisabled: this.steps.sell.isDisabled,\n\t\t\t\t\ttestid: 'sell-modal-accept-button',\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t};\n}\n\nexport type SellModalContext = ReturnType<typeof useSellModalContext>;\n","'use client';\n\nimport { Modal, Text } from '@0xsequence/design-system';\nimport type React from 'react';\nimport type { TransactionType } from '../../../../../_internal';\nimport { MODAL_CONTENT_PROPS, MODAL_OVERLAY_PROPS } from '../consts';\n\nexport interface BaseModalProps {\n\tonClose: () => void;\n\ttitle: string;\n\ttransactionType?: TransactionType;\n\tchildren: React.ReactNode;\n\tchainId: number;\n\tdisableAnimation?: boolean;\n}\n\n/**\n * BaseModal - Simplified modal foundation without complex state management\n *\n * This component provides the basic modal structure without:\n * - isOpen prop (controlled by parent component conditional rendering)\n * - CTA system (handled by ActionModal or custom implementations)\n * - Error handling (can be composed separately)\n *\n * Use this when you need a simple modal shell with full control over content.\n */\nexport const BaseModal = ({\n\tonClose,\n\ttitle,\n\tchildren,\n\tdisableAnimation,\n\ttransactionType,\n}: BaseModalProps) => {\n\treturn (\n\t\t<Modal\n\t\t\tisDismissible={true}\n\t\t\tonClose={onClose}\n\t\t\toverlayProps={MODAL_OVERLAY_PROPS}\n\t\t\tcontentProps={MODAL_CONTENT_PROPS(transactionType)}\n\t\t\tdisableAnimation={disableAnimation}\n\t\t>\n\t\t\t<div className=\"relative flex grow flex-col items-center gap-4 p-6\">\n\t\t\t\t<Text className=\"w-full text-center font-body font-bold text-large text-text-100\">\n\t\t\t\t\t{title}\n\t\t\t\t</Text>\n\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","'use client';\n\nimport { Button, WarningIcon } from '@0xsequence/design-system';\nimport { useState } from 'react';\n\ninterface ModalInitializationErrorProps {\n\tonTryAgain?: () => void;\n\tonClose?: () => void;\n\terror: Error;\n}\n\nexport const ModalInitializationError = ({\n\tonTryAgain,\n\tonClose,\n\terror,\n}: ModalInitializationErrorProps) => {\n\tconst [showTechnicalDetails, setShowTechnicalDetails] = useState(false);\n\n\treturn (\n\t\t<div className=\"flex min-h-[400px] flex-col items-center justify-center p-4 text-white\">\n\t\t\t<div className=\"mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-red-500\">\n\t\t\t\t<WarningIcon className=\"h-8 w-8 text-white\" />\n\t\t\t</div>\n\n\t\t\t<h1 className=\"mb-4 text-center font-semibold text-xl\">Failed to Load</h1>\n\n\t\t\t<p className=\"mb-8 max-w-md text-center text-gray-300 text-sm leading-relaxed\">\n\t\t\t\tSomething went wrong while loading this item. Please try again later or\n\t\t\t\trefresh the page.\n\t\t\t</p>\n\n\t\t\t{error.stack && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => setShowTechnicalDetails(!showTechnicalDetails)}\n\t\t\t\t\tclassName=\"mb-4 flex items-center text-gray-400 text-sm transition-colors hover:text-gray-300\"\n\t\t\t\t>\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName={`mr-2 h-4 w-4 transition-transform ${showTechnicalDetails ? 'rotate-180' : ''}`}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\taria-label=\"Toggle technical details\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<title>Toggle technical details</title>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t\tShow technical details\n\t\t\t\t</button>\n\t\t\t)}\n\n\t\t\t{showTechnicalDetails && error.stack && (\n\t\t\t\t<div className=\"mb-8 max-h-64 w-full max-w-md overflow-y-auto rounded-lg border border-red-900 bg-[#2b0000] p-4\">\n\t\t\t\t\t<pre className=\"whitespace-pre-wrap break-words text-red-100 text-xs\">\n\t\t\t\t\t\t{error.stack}\n\t\t\t\t\t</pre>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"flex w-full max-w-xs flex-col space-y-3\">\n\t\t\t\t{onTryAgain && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={onTryAgain}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"flex justify-center\"\n\t\t\t\t\t\tshape=\"square\"\n\t\t\t\t\t>\n\t\t\t\t\t\tTry Again\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{onClose && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"flex justify-center\"\n\t\t\t\t\t\tshape=\"square\"\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/**\n * SDK-specific error classes with name-based discrimination\n * Following wagmi/viem pattern for error handling\n */\n\n// SDK-specific base error\nexport class SequenceMarketplaceError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t\tthis.name = 'SequenceMarketplaceError';\n\t\tObject.setPrototypeOf(this, SequenceMarketplaceError.prototype);\n\t}\n}\n\n// Transaction-related errors\nexport class InsufficientBalanceError extends SequenceMarketplaceError {\n\treadonly required: string;\n\treadonly available: string;\n\treadonly token: string;\n\n\tconstructor(required: string, available: string, token: string) {\n\t\tsuper(\n\t\t\t`Insufficient ${token} balance. Required: ${required}, Available: ${available}`,\n\t\t);\n\t\tthis.name = 'InsufficientBalanceError';\n\t\tthis.required = required;\n\t\tthis.available = available;\n\t\tthis.token = token;\n\t\tObject.setPrototypeOf(this, InsufficientBalanceError.prototype);\n\t}\n}\n\nexport class UserRejectedError extends SequenceMarketplaceError {\n\tconstructor(operation?: string) {\n\t\tsuper(`User rejected ${operation || 'transaction'}`);\n\t\tthis.name = 'UserRejectedError';\n\t\tObject.setPrototypeOf(this, UserRejectedError.prototype);\n\t}\n}\n\nexport class ChainMismatchError extends SequenceMarketplaceError {\n\treadonly expected: number;\n\treadonly actual: number;\n\n\tconstructor(expected: number, actual: number) {\n\t\tsuper(`Chain mismatch. Expected: ${expected}, Current: ${actual}`);\n\t\tthis.name = 'ChainMismatchError';\n\t\tthis.expected = expected;\n\t\tthis.actual = actual;\n\t\tObject.setPrototypeOf(this, ChainMismatchError.prototype);\n\t}\n}\n\nexport class InvalidContractTypeError extends SequenceMarketplaceError {\n\treadonly contractAddress: `0x${string}`;\n\treadonly expectedType: string;\n\treadonly actualType?: string;\n\n\tconstructor(\n\t\tcontractAddress: `0x${string}`,\n\t\texpectedType: string,\n\t\tactualType?: string,\n\t) {\n\t\tconst typeInfo = actualType ? `, got ${actualType}` : '';\n\t\tsuper(\n\t\t\t`Invalid contract type for ${contractAddress}. Expected ${expectedType}${typeInfo}`,\n\t\t);\n\t\tthis.name = 'InvalidContractTypeError';\n\t\tthis.contractAddress = contractAddress;\n\t\tthis.expectedType = expectedType;\n\t\tthis.actualType = actualType;\n\t\tObject.setPrototypeOf(this, InvalidContractTypeError.prototype);\n\t}\n}\n\n// Transaction processing errors\nexport class TransactionStepsError extends SequenceMarketplaceError {\n\treadonly operation: string;\n\treadonly context?: Record<string, unknown>;\n\n\tconstructor(operation: string, context?: Record<string, unknown>) {\n\t\tsuper(`No transaction steps generated for ${operation}`);\n\t\tthis.name = 'TransactionStepsError';\n\t\tthis.operation = operation;\n\t\tthis.context = context;\n\t\tObject.setPrototypeOf(this, TransactionStepsError.prototype);\n\t}\n}\n\nexport class TransactionStepNotFoundError extends SequenceMarketplaceError {\n\treadonly stepType: string;\n\treadonly operation: string;\n\n\tconstructor(stepType: string, operation: string) {\n\t\tsuper(`${stepType} step not found for ${operation}`);\n\t\tthis.name = 'TransactionStepNotFoundError';\n\t\tthis.stepType = stepType;\n\t\tthis.operation = operation;\n\t\tObject.setPrototypeOf(this, TransactionStepNotFoundError.prototype);\n\t}\n}\n\nexport class ApprovalStepMissingError extends SequenceMarketplaceError {\n\treadonly tokenAddress: `0x${string}`;\n\treadonly spenderAddress?: `0x${string}`;\n\n\tconstructor(tokenAddress: `0x${string}`, spenderAddress?: `0x${string}`) {\n\t\tsuper(\n\t\t\t`Approval step missing for token ${tokenAddress}${\n\t\t\t\tspenderAddress ? ` to spender ${spenderAddress}` : ''\n\t\t\t}`,\n\t\t);\n\t\tthis.name = 'ApprovalStepMissingError';\n\t\tthis.tokenAddress = tokenAddress;\n\t\tthis.spenderAddress = spenderAddress;\n\t\tObject.setPrototypeOf(this, ApprovalStepMissingError.prototype);\n\t}\n}\n\n// Marketplace business logic errors\nexport class OrderDataUnavailableError extends SequenceMarketplaceError {\n\treadonly orderId: string;\n\n\tconstructor(orderId: string) {\n\t\tsuper(`Order data not available for order ${orderId}`);\n\t\tthis.name = 'OrderDataUnavailableError';\n\t\tthis.orderId = orderId;\n\t\tObject.setPrototypeOf(this, OrderDataUnavailableError.prototype);\n\t}\n}\n\nexport class OrderExpiredError extends SequenceMarketplaceError {\n\treadonly orderId: string;\n\treadonly expiryDate: Date;\n\n\tconstructor(orderId: string, expiryDate: Date) {\n\t\tsuper(`Order ${orderId} expired on ${expiryDate.toISOString()}`);\n\t\tthis.name = 'OrderExpiredError';\n\t\tthis.orderId = orderId;\n\t\tthis.expiryDate = expiryDate;\n\t\tObject.setPrototypeOf(this, OrderExpiredError.prototype);\n\t}\n}\n\nexport class OrderAlreadyFilledError extends SequenceMarketplaceError {\n\treadonly orderId: string;\n\n\tconstructor(orderId: string) {\n\t\tsuper(`Order ${orderId} has already been filled`);\n\t\tthis.name = 'OrderAlreadyFilledError';\n\t\tthis.orderId = orderId;\n\t\tObject.setPrototypeOf(this, OrderAlreadyFilledError.prototype);\n\t}\n}\n\nexport class ListingNotActiveError extends SequenceMarketplaceError {\n\treadonly listingId: string;\n\treadonly status: string;\n\n\tconstructor(listingId: string, status: string) {\n\t\tsuper(`Listing ${listingId} is not active (status: ${status})`);\n\t\tthis.name = 'ListingNotActiveError';\n\t\tthis.listingId = listingId;\n\t\tthis.status = status;\n\t\tObject.setPrototypeOf(this, ListingNotActiveError.prototype);\n\t}\n}\n\n// Wallet/authentication errors\nexport class WalletNotConnectedError extends SequenceMarketplaceError {\n\tconstructor(operation?: string) {\n\t\tsuper(\n\t\t\t`Wallet not connected${operation ? ` for ${operation}` : ''}. Please connect your wallet.`,\n\t\t);\n\t\tthis.name = 'WalletNotConnectedError';\n\t\tObject.setPrototypeOf(this, WalletNotConnectedError.prototype);\n\t}\n}\n\nexport class InvalidWalletTypeError extends SequenceMarketplaceError {\n\treadonly providedType: string;\n\treadonly supportedTypes: string[];\n\n\tconstructor(providedType: string, supportedTypes: string[] = []) {\n\t\tsuper(\n\t\t\t`Invalid wallet type: ${providedType}. Supported types: ${supportedTypes.join(', ')}`,\n\t\t);\n\t\tthis.name = 'InvalidWalletTypeError';\n\t\tthis.providedType = providedType;\n\t\tthis.supportedTypes = supportedTypes;\n\t\tObject.setPrototypeOf(this, InvalidWalletTypeError.prototype);\n\t}\n}\n\nexport class WalletSignatureError extends SequenceMarketplaceError {\n\treadonly operation: string;\n\treadonly reason?: string;\n\n\tconstructor(operation: string, reason?: string) {\n\t\tsuper(\n\t\t\t`Wallet signature failed for ${operation}${reason ? `: ${reason}` : ''}`,\n\t\t);\n\t\tthis.name = 'WalletSignatureError';\n\t\tthis.operation = operation;\n\t\tthis.reason = reason;\n\t\tObject.setPrototypeOf(this, WalletSignatureError.prototype);\n\t}\n}\n\n// Enhanced validation errors\nexport class InvalidPriceError extends SequenceMarketplaceError {\n\treadonly providedPrice: string;\n\treadonly reason: string;\n\n\tconstructor(providedPrice: string, reason: string) {\n\t\tsuper(`Invalid price ${providedPrice}: ${reason}`);\n\t\tthis.name = 'InvalidPriceError';\n\t\tthis.providedPrice = providedPrice;\n\t\tthis.reason = reason;\n\t\tObject.setPrototypeOf(this, InvalidPriceError.prototype);\n\t}\n}\n\nexport class InvalidExpiryError extends SequenceMarketplaceError {\n\treadonly providedExpiry: Date | string;\n\treadonly reason: string;\n\n\tconstructor(providedExpiry: Date | string, reason: string) {\n\t\tconst expiryStr =\n\t\t\tprovidedExpiry instanceof Date\n\t\t\t\t? providedExpiry.toISOString()\n\t\t\t\t: providedExpiry;\n\t\tsuper(`Invalid expiry ${expiryStr}: ${reason}`);\n\t\tthis.name = 'InvalidExpiryError';\n\t\tthis.providedExpiry = providedExpiry;\n\t\tthis.reason = reason;\n\t\tObject.setPrototypeOf(this, InvalidExpiryError.prototype);\n\t}\n}\n\nexport class MinimumPriceNotMetError extends SequenceMarketplaceError {\n\treadonly providedPrice: string;\n\treadonly minimumPrice: string;\n\treadonly currency: string;\n\n\tconstructor(providedPrice: string, minimumPrice: string, currency: string) {\n\t\tsuper(\n\t\t\t`Price ${providedPrice} ${currency} is below minimum price of ${minimumPrice} ${currency}`,\n\t\t);\n\t\tthis.name = 'MinimumPriceNotMetError';\n\t\tthis.providedPrice = providedPrice;\n\t\tthis.minimumPrice = minimumPrice;\n\t\tthis.currency = currency;\n\t\tObject.setPrototypeOf(this, MinimumPriceNotMetError.prototype);\n\t}\n}\n\nexport class MaximumQuantityExceededError extends SequenceMarketplaceError {\n\treadonly requestedQuantity: number;\n\treadonly maxQuantity: number;\n\treadonly availableQuantity?: number;\n\n\tconstructor(\n\t\trequestedQuantity: number,\n\t\tmaxQuantity: number,\n\t\tavailableQuantity?: number,\n\t) {\n\t\tconst availableInfo = availableQuantity\n\t\t\t? ` (${availableQuantity} available)`\n\t\t\t: '';\n\t\tsuper(\n\t\t\t`Requested quantity ${requestedQuantity} exceeds maximum ${maxQuantity}${availableInfo}`,\n\t\t);\n\t\tthis.name = 'MaximumQuantityExceededError';\n\t\tthis.requestedQuantity = requestedQuantity;\n\t\tthis.maxQuantity = maxQuantity;\n\t\tthis.availableQuantity = availableQuantity;\n\t\tObject.setPrototypeOf(this, MaximumQuantityExceededError.prototype);\n\t}\n}\n\n// Configuration and setup errors\nexport class MissingConfigurationError extends SequenceMarketplaceError {\n\treadonly configKey: string;\n\n\tconstructor(configKey: string, message?: string) {\n\t\tsuper(message || `Required configuration missing: ${configKey}`);\n\t\tthis.name = 'MissingConfigurationError';\n\t\tthis.configKey = configKey;\n\t\tObject.setPrototypeOf(this, MissingConfigurationError.prototype);\n\t}\n}\n\nexport class InvalidProjectAccessKeyError extends SequenceMarketplaceError {\n\treadonly providedKey: string;\n\n\tconstructor(providedKey: string) {\n\t\tsuper(`Invalid project access key: ${providedKey || 'empty'}`);\n\t\tthis.name = 'InvalidProjectAccessKeyError';\n\t\tthis.providedKey = providedKey;\n\t\tObject.setPrototypeOf(this, InvalidProjectAccessKeyError.prototype);\n\t}\n}\n\nexport class MarketplaceProviderNotFoundError extends SequenceMarketplaceError {\n\tconstructor() {\n\t\tsuper(\n\t\t\t'MarketplaceProvider not found. Make sure to wrap your app with <MarketplaceProvider>',\n\t\t);\n\t\tthis.name = 'MarketplaceProviderNotFoundError';\n\t\tObject.setPrototypeOf(this, MarketplaceProviderNotFoundError.prototype);\n\t}\n}\n\nexport class UnsupportedNetworkError extends SequenceMarketplaceError {\n\treadonly networkId: string | number;\n\n\tconstructor(networkId: string | number) {\n\t\tsuper(`Network configuration for chain ${networkId} not found`);\n\t\tthis.name = 'UnsupportedNetworkError';\n\t\tthis.networkId = networkId;\n\t\tObject.setPrototypeOf(this, UnsupportedNetworkError.prototype);\n\t}\n}\n\n// Transaction execution errors\nexport class ChainSwitchError extends SequenceMarketplaceError {\n\treadonly currentChain: number;\n\treadonly targetChain: number;\n\n\tconstructor(currentChain: number, targetChain: number) {\n\t\tsuper(\n\t\t\t`Failed to switch from chain ${currentChain} to chain ${targetChain}`,\n\t\t);\n\t\tthis.name = 'ChainSwitchError';\n\t\tthis.currentChain = currentChain;\n\t\tthis.targetChain = targetChain;\n\t\tObject.setPrototypeOf(this, ChainSwitchError.prototype);\n\t}\n}\n\nexport class TransactionSignatureError extends SequenceMarketplaceError {\n\treadonly stepId: string;\n\treadonly cause?: Error;\n\n\tconstructor(stepId: string, cause?: Error) {\n\t\tsuper(`Transaction signature failed for step: ${stepId}`);\n\t\tthis.name = 'TransactionSignatureError';\n\t\tthis.stepId = stepId;\n\t\tthis.cause = cause;\n\t\tObject.setPrototypeOf(this, TransactionSignatureError.prototype);\n\t}\n}\n\nexport class UnknownStepTypeError extends SequenceMarketplaceError {\n\treadonly stepType: string;\n\n\tconstructor(stepType: string) {\n\t\tsuper(`Unknown step type: ${stepType}`);\n\t\tthis.name = 'UnknownStepTypeError';\n\t\tthis.stepType = stepType;\n\t\tObject.setPrototypeOf(this, UnknownStepTypeError.prototype);\n\t}\n}\n\n// Type guards for error discrimination\nexport const isMarketplaceError = (\n\terror: Error,\n): error is SequenceMarketplaceError => {\n\treturn error instanceof SequenceMarketplaceError;\n};\n\nexport const isInsufficientBalanceError = (\n\terror: Error,\n): error is InsufficientBalanceError => {\n\treturn error.name === 'InsufficientBalanceError';\n};\n\nexport const isUserRejectedError = (\n\terror: Error,\n): error is UserRejectedError => {\n\treturn error.name === 'UserRejectedError';\n};\n\nexport const isChainMismatchError = (\n\terror: Error,\n): error is ChainMismatchError => {\n\treturn error.name === 'ChainMismatchError';\n};\n\nexport const isInvalidContractTypeError = (\n\terror: Error,\n): error is InvalidContractTypeError => {\n\treturn error.name === 'InvalidContractTypeError';\n};\n\n// Transaction processing error type guards\nexport const isTransactionStepsError = (\n\terror: Error,\n): error is TransactionStepsError => {\n\treturn error.name === 'TransactionStepsError';\n};\n\nexport const isTransactionStepNotFoundError = (\n\terror: Error,\n): error is TransactionStepNotFoundError => {\n\treturn error.name === 'TransactionStepNotFoundError';\n};\n\nexport const isApprovalStepMissingError = (\n\terror: Error,\n): error is ApprovalStepMissingError => {\n\treturn error.name === 'ApprovalStepMissingError';\n};\n\n// Marketplace business logic error type guards\nexport const isOrderDataUnavailableError = (\n\terror: Error,\n): error is OrderDataUnavailableError => {\n\treturn error.name === 'OrderDataUnavailableError';\n};\n\nexport const isOrderExpiredError = (\n\terror: Error,\n): error is OrderExpiredError => {\n\treturn error.name === 'OrderExpiredError';\n};\n\nexport const isOrderAlreadyFilledError = (\n\terror: Error,\n): error is OrderAlreadyFilledError => {\n\treturn error.name === 'OrderAlreadyFilledError';\n};\n\nexport const isListingNotActiveError = (\n\terror: Error,\n): error is ListingNotActiveError => {\n\treturn error.name === 'ListingNotActiveError';\n};\n\n// Wallet/authentication error type guards\nexport const isWalletNotConnectedError = (\n\terror: Error,\n): error is WalletNotConnectedError => {\n\treturn error.name === 'WalletNotConnectedError';\n};\n\nexport const isInvalidWalletTypeError = (\n\terror: Error,\n): error is InvalidWalletTypeError => {\n\treturn error.name === 'InvalidWalletTypeError';\n};\n\nexport const isWalletSignatureError = (\n\terror: Error,\n): error is WalletSignatureError => {\n\treturn error.name === 'WalletSignatureError';\n};\n\n// Enhanced validation error type guards\nexport const isInvalidPriceError = (\n\terror: Error,\n): error is InvalidPriceError => {\n\treturn error.name === 'InvalidPriceError';\n};\n\nexport const isInvalidExpiryError = (\n\terror: Error,\n): error is InvalidExpiryError => {\n\treturn error.name === 'InvalidExpiryError';\n};\n\nexport const isMinimumPriceNotMetError = (\n\terror: Error,\n): error is MinimumPriceNotMetError => {\n\treturn error.name === 'MinimumPriceNotMetError';\n};\n\nexport const isMaximumQuantityExceededError = (\n\terror: Error,\n): error is MaximumQuantityExceededError => {\n\treturn error.name === 'MaximumQuantityExceededError';\n};\n\n// Configuration and setup error type guards\nexport const isMissingConfigurationError = (\n\terror: Error,\n): error is MissingConfigurationError => {\n\treturn error.name === 'MissingConfigurationError';\n};\n\nexport const isInvalidProjectAccessKeyError = (\n\terror: Error,\n): error is InvalidProjectAccessKeyError => {\n\treturn error.name === 'InvalidProjectAccessKeyError';\n};\n\nexport const isMarketplaceProviderNotFoundError = (\n\terror: Error,\n): error is MarketplaceProviderNotFoundError => {\n\treturn error.name === 'MarketplaceProviderNotFoundError';\n};\n\nexport const isUnsupportedNetworkError = (\n\terror: Error,\n): error is UnsupportedNetworkError => {\n\treturn error.name === 'UnsupportedNetworkError';\n};\n\n// Transaction execution error type guards\nexport const isChainSwitchError = (error: Error): error is ChainSwitchError => {\n\treturn error.name === 'ChainSwitchError';\n};\n\nexport const isTransactionSignatureError = (\n\terror: Error,\n): error is TransactionSignatureError => {\n\treturn error.name === 'TransactionSignatureError';\n};\n\nexport const isUnknownStepTypeError = (\n\terror: Error,\n): error is UnknownStepTypeError => {\n\treturn error.name === 'UnknownStepTypeError';\n};\n","import {\n\tChainMismatchError,\n\tChainNotFoundError,\n\tContractFunctionExecutionError,\n\tContractFunctionRevertedError,\n\tContractFunctionZeroDataError,\n\tFeeCapTooHighError,\n\tFeeCapTooLowError,\n\tHttpRequestError,\n\tInsufficientFundsError,\n\tIntrinsicGasTooHighError,\n\tIntrinsicGasTooLowError,\n\tInvalidAddressError,\n\tInvalidHexValueError,\n\tLimitExceededRpcError,\n\tNonceTooLowError,\n\tSwitchChainError,\n\tTimeoutError,\n\tTransactionExecutionError,\n\tTransactionReceiptNotFoundError,\n\tUserRejectedRequestError,\n} from 'viem';\nimport {\n\tChainNotConfiguredError,\n\tConnectorAccountNotFoundError,\n\tConnectorAlreadyConnectedError,\n\tConnectorChainMismatchError,\n\tConnectorNotFoundError,\n\tConnectorUnavailableReconnectingError,\n\tProviderNotFoundError,\n\tSwitchChainNotSupportedError,\n\tWagmiProviderNotFoundError,\n} from 'wagmi';\n\nconst WAGMI_ERROR = {\n\tUSER_REJECTED_REQUEST: UserRejectedRequestError.name,\n\tHTTP_REQUEST: HttpRequestError.name,\n\tLIMIT_EXCEEDED_RPC: LimitExceededRpcError.name,\n\tTIMEOUT: TimeoutError.name,\n\tINSUFFICIENT_FUNDS: InsufficientFundsError.name,\n\tTRANSACTION_EXECUTION: TransactionExecutionError.name,\n\tCONTRACT_FUNCTION_EXECUTION: ContractFunctionExecutionError.name,\n\tTRANSACTION_RECEIPT_NOT_FOUND: TransactionReceiptNotFoundError.name,\n\tCHAIN_MISMATCH: ChainMismatchError.name,\n\tCONNECTOR_CHAIN_MISMATCH: ConnectorChainMismatchError.name,\n\tCHAIN_NOT_FOUND: ChainNotFoundError.name,\n\tSWITCH_CHAIN_ERROR: SwitchChainError.name,\n\tFEE_CAP_TOO_LOW: FeeCapTooLowError.name,\n\tFEE_CAP_TOO_HIGH: FeeCapTooHighError.name,\n\tINTRINSIC_GAS_TOO_HIGH: IntrinsicGasTooHighError.name,\n\tCHAIN_NOT_CONFIGURED: ChainNotConfiguredError.name,\n\tSWITCH_CHAIN_NOT_SUPPORTED: SwitchChainNotSupportedError.name,\n\tCONNECTOR_ACCOUNT_NOT_FOUND: ConnectorAccountNotFoundError.name,\n\tCONNECTOR_ALREADY_CONNECTED: ConnectorAlreadyConnectedError.name,\n\tPROVIDER_NOT_FOUND: ProviderNotFoundError.name,\n\tCONNECTOR_UNAVAILABLE_RECONNECTING:\n\t\tConnectorUnavailableReconnectingError.name,\n\tINTRINSIC_GAS_TOO_LOW: IntrinsicGasTooLowError.name,\n\tCONTRACT_FUNCTION_REVERTED: ContractFunctionRevertedError.name,\n\tCONTRACT_FUNCTION_ZERO_DATA: ContractFunctionZeroDataError.name,\n\tINVALID_ADDRESS: InvalidAddressError.name,\n\tINVALID_HEX_VALUE: InvalidHexValueError.name,\n\tWAGMI_PROVIDER_NOT_FOUND: WagmiProviderNotFoundError.name,\n\tCONNECTOR_NOT_FOUND: ConnectorNotFoundError.name,\n\tNONCE_TOO_LOW: NonceTooLowError.name,\n} as const;\n\nconst wagmiErrorClasses = [\n\tUserRejectedRequestError,\n\tHttpRequestError,\n\tLimitExceededRpcError,\n\tTimeoutError,\n\tInsufficientFundsError,\n\tTransactionExecutionError,\n\tContractFunctionExecutionError,\n\tTransactionReceiptNotFoundError,\n\tChainMismatchError,\n\tConnectorChainMismatchError,\n\tChainNotFoundError,\n\tSwitchChainError,\n\tFeeCapTooLowError,\n\tFeeCapTooHighError,\n\tIntrinsicGasTooHighError,\n\tChainNotConfiguredError,\n\tSwitchChainNotSupportedError,\n\tConnectorAccountNotFoundError,\n\tConnectorAlreadyConnectedError,\n\tProviderNotFoundError,\n\tConnectorUnavailableReconnectingError,\n\tIntrinsicGasTooLowError,\n\tContractFunctionRevertedError,\n\tContractFunctionZeroDataError,\n\tInvalidAddressError,\n\tInvalidHexValueError,\n\tWagmiProviderNotFoundError,\n\tConnectorNotFoundError,\n\tNonceTooLowError,\n];\n\nexport const isWagmiError = (error: Error): boolean => {\n\treturn wagmiErrorClasses.some((ErrorClass) => error instanceof ErrorClass);\n};\n\nexport const getWagmiErrorMessage = (error: Error): string => {\n\tswitch (error.name) {\n\t\t// User Action Errors\n\t\tcase WAGMI_ERROR.USER_REJECTED_REQUEST:\n\t\t\treturn 'Transaction was cancelled. You can try again when ready.';\n\n\t\t// Network & RPC Errors\n\t\tcase WAGMI_ERROR.HTTP_REQUEST: {\n\t\t\t// Use error context if available\n\t\t\tinterface HttpError extends Error {\n\t\t\t\tstatus?: number;\n\t\t\t}\n\t\t\tconst httpError = error as HttpError;\n\t\t\tif (httpError.status === 429) {\n\t\t\t\treturn 'Rate limit exceeded. Please wait a moment before trying again.';\n\t\t\t}\n\t\t\tif (httpError.status && httpError.status >= 500) {\n\t\t\t\treturn 'Server error. Please try again in a few moments.';\n\t\t\t}\n\t\t\treturn 'Network connection issue. Please check your connection and try again.';\n\t\t}\n\n\t\tcase WAGMI_ERROR.LIMIT_EXCEEDED_RPC:\n\t\t\treturn 'Rate limit exceeded. Please wait before trying again.';\n\n\t\tcase WAGMI_ERROR.TIMEOUT:\n\t\t\treturn 'Request timed out. Please try again.';\n\n\t\t// Balance & Transaction Errors\n\t\tcase WAGMI_ERROR.INSUFFICIENT_FUNDS:\n\t\t\treturn 'Insufficient balance to complete this transaction.';\n\n\t\tcase WAGMI_ERROR.TRANSACTION_EXECUTION:\n\t\t\treturn 'Transaction execution failed. This usually means the transaction would fail on-chain. Please check your transaction parameters.';\n\n\t\tcase WAGMI_ERROR.CONTRACT_FUNCTION_EXECUTION:\n\t\t\treturn 'Smart contract function failed. Please verify the contract parameters and try again.';\n\n\t\tcase WAGMI_ERROR.TRANSACTION_RECEIPT_NOT_FOUND:\n\t\t\treturn 'Transaction not found. It may still be processing or may have failed.';\n\n\t\t// Chain & Network Errors\n\t\tcase WAGMI_ERROR.CHAIN_MISMATCH:\n\t\tcase WAGMI_ERROR.CONNECTOR_CHAIN_MISMATCH:\n\t\t\treturn 'Wrong network selected. Please switch to the correct network.';\n\n\t\tcase WAGMI_ERROR.CHAIN_NOT_FOUND:\n\t\t\treturn 'Network not found. Please check your network configuration.';\n\n\t\tcase WAGMI_ERROR.CHAIN_NOT_CONFIGURED:\n\t\t\treturn 'This network is not supported. Please switch to a supported network.';\n\n\t\tcase WAGMI_ERROR.SWITCH_CHAIN_ERROR:\n\t\t\treturn 'Failed to switch networks. Please try switching manually in your wallet.';\n\n\t\tcase WAGMI_ERROR.SWITCH_CHAIN_NOT_SUPPORTED:\n\t\t\treturn 'Network switching is not supported by your wallet. Please manually switch networks.';\n\n\t\t// Connector & Wallet Errors\n\t\tcase WAGMI_ERROR.CONNECTOR_ACCOUNT_NOT_FOUND:\n\t\t\treturn 'No wallet account found. Please make sure your wallet is properly connected.';\n\n\t\tcase WAGMI_ERROR.CONNECTOR_ALREADY_CONNECTED:\n\t\t\treturn \"Wallet is already connected. Please refresh the page if you're having issues.\";\n\n\t\tcase WAGMI_ERROR.CONNECTOR_NOT_FOUND:\n\t\tcase WAGMI_ERROR.PROVIDER_NOT_FOUND:\n\t\t\treturn 'Wallet not found or unavailable. Please make sure your wallet is installed and unlocked.';\n\n\t\tcase WAGMI_ERROR.CONNECTOR_UNAVAILABLE_RECONNECTING:\n\t\t\treturn 'Wallet is reconnecting. Please wait a moment and try again.';\n\n\t\t// Gas & Fee Errors\n\t\tcase WAGMI_ERROR.FEE_CAP_TOO_LOW:\n\t\t\treturn 'Gas fee too low. Please increase the gas fee and try again.';\n\n\t\tcase WAGMI_ERROR.FEE_CAP_TOO_HIGH:\n\t\t\treturn 'Gas fee too high. Please reduce the gas fee and try again.';\n\n\t\tcase WAGMI_ERROR.INTRINSIC_GAS_TOO_LOW:\n\t\t\treturn 'Gas limit too low. Please increase the gas limit and try again.';\n\n\t\tcase WAGMI_ERROR.INTRINSIC_GAS_TOO_HIGH:\n\t\t\treturn 'Gas limit too high. Please reduce the gas limit and try again.';\n\n\t\tcase WAGMI_ERROR.NONCE_TOO_LOW:\n\t\t\treturn 'Transaction nonce too low. Please try again.';\n\n\t\t// Contract Errors\n\t\tcase WAGMI_ERROR.CONTRACT_FUNCTION_REVERTED:\n\t\t\treturn 'Transaction was reverted by the smart contract. Please check your transaction parameters.';\n\n\t\tcase WAGMI_ERROR.CONTRACT_FUNCTION_ZERO_DATA:\n\t\t\treturn 'Invalid contract function call. Please verify the function parameters.';\n\n\t\t// Parsing & Data Errors\n\t\tcase WAGMI_ERROR.INVALID_ADDRESS:\n\t\t\treturn 'Invalid wallet address format. Please check the address and try again.';\n\n\t\tcase WAGMI_ERROR.INVALID_HEX_VALUE:\n\t\t\treturn 'Invalid data format. Please check your input and try again.';\n\n\t\t// Wagmi Provider Errors\n\t\tcase WAGMI_ERROR.WAGMI_PROVIDER_NOT_FOUND:\n\t\t\treturn 'Wallet connection error. Please refresh the page and try again.';\n\n\t\t// Generic fallbacks for error categories\n\t\tdefault: {\n\t\t\t// Check for common error message patterns\n\t\t\tconst message = error.message?.toLowerCase() || '';\n\n\t\t\tif (\n\t\t\t\tmessage.includes('insufficient funds') ||\n\t\t\t\tmessage.includes('insufficient balance')\n\t\t\t) {\n\t\t\t\treturn 'Insufficient balance to complete this transaction.';\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tmessage.includes('user rejected') ||\n\t\t\t\tmessage.includes('user denied')\n\t\t\t) {\n\t\t\t\treturn 'Transaction was cancelled. You can try again when ready.';\n\t\t\t}\n\n\t\t\tif (message.includes('network') || message.includes('connection')) {\n\t\t\t\treturn 'Network connection issue. Please check your connection and try again.';\n\t\t\t}\n\n\t\t\tif (message.includes('gas') || message.includes('fee')) {\n\t\t\t\treturn 'Gas estimation failed. Please try adjusting the gas settings.';\n\t\t\t}\n\n\t\t\t// Fallback with more context\n\t\t\treturn error.message || 'Transaction error occurred. Please try again.';\n\t\t}\n\t}\n};\n","import type { WebrpcError } from '@0xsequence/api-client';\n\nexport const getWebRPCErrorMessage = (error: WebrpcError): string => {\n\tswitch (error.code) {\n\t\t// Protocol Errors (negative numbers)\n\t\tcase -1: // WebrpcRequestFailed\n\t\t\treturn 'Connection failed. Please check your internet and try again.';\n\t\tcase -2: // WebrpcBadRoute\n\t\t\treturn 'Invalid request. Please try again.';\n\t\tcase -3: // WebrpcBadMethod\n\t\t\treturn 'Unsupported operation. Please contact support.';\n\t\tcase -4: // WebrpcBadRequest\n\t\t\treturn 'Invalid request format. Please try again.';\n\t\tcase -5: // WebrpcBadResponse\n\t\t\treturn 'Server response error. Please try again.';\n\t\tcase -6: // WebrpcServerPanic\n\t\t\treturn 'Server error. Please try again in a moment.';\n\t\tcase -7: // WebrpcInternalError\n\t\t\treturn 'Server internal error. Please try again.';\n\t\tcase -8: // WebrpcClientDisconnected\n\t\t\treturn 'Connection lost. Please refresh and try again.';\n\t\tcase -9: // WebrpcStreamLost\n\t\t\treturn 'Connection interrupted. Please try again.';\n\t\tcase -10: // WebrpcStreamFinished\n\t\t\treturn 'Operation completed. Please refresh if needed.';\n\n\t\t// Authentication & Authorization (1000s)\n\t\tcase 1000: // Unauthorized\n\t\t\treturn 'Please sign in to continue.';\n\t\tcase 1001: // PermissionDenied\n\t\t\treturn 'You do not have permission for this action.';\n\t\tcase 1002: // SessionExpired\n\t\t\treturn 'Session expired. Please sign in again.';\n\t\tcase 1003: // MethodNotFound\n\t\t\treturn 'Operation not available. Please contact support.';\n\n\t\t// Request Issues (2000s)\n\t\tcase 2000: // Timeout\n\t\t\treturn 'Request timed out. Please try again.';\n\t\tcase 2001: // InvalidArgument\n\t\t\treturn 'Invalid input. Please check your information.';\n\n\t\t// Resource Issues (3000s)\n\t\tcase 3000: // NotFound\n\t\t\treturn 'Item not found or no longer available.';\n\t\tcase 3001: // UserNotFound\n\t\t\treturn 'User not found. Please check the account.';\n\t\tcase 3002: // ProjectNotFound\n\t\t\treturn 'Project not found. Please verify the project.';\n\t\tcase 3003: // InvalidTier\n\t\t\treturn 'Invalid tier. Please contact support.';\n\t\tcase 3005: // ProjectLimitReached\n\t\t\treturn 'Project limit reached. Please upgrade your account.';\n\n\t\t// Not Implemented\n\t\tcase 9999: // NotImplemented\n\t\t\treturn 'Feature not yet available. Please try again later.';\n\n\t\t// Default fallback\n\t\tdefault:\n\t\t\treturn 'Something went wrong. Please try again.';\n\t}\n};\n","import type { WebrpcError } from '@0xsequence/api-client';\nimport { isMarketplaceError } from './errors';\nimport { getWagmiErrorMessage, isWagmiError } from './getWagmiErrorMessage';\nimport { getWebRPCErrorMessage } from './getWebRPCErrorMessage';\n\n/**\n * Type guard to check if an error is a WebRPC error\n */\nfunction isWebrpcError(error: unknown): error is WebrpcError {\n\treturn (\n\t\ttypeof error === 'object' &&\n\t\terror !== null &&\n\t\t'code' in error &&\n\t\ttypeof (error as { code: unknown }).code === 'number'\n\t);\n}\n\nexport const getErrorMessage = (error: Error): string => {\n\t// Handle SDK-specific errors first\n\tif (isMarketplaceError(error)) {\n\t\treturn error.message; // SDK errors already have user-friendly messages\n\t}\n\n\t// Check if it's a WebRPC error (has numeric code property)\n\tif (isWebrpcError(error)) {\n\t\treturn getWebRPCErrorMessage(error);\n\t}\n\n\tif (isWagmiError(error)) {\n\t\treturn getWagmiErrorMessage(error);\n\t}\n\n\treturn (\n\t\t(error as Error)?.message ||\n\t\t'An unexpected error occurred. Please try again.'\n\t);\n};\n","'use client';\n\nimport {\n\tChevronDownIcon,\n\tChevronUpIcon,\n\tCloseIcon,\n\tText,\n\tWarningIcon,\n} from '@0xsequence/design-system';\nimport { useState } from 'react';\n\nexport interface ErrorDisplayProps {\n\ttitle: string;\n\tmessage: string;\n\terror?: Error;\n\tonHide?: () => void;\n}\n\nexport const ErrorDisplay = ({\n\ttitle,\n\tmessage,\n\terror,\n\tonHide,\n}: ErrorDisplayProps) => {\n\tconst [showFullError, setShowFullError] = useState(false);\n\n\tconst toggleFullError = () => {\n\t\tsetShowFullError(!showFullError);\n\t};\n\n\tconst hideErrorDisplay = () => {\n\t\tonHide?.();\n\t};\n\n\treturn (\n\t\t<div className=\"relative max-h-64 w-full overflow-y-auto rounded-lg border border-red-900 bg-[#2b0000] p-3\">\n\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t<WarningIcon\n\t\t\t\t\tclassName=\"absolute mt-0.5 flex-shrink-0 text-red-500\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"min-w-0 flex-1\">\n\t\t\t\t\t<div className=\"relative ml-10 flex flex-col\">\n\t\t\t\t\t\t<Text className=\"font-bold text-red-400 text-sm\">{title}</Text>\n\t\t\t\t\t\t<Text className=\"mt-1 text-red-300 text-xs\">{message}</Text>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{error && (\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={toggleFullError}\n\t\t\t\t\t\t\t\tclassName=\"flex cursor-pointer items-center gap-1 text-red-400 text-xs transition-colors hover:text-red-300\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{showFullError ? 'Hide full error' : 'Show full error'}\n\t\t\t\t\t\t\t\t{showFullError ? (\n\t\t\t\t\t\t\t\t\t<ChevronUpIcon className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ChevronDownIcon className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showFullError && <div className=\"mt-2 h-px bg-red-900\" />}\n\n\t\t\t\t\t\t\t{showFullError && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 overflow-auto rounded-md bg-red-950 p-2\">\n\t\t\t\t\t\t\t\t\t<Text className=\"whitespace-pre-wrap break-words font-mono text-red-100 text-xs\">\n\t\t\t\t\t\t\t\t\t\t{JSON.stringify(error, null, 2)}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tonClick={hideErrorDisplay}\n\t\t\t\t\tclassName=\"absolute right-4 flex-shrink-0 cursor-pointer text-red-400 transition-colors hover:text-red-300\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\taria-label=\"Dismiss error\"\n\t\t\t\t>\n\t\t\t\t\t<CloseIcon className=\"h-3 w-3\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","'use client';\n\nimport { getErrorMessage } from '../../../../../../utils/getErrorMessage';\nimport { ErrorDisplay } from '../../../../components/_internals/ErrorDisplay';\nimport type { ErrorAction } from './errors/errorActionType';\n\ninterface SmartErrorHandlerProps {\n\terror: Error;\n\tonHide?: () => void;\n\tonAction?: (error: Error, action: ErrorAction) => void;\n\tcustomComponent?: (error: Error) => React.ReactNode;\n}\n\nexport const SmartErrorHandler = ({\n\terror,\n\tonHide,\n\tcustomComponent,\n}: SmartErrorHandlerProps) => {\n\tif (customComponent) {\n\t\treturn <>{customComponent(error)}</>;\n\t}\n\n\treturn (\n\t\t<ErrorDisplay\n\t\t\ttitle={error.name || 'Transaction Error'}\n\t\t\tmessage={getErrorMessage(error)}\n\t\t\terror={error}\n\t\t\tonHide={onHide}\n\t\t/>\n\t);\n};\n","'use client';\n\nimport { Button, Spinner, Text } from '@0xsequence/design-system';\nimport type { UseQueryResult } from '@tanstack/react-query';\nimport type React from 'react';\nimport { type ComponentProps, useEffect, useRef, useState } from 'react';\nimport { useEnsureCorrectChain } from '../../../../../hooks';\nimport { BaseModal, type BaseModalProps } from './BaseModal';\nimport type { ErrorAction } from './errors/errorActionType';\nimport { ModalInitializationError } from './errors/ModalInitializationError';\nimport { SmartErrorHandler } from './SmartErrorHandler';\n\ntype ActionModalType = 'listing' | 'offer' | 'sell' | 'buy' | 'transfer';\n\nexport interface CtaAction {\n\tlabel: React.ReactNode;\n\tactionName?: string;\n\tonClick: (() => Promise<void>) | (() => void);\n\tloading?: boolean;\n\tdisabled?: boolean;\n\thidden?: boolean;\n\tvariant?: ComponentProps<typeof Button>['variant'];\n\ttestid?: string;\n}\n\nexport interface MultiQueryWrapperProps<\n\tT extends Record<string, UseQueryResult>,\n> {\n\tqueries: T;\n\tchildren: (\n\t\tdata: { [K in keyof T]: NonNullable<T[K]['data']> },\n\t\terror?: Error,\n\t\trefetchFailedQueries?: () => Promise<void>,\n\t) => React.ReactNode;\n\ttype: ActionModalType;\n}\n\nfunction MultiQueryWrapper<T extends Record<string, UseQueryResult>>({\n\tqueries,\n\tchildren,\n\ttype,\n}: MultiQueryWrapperProps<T>) {\n\t// Check if any query is loading\n\tconst isLoading = Object.values(queries).some((q) => q.isLoading);\n\tconst errors = Object.values(queries)\n\t\t.filter((q) => q.isError)\n\t\t.map((q) => q.error);\n\tconst firstError = errors[0];\n\tconst hasErrors = errors.length > 0;\n\n\t// Check if all queries have data (not undefined)\n\tconst hasAllData = Object.values(queries).every((q) => q.data !== undefined);\n\n\tconst failedQueries = Object.entries(queries)\n\t\t.filter(([, query]) => query.isError)\n\t\t.map(([key, query]) => ({ key, query }));\n\n\tconst refetchFailedQueries = async () => {\n\t\tconst refetchPromises = failedQueries.map(({ query }) => query.refetch());\n\t\tawait Promise.all(refetchPromises);\n\t};\n\n\t// Show spinner only if loading and no errors\n\tif (isLoading && !hasErrors) {\n\t\tconst loadingText =\n\t\t\ttype === 'listing'\n\t\t\t\t? 'Preparing listing data...'\n\t\t\t\t: type === 'offer'\n\t\t\t\t\t? 'Preparing offer data...'\n\t\t\t\t\t: type === 'sell'\n\t\t\t\t\t\t? 'Preparing sale data...'\n\t\t\t\t\t\t: type === 'transfer'\n\t\t\t\t\t\t\t? 'Preparing transfer data...'\n\t\t\t\t\t\t\t: 'Preparing checkout data...';\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"flex h-64 w-full flex-col items-center justify-center gap-8\"\n\t\t\t\tdata-testid=\"error-loading-wrapper\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tdata-testid=\"spinner\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tscale: 1.5,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Spinner size=\"lg\" />\n\t\t\t\t</div>\n\n\t\t\t\t<Text\n\t\t\t\t\tfontWeight=\"medium\"\n\t\t\t\t\tclassName=\"animate-pulse text-sm\"\n\t\t\t\t\tcolor=\"white\"\n\t\t\t\t>\n\t\t\t\t\t{loadingText}\n\t\t\t\t</Text>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// If we have errors or not all data is loaded (but not loading), proceed to error handling\n\tif (hasErrors || (!hasAllData && !isLoading)) {\n\t\t// Build partial data object from queries that have loaded\n\t\t// Type assertion is safe here because we're building the object entry by entry\n\t\t// and the final type matches our expected shape\n\t\tconst data = Object.entries(queries).reduce<Record<string, unknown>>(\n\t\t\t(acc, [key, query]) => {\n\t\t\t\tif (query.data !== undefined) {\n\t\t\t\t\tacc[key] = query.data;\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{},\n\t\t) as { [K in keyof T]: NonNullable<T[K]['data']> };\n\n\t\treturn <>{children(data, firstError, refetchFailedQueries)}</>;\n\t}\n\n\t// Build data object from all queries - now we know all data exists\n\t// Type assertion is safe here because we've verified hasAllData above\n\tconst data = Object.entries(queries).reduce<Record<string, unknown>>(\n\t\t(acc, [key, query]) => {\n\t\t\t// hasAllData guarantees query.data is defined\n\t\t\tif (query.data !== undefined) {\n\t\t\t\tacc[key] = query.data;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\t{},\n\t) as { [K in keyof T]: NonNullable<T[K]['data']> };\n\n\treturn <>{children(data, firstError, refetchFailedQueries)}</>;\n}\n\nexport interface ActionModalProps<T extends Record<string, UseQueryResult>>\n\textends Omit<BaseModalProps, 'children'> {\n\tprimaryAction?: CtaAction;\n\tsecondaryAction?: CtaAction;\n\tadditionalActions?: CtaAction[];\n\ttype: ActionModalType;\n\tqueries: T;\n\tchildren: (\n\t\tdata: { [K in keyof T]: NonNullable<T[K]['data']> },\n\t\terror?: Error,\n\t\trefetchFailedQueries?: () => Promise<void>,\n\t) => React.ReactNode;\n\texternalError?: Error | null;\n\tonErrorDismiss?: () => void;\n\tonErrorAction?: (error: Error, action: ErrorAction) => void;\n\terrorComponent?: (error: Error) => React.ReactNode;\n}\n\n/**\n * AnimatedHeightWrapper - Provides smooth height transitions for modal content\n */\nfunction AnimatedHeightWrapper({ children }: { children: React.ReactNode }) {\n\tconst contentRef = useRef<HTMLDivElement>(null);\n\tconst [height, setHeight] = useState<number | undefined>(undefined);\n\n\tuseEffect(() => {\n\t\tif (!contentRef.current) return;\n\n\t\tconst resizeObserver = new ResizeObserver((entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tconst newHeight = entry.contentRect.height;\n\t\t\t\tsetHeight(newHeight);\n\t\t\t}\n\t\t});\n\n\t\tresizeObserver.observe(contentRef.current);\n\n\t\t// Set initial height\n\t\tsetHeight(contentRef.current.scrollHeight);\n\n\t\treturn () => {\n\t\t\tresizeObserver.disconnect();\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"w-full overflow-hidden\"\n\t\t\tstyle={{\n\t\t\t\theight: height ? `${height}px` : 'auto',\n\t\t\t\ttransition: 'height 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n\t\t\t}}\n\t\t>\n\t\t\t<div ref={contentRef} className=\"flex w-full flex-col gap-4\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport function ActionModal<T extends Record<string, UseQueryResult>>({\n\tchildren,\n\tchainId,\n\ttype,\n\tprimaryAction,\n\tsecondaryAction,\n\tadditionalActions = [],\n\tqueries,\n\texternalError,\n\tonErrorDismiss,\n\tonErrorAction,\n\terrorComponent,\n\t...baseProps\n}: ActionModalProps<T>) {\n\tconst ctas: CtaAction[] = [\n\t\t...(primaryAction ? [primaryAction] : []),\n\t\t...(secondaryAction ? [secondaryAction] : []),\n\t\t...additionalActions,\n\t].filter((cta) => !cta.hidden);\n\tconst [actionError, setActionError] = useState<Error | undefined>(\n\t\tundefined as Error | undefined,\n\t);\n\n\treturn (\n\t\t<BaseModal {...baseProps} chainId={chainId}>\n\t\t\t<AnimatedHeightWrapper>\n\t\t\t\t<MultiQueryWrapper queries={queries} type={type}>\n\t\t\t\t\t{(data, error, refetchFailedQueries) => {\n\t\t\t\t\t\tconst modalInitializationError = externalError || error;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{!modalInitializationError &&\n\t\t\t\t\t\t\t\t\tchildren(data, error, refetchFailedQueries)}\n\n\t\t\t\t\t\t\t\t{(modalInitializationError || actionError) &&\n\t\t\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\t\t\tconst error = modalInitializationError ?? actionError;\n\t\t\t\t\t\t\t\t\t\tif (!error) return null;\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t// If there is an error occured for queries that are required to load the modal, we just display the error component in view.\n\t\t\t\t\t\t\t\t\t\t\t<SmartErrorHandler\n\t\t\t\t\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\t\t\t\t\tonHide={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetActionError(undefined);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonAction={onErrorAction}\n\t\t\t\t\t\t\t\t\t\t\t\tcustomComponent={\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodalInitializationError\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? (error: Error) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ModalInitializationError\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonTryAgain={refetchFailedQueries}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonErrorDismiss?.();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: errorComponent\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t\t\t\t{!modalInitializationError && ctas.length > 0 && (\n\t\t\t\t\t\t\t\t\t<CtaActions\n\t\t\t\t\t\t\t\t\t\tctas={ctas}\n\t\t\t\t\t\t\t\t\t\tchainId={chainId}\n\t\t\t\t\t\t\t\t\t\tonActionError={setActionError}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</MultiQueryWrapper>\n\t\t\t</AnimatedHeightWrapper>\n\t\t</BaseModal>\n\t);\n}\n\nfunction CtaActions({\n\tctas,\n\tchainId,\n\tonActionError,\n}: {\n\tctas: CtaAction[];\n\tchainId: number;\n\tonActionError: (error: Error | undefined) => void;\n}) {\n\tconst { ensureCorrectChain } = useEnsureCorrectChain();\n\tconst ctasInProgress = ctas.filter((cta) => cta.loading);\n\tconst ctaInProgress = ctasInProgress[0];\n\n\treturn (\n\t\t<div className=\"flex w-full flex-col gap-2\">\n\t\t\t{ctas.map((cta, index) => (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"flex w-full items-center justify-center rounded-[12px] [&>div]:justify-center\"\n\t\t\t\t\tkey={`cta-${index}-${cta.onClick.toString()}`}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tensureCorrectChain(Number(chainId), {\n\t\t\t\t\t\t\tonSuccess: async () => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst result = cta.onClick();\n\t\t\t\t\t\t\t\t\tif (result instanceof Promise) {\n\t\t\t\t\t\t\t\t\t\tawait result;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonActionError(undefined);\n\t\t\t\t\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\t\t\t\t\tonActionError(error as Error);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tvariant={cta.variant || (index === 0 ? 'primary' : 'secondary')}\n\t\t\t\t\tdisabled={cta.disabled || cta.loading}\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\tdata-testid={cta.testid}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"flex items-center justify-center gap-2\">\n\t\t\t\t\t\t{cta.loading && (\n\t\t\t\t\t\t\t<div data-testid={`${cta.testid}-spinner`}>\n\t\t\t\t\t\t\t\t<Spinner\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-center text-white\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{cta.label}\n\t\t\t\t\t</div>\n\t\t\t\t</Button>\n\t\t\t))}\n\n\t\t\t{ctaInProgress?.actionName && (\n\t\t\t\t<div className=\"flex w-full items-center justify-center\">\n\t\t\t\t\t<Text className=\"text-sm text-text-50\">\n\t\t\t\t\t\tComplete the {ctaInProgress?.actionName} in your wallet\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","'use client';\n\nimport { cn, Image, Select, Text, Tooltip } from '@0xsequence/design-system';\nimport { useEffect } from 'react';\nimport { formatUnits, zeroAddress } from 'viem';\nimport type {\n\tFeeOption,\n\tFeeOptionExtended,\n} from '../../../../../../types/waas-types';\nimport type { SelectItem } from '../../../../components/_internals/custom-select/CustomSelect';\n\nconst WaasFeeOptionsSelect = ({\n\toptions,\n\tselectedFeeOption,\n\tonSelectedFeeOptionChange,\n\tcurrencyBalance,\n}: {\n\toptions: FeeOption[] | FeeOptionExtended[];\n\tselectedFeeOption: FeeOption | undefined;\n\tonSelectedFeeOptionChange: (option: FeeOption | undefined) => void;\n\tcurrencyBalance?: { value: bigint };\n}) => {\n\toptions = options.map((option) => ({\n\t\t...option,\n\t\ttoken: {\n\t\t\t...option.token,\n\t\t\tcontractAddress: option.token.contractAddress || zeroAddress,\n\t\t},\n\t}));\n\n\tconst feeOptions = options.map((option) => {\n\t\tconst value = option.token.contractAddress ?? '';\n\t\tconst canAfford = (() => {\n\t\t\tconst extendedOption = option as FeeOptionExtended;\n\t\t\tif ('hasEnoughBalanceForFee' in extendedOption) {\n\t\t\t\treturn extendedOption.hasEnoughBalanceForFee;\n\t\t\t}\n\n\t\t\tif (!currencyBalance || !option.value || !option.token.decimals) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst feeValue = BigInt(option.value);\n\t\t\t\treturn currencyBalance.value >= feeValue;\n\t\t\t} catch {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t})();\n\n\t\treturn FeeOptionSelectItem({ value, option, canAfford });\n\t});\n\n\tuseEffect(() => {\n\t\tif (options.length > 0 && !selectedFeeOption) {\n\t\t\tonSelectedFeeOptionChange(options[0]);\n\t\t}\n\t}, [options, selectedFeeOption, onSelectedFeeOptionChange]);\n\n\tif (options.length === 0 || !selectedFeeOption?.token) return null;\n\n\treturn (\n\t\t<Select.Helper\n\t\t\tid=\"fee-option\"\n\t\t\tname=\"fee-option\"\n\t\t\toptions={feeOptions.map((option) => ({\n\t\t\t\tlabel: option.content,\n\t\t\t\tvalue: option.value,\n\t\t\t}))}\n\t\t\tclassName=\"w-full\"\n\t\t\tonValueChange={(value) => {\n\t\t\t\tconst selectedOption = options.find(\n\t\t\t\t\t(option) => option.token.contractAddress === value,\n\t\t\t\t);\n\n\t\t\t\tonSelectedFeeOptionChange(selectedOption);\n\t\t\t}}\n\t\t\tdefaultValue={options[0].token.contractAddress ?? undefined}\n\t\t/>\n\t);\n};\n\nfunction FeeOptionSelectItem({\n\tvalue,\n\toption,\n\tcanAfford,\n}: {\n\tvalue: string;\n\toption: FeeOption;\n\tcanAfford: boolean;\n}) {\n\tconst formattedFee = formatUnits(\n\t\tBigInt(option.value),\n\t\toption.token.decimals || 0,\n\t);\n\tconst isTruncated = formattedFee.length > 11;\n\tconst truncatedFee = isTruncated\n\t\t? `${formattedFee.slice(0, 11)}...`\n\t\t: formattedFee;\n\n\tconst feeDisplay = isTruncated ? (\n\t\t<Tooltip message={formattedFee}>\n\t\t\t<Text\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'font-body text-sm',\n\t\t\t\t\tcanAfford ? 'text-positive' : 'text-text-50',\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{truncatedFee}\n\t\t\t</Text>\n\t\t</Tooltip>\n\t) : (\n\t\t<Text\n\t\t\tclassName={cn(\n\t\t\t\t'font-body text-sm',\n\t\t\t\tcanAfford ? 'text-positive' : 'text-text-50',\n\t\t\t)}\n\t\t>\n\t\t\t{truncatedFee}\n\t\t</Text>\n\t);\n\n\treturn {\n\t\tvalue,\n\t\tcontent: (\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<Image\n\t\t\t\t\tclassName=\"h-3 w-3\"\n\t\t\t\t\tsrc={option.token.logoURL}\n\t\t\t\t\talt={option.token.symbol}\n\t\t\t\t\tstyle={{ opacity: canAfford ? 1 : 0.5 }}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"flex gap-1\">\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t'font-body text-sm',\n\t\t\t\t\t\t\tcanAfford ? 'opacity-100' : 'opacity-50',\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tcolor=\"text100\"\n\t\t\t\t\t>\n\t\t\t\t\t\tFee\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t'font-body text-sm',\n\t\t\t\t\t\t\tcanAfford ? 'opacity-100' : 'opacity-50',\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tcolor=\"text50\"\n\t\t\t\t\t\tfontWeight=\"semibold\"\n\t\t\t\t\t>\n\t\t\t\t\t\t(in {option.token.symbol})\n\t\t\t\t\t</Text>\n\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t'font-body text-sm',\n\t\t\t\t\t\t\tcanAfford ? 'opacity-100' : 'opacity-50',\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tcolor=\"text100\"\n\t\t\t\t\t>\n\t\t\t\t\t\t:\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\n\t\t\t\t{feeDisplay}\n\t\t\t</div>\n\t\t),\n\t} as SelectItem;\n}\n\nexport default WaasFeeOptionsSelect;\n","'use client';\n\nimport { Button, Skeleton, Spinner } from '@0xsequence/design-system';\n\ntype ButtonContentProps = {\n\tconfirmed: boolean;\n\ttokenSymbol?: string;\n};\n\nconst ButtonContent = ({ confirmed, tokenSymbol }: ButtonContentProps) => {\n\tif (confirmed) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<Spinner size=\"sm\" />\n\t\t\t\tConfirming\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!tokenSymbol) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\tContinue with\n\t\t\t\t<Skeleton className=\"h-[20px] w-6 animate-shimmer\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn `Continue with ${tokenSymbol}`;\n};\n\nconst ActionButtons = ({\n\tonCancel,\n\tonConfirm,\n\tdisabled,\n\tloading,\n\tconfirmed,\n\ttokenSymbol,\n}: {\n\tonCancel: () => void;\n\tonConfirm: () => void;\n\tdisabled: boolean;\n\tloading: boolean;\n\tconfirmed: boolean;\n\ttokenSymbol?: string;\n}) => (\n\t<div className=\"mt-4 flex w-full items-center justify-end gap-2\">\n\t\t<Button\n\t\t\tdisabled={loading}\n\t\t\tonClick={onCancel}\n\t\t\tvariant={'ghost'}\n\t\t\tshape=\"square\"\n\t\t\tsize=\"md\"\n\t\t>\n\t\t\t<div className=\"flex items-center gap-2\">Cancel</div>\n\t\t</Button>\n\n\t\t<Button\n\t\t\tdisabled={disabled || loading || confirmed}\n\t\t\tonClick={onConfirm}\n\t\t\tvariant={'primary'}\n\t\t\tshape=\"square\"\n\t\t\tsize=\"md\"\n\t\t>\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<ButtonContent confirmed={confirmed} tokenSymbol={tokenSymbol} />\n\t\t\t</div>\n\t\t</Button>\n\t</div>\n);\n\nexport default ActionButtons;\n","import { CheckmarkIcon, Text, WarningIcon } from '@0xsequence/design-system';\n\nconst BalanceIndicator = ({\n\tinsufficientBalance,\n\tcurrencyBalance,\n\tselectedFeeOption,\n}: {\n\tinsufficientBalance: boolean;\n\tcurrencyBalance?: { formatted: string };\n\tselectedFeeOption?: { token: { symbol: string } };\n}) => (\n\t<div className=\"flex items-center gap-2\">\n\t\t{insufficientBalance ? (\n\t\t\t<WarningIcon className=\"text-negative\" size=\"xs\" />\n\t\t) : (\n\t\t\t<CheckmarkIcon className=\"text-positive\" size=\"xs\" />\n\t\t)}\n\n\t\t<Text\n\t\t\tclassName=\"font-body font-medium text-xs\"\n\t\t\tcolor={insufficientBalance ? 'negative' : 'text100'}\n\t\t>\n\t\t\tYou have {currencyBalance?.formatted || '0'}{' '}\n\t\t\t{selectedFeeOption?.token.symbol}\n\t\t</Text>\n\t</div>\n);\n\nexport default BalanceIndicator;\n","'use client';\n\nimport type { Address } from 'viem';\nimport { erc20Abi, formatUnits, zeroAddress } from 'viem';\nimport { useBalance, useReadContracts } from 'wagmi';\n\nexport type UseCurrencyBalanceArgs = {\n\tcurrencyAddress: Address | undefined;\n\tchainId: number | undefined;\n\tuserAddress: Address | undefined;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\n/**\n * Hook to fetch cryptocurrency balance for a user\n *\n * Retrieves the balance of a specific currency (native token or ERC-20)\n * for a given user address using wagmi. Handles both native tokens (ETH, MATIC, etc.)\n * and ERC-20 tokens with automatic decimal formatting through direct blockchain calls.\n *\n * @param args - Configuration parameters\n * @param args.currencyAddress - The currency contract address (use zero address for native tokens)\n * @param args.chainId - The chain ID to query on\n * @param args.userAddress - The user address to check balance for\n * @param args.query - Optional wagmi query configuration\n *\n * @returns Wagmi query result containing raw and formatted balance values\n *\n * @example\n * Native token balance (ETH):\n * ```typescript\n * const { data: ethBalance, isLoading } = useCurrencyBalance({\n *   currencyAddress: '0x0000000000000000000000000000000000000000', // Zero address for ETH\n *   chainId: 1,\n *   userAddress: '0x1234...'\n * })\n *\n * if (data) {\n *   console.log(`ETH Balance: ${data.formatted} ETH`); // e.g., \"1.5 ETH\"\n *   console.log(`Raw balance: ${data.value.toString()}`); // e.g., \"1500000000000000000\"\n * }\n * ```\n *\n * @example\n * ERC-20 token balance (USDC):\n * ```typescript\n * const { data: usdcBalance } = useCurrencyBalance({\n *   currencyAddress: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', // USDC\n *   chainId: 1,\n *   userAddress: userAddress,\n *   query: {\n *     enabled: Boolean(userAddress), // Only fetch when user is connected\n *     refetchInterval: 30000 // Update every 30 seconds\n *   }\n * })\n *\n * if (data) {\n *   console.log(`USDC Balance: $${data.formatted}`); // e.g., \"$1000.50\"\n * }\n * ```\n */\nexport function useCurrencyBalance(args: UseCurrencyBalanceArgs) {\n\tconst { currencyAddress, chainId, userAddress, query } = args;\n\n\t// Check if all required parameters are present\n\tconst hasAllParams = Boolean(currencyAddress && chainId && userAddress);\n\tconst isNativeToken = currencyAddress === zeroAddress;\n\n\t// For native token (zero address), use useBalance\n\tconst nativeBalance = useBalance({\n\t\taddress: userAddress,\n\t\tchainId,\n\t\tquery: {\n\t\t\t...query,\n\t\t\tenabled: hasAllParams && isNativeToken && (query?.enabled ?? true),\n\t\t},\n\t});\n\n\t// For ERC-20 tokens, use useReadContracts to get both balance and decimals\n\tconst erc20Balance = useReadContracts({\n\t\tcontracts:\n\t\t\thasAllParams && !isNativeToken && currencyAddress && userAddress\n\t\t\t\t? [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taddress: currencyAddress,\n\t\t\t\t\t\t\tabi: erc20Abi,\n\t\t\t\t\t\t\tfunctionName: 'balanceOf',\n\t\t\t\t\t\t\targs: [userAddress],\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taddress: currencyAddress,\n\t\t\t\t\t\t\tabi: erc20Abi,\n\t\t\t\t\t\t\tfunctionName: 'decimals',\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t: [],\n\t\tquery: {\n\t\t\t...query,\n\t\t\tenabled: hasAllParams && !isNativeToken && (query?.enabled ?? true),\n\t\t},\n\t});\n\n\t// Return native balance result if zero address\n\tif (isNativeToken) {\n\t\treturn {\n\t\t\t...nativeBalance,\n\t\t\tdata: nativeBalance.data\n\t\t\t\t? {\n\t\t\t\t\t\tvalue: nativeBalance.data.value,\n\t\t\t\t\t\tformatted: nativeBalance.data.formatted,\n\t\t\t\t\t}\n\t\t\t\t: undefined,\n\t\t};\n\t}\n\n\t// Return ERC-20 balance result with formatted data\n\tconst [balanceResult, decimalsResult] = erc20Balance.data || [];\n\tconst balance = balanceResult?.result;\n\tconst decimals = decimalsResult?.result;\n\n\tconst formattedData =\n\t\tbalance !== undefined && decimals !== undefined\n\t\t\t? {\n\t\t\t\t\tvalue: balance,\n\t\t\t\t\tformatted: formatUnits(balance, decimals),\n\t\t\t\t}\n\t\t\t: undefined;\n\n\treturn {\n\t\t...erc20Balance,\n\t\tdata: formattedData,\n\t};\n}\n","import { useEffect, useState } from 'react';\nimport { type Address, zeroAddress } from 'viem';\nimport { useAccount } from 'wagmi';\nimport type { FeeOption } from '../../../../../../types/waas-types';\nimport { useConfig } from '../../../../../hooks';\nimport { useCurrencyBalance } from '../../../../../hooks/data/tokens/useCurrencyBalance';\nimport { useWaasFeeOptions } from '../../../../../hooks/utils/useWaasFeeOptions';\nimport { useSelectWaasFeeOptionsStore } from './store';\n\nconst useWaasFeeOptionManager = (chainId: number) => {\n\tconst config = useConfig();\n\tconst { address: userAddress } = useAccount();\n\tconst { selectedFeeOption, setSelectedFeeOption } =\n\t\tuseSelectWaasFeeOptionsStore();\n\n\tconst {\n\t\tpendingFeeOptionConfirmation,\n\t\tconfirmPendingFeeOption,\n\t\trejectPendingFeeOption,\n\t} = useWaasFeeOptions(chainId, config);\n\tconst [feeOptionsConfirmed, setFeeOptionsConfirmed] = useState(false);\n\n\tconst { data: currencyBalance, isLoading: currencyBalanceLoading } =\n\t\tuseCurrencyBalance({\n\t\t\tchainId,\n\t\t\tcurrencyAddress: (selectedFeeOption?.token.contractAddress ||\n\t\t\t\tzeroAddress) as Address,\n\t\t\tuserAddress: userAddress as Address,\n\t\t});\n\n\tuseEffect(() => {\n\t\tif (!selectedFeeOption && pendingFeeOptionConfirmation) {\n\t\t\tif (pendingFeeOptionConfirmation.options.length > 0) {\n\t\t\t\tsetSelectedFeeOption(\n\t\t\t\t\tpendingFeeOptionConfirmation.options[0] as FeeOption,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [pendingFeeOptionConfirmation, selectedFeeOption, setSelectedFeeOption]);\n\n\tconst insufficientBalance = (() => {\n\t\tif (!selectedFeeOption?.value || !selectedFeeOption.token.decimals) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!currencyBalance?.value && currencyBalance?.value !== 0n) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttry {\n\t\t\tconst feeValue = BigInt(selectedFeeOption.value);\n\t\t\treturn currencyBalance.value === 0n || currencyBalance.value < feeValue;\n\t\t} catch {\n\t\t\treturn true;\n\t\t}\n\t})();\n\n\tconst handleConfirmFeeOption = () => {\n\t\tif (!selectedFeeOption?.token || !pendingFeeOptionConfirmation?.id) return;\n\n\t\tconfirmPendingFeeOption(\n\t\t\tpendingFeeOptionConfirmation?.id,\n\t\t\tselectedFeeOption.token.contractAddress || zeroAddress,\n\t\t);\n\n\t\trejectPendingFeeOption(pendingFeeOptionConfirmation?.id);\n\t\tsetFeeOptionsConfirmed(true);\n\t};\n\n\tconst handleRejectFeeOption = (id: string) => {\n\t\trejectPendingFeeOption(id);\n\t\t// Also clear the store when rejecting\n\t\tsetSelectedFeeOption(undefined);\n\t};\n\n\treturn {\n\t\tselectedFeeOption,\n\t\tpendingFeeOptionConfirmation,\n\t\tcurrencyBalance,\n\t\tcurrencyBalanceLoading,\n\t\tinsufficientBalance,\n\t\tfeeOptionsConfirmed,\n\t\thandleConfirmFeeOption,\n\t\trejectPendingFeeOption: handleRejectFeeOption,\n\t};\n};\n\nexport default useWaasFeeOptionManager;\n","'use client';\n\nimport { Separator, Skeleton, Text } from '@0xsequence/design-system';\nimport type { FeeOption } from '../../../../../../types/waas-types';\nimport { cn } from '../../../../../../utils';\nimport WaasFeeOptionsSelect from '../waasFeeOptionsSelect/WaasFeeOptionsSelect';\nimport ActionButtons from './_components/ActionButtons';\nimport BalanceIndicator from './_components/BalanceIndicator';\nimport { useSelectWaasFeeOptionsStore } from './store';\nimport useWaasFeeOptionManager from './useWaasFeeOptionManager';\n\ntype SelectWaasFeeOptionsProps = {\n\tonCancel?: () => void;\n\tchainId: number;\n\ttitleOnConfirm?: string;\n\tclassName?: string;\n};\n\nconst SelectWaasFeeOptions = ({\n\tchainId,\n\tonCancel,\n\ttitleOnConfirm,\n\tclassName,\n}: SelectWaasFeeOptionsProps) => {\n\tconst { isVisible, hide, setSelectedFeeOption } =\n\t\tuseSelectWaasFeeOptionsStore();\n\tconst {\n\t\tselectedFeeOption,\n\t\tpendingFeeOptionConfirmation,\n\t\tcurrencyBalance,\n\t\tcurrencyBalanceLoading,\n\t\tinsufficientBalance,\n\t\tfeeOptionsConfirmed,\n\t\thandleConfirmFeeOption,\n\t\trejectPendingFeeOption,\n\t} = useWaasFeeOptionManager(chainId);\n\n\tconst handleCancelFeeOption = () => {\n\t\tif (pendingFeeOptionConfirmation?.id) {\n\t\t\trejectPendingFeeOption(pendingFeeOptionConfirmation?.id);\n\t\t}\n\n\t\thide();\n\t\tonCancel?.();\n\t};\n\n\tconst isSponsored = pendingFeeOptionConfirmation?.options?.length === 0;\n\tconst shouldDisplay =\n\t\t!isSponsored &&\n\t\t(isVisible || !!pendingFeeOptionConfirmation?.options?.length);\n\n\tif (!shouldDisplay || !selectedFeeOption) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t'flex w-full flex-col gap-2 rounded-2xl bg-button-emphasis p-0 backdrop-blur-md',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t<Separator className=\"mt-0 mb-4\" />\n\n\t\t\t<Text className=\"mb-2 font-body font-bold text-large text-text-100\">\n\t\t\t\t{feeOptionsConfirmed ? titleOnConfirm : 'Select a fee option'}\n\t\t\t</Text>\n\n\t\t\t{!feeOptionsConfirmed && !pendingFeeOptionConfirmation && (\n\t\t\t\t<Skeleton className=\"h-[52px] w-full animate-shimmer rounded-xl\" />\n\t\t\t)}\n\n\t\t\t{(feeOptionsConfirmed || pendingFeeOptionConfirmation) && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'[&>label>button>span]:overflow-hidden [&>label>button]:w-full [&>label>button]:text-xs [&>label>div]:w-full [&>label]:flex [&>label]:w-full',\n\t\t\t\t\t\tfeeOptionsConfirmed && 'pointer-events-none opacity-70',\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<WaasFeeOptionsSelect\n\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t(pendingFeeOptionConfirmation?.options as FeeOption[]) || [\n\t\t\t\t\t\t\t\tselectedFeeOption,\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tselectedFeeOption={selectedFeeOption}\n\t\t\t\t\t\tonSelectedFeeOptionChange={setSelectedFeeOption}\n\t\t\t\t\t\tcurrencyBalance={currencyBalance}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"flex w-full items-start justify-between\">\n\t\t\t\t{!feeOptionsConfirmed &&\n\t\t\t\t\t(!pendingFeeOptionConfirmation || currencyBalanceLoading) && (\n\t\t\t\t\t\t<Skeleton className=\"h-4 w-2/3 animate-shimmer rounded-xl\" />\n\t\t\t\t\t)}\n\n\t\t\t\t{(feeOptionsConfirmed ||\n\t\t\t\t\t(pendingFeeOptionConfirmation && !currencyBalanceLoading)) && (\n\t\t\t\t\t<BalanceIndicator\n\t\t\t\t\t\tinsufficientBalance={insufficientBalance}\n\t\t\t\t\t\tcurrencyBalance={currencyBalance}\n\t\t\t\t\t\tselectedFeeOption={selectedFeeOption}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<ActionButtons\n\t\t\t\tonCancel={handleCancelFeeOption}\n\t\t\t\tonConfirm={handleConfirmFeeOption}\n\t\t\t\tdisabled={\n\t\t\t\t\t!selectedFeeOption?.token ||\n\t\t\t\t\tinsufficientBalance ||\n\t\t\t\t\tcurrencyBalanceLoading\n\t\t\t\t}\n\t\t\t\tloading={currencyBalanceLoading}\n\t\t\t\tconfirmed={feeOptionsConfirmed}\n\t\t\t\ttokenSymbol={selectedFeeOption?.token.symbol}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default SelectWaasFeeOptions;\n","'use client';\n\nimport { Image, Skeleton, Text } from '@0xsequence/design-system';\nimport type { Address } from 'viem';\nimport { useCollectibleDetail } from '../../../../../hooks';\nimport ChessTileImage from '../../../../images/chess-tile.png';\n\ntype TokenPreviewProps = {\n\tcollectionName?: string;\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\tchainId: number;\n};\n\nexport default function TokenPreview({\n\tcollectionName,\n\tcollectionAddress,\n\ttokenId,\n\tchainId,\n}: TokenPreviewProps) {\n\tconst { data: collectable, isLoading: collectibleLoading } =\n\t\tuseCollectibleDetail({\n\t\t\tchainId,\n\t\t\tcollectionAddress,\n\t\t\ttokenId,\n\t\t});\n\n\tif (collectibleLoading) {\n\t\treturn (\n\t\t\t<div className=\"flex w-full items-center gap-3\">\n\t\t\t\t<Skeleton className=\"h-9 w-9 rounded-sm\" />\n\t\t\t\t<div className=\"flex grow flex-col gap-1\">\n\t\t\t\t\t<Skeleton className=\"h-3 w-1/3\" />\n\t\t\t\t\t<Skeleton className=\"h-3 w-1/2\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"flex w-full items-center\">\n\t\t\t<Image\n\t\t\t\tclassName=\"h-9 w-9 rounded-sm\"\n\t\t\t\tsrc={collectable?.image || ChessTileImage}\n\t\t\t\talt={collectable?.name}\n\t\t\t\tstyle={{ objectFit: 'cover' }}\n\t\t\t/>\n\t\t\t<div className=\"ml-3 flex flex-col\">\n\t\t\t\t<Text className=\"font-body font-medium text-xs\" color={'text80'}>\n\t\t\t\t\t{collectionName}\n\t\t\t\t</Text>\n\n\t\t\t\t<Text\n\t\t\t\t\tclassName=\"font-body font-bold text-xs\"\n\t\t\t\t\tfontWeight={'bold'}\n\t\t\t\t\tcolor={'text100'}\n\t\t\t\t>\n\t\t\t\t\t{collectable?.name}\n\t\t\t\t</Text>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","'use client';\n\nimport {\n\tChevronRightIcon,\n\tImage,\n\tSkeleton,\n\tText,\n\tTooltip,\n} from '@0xsequence/design-system';\nimport { useEffect, useState } from 'react';\nimport type { Address } from 'viem';\nimport { DEFAULT_MARKETPLACE_FEE_PERCENTAGE } from '../../../../../../consts';\nimport type { Price } from '../../../../../../types';\nimport { calculateEarningsAfterFees } from '../../../../../../utils/price';\nimport { useMarketplaceConfig, useRoyalty } from '../../../../../hooks';\n\ntype TransactionDetailsProps = {\n\ttokenId: bigint;\n\tcollectionAddress: Address;\n\tchainId: number;\n\tprice?: Price;\n\tcurrencyImageUrl?: string;\n\tincludeMarketplaceFee: boolean;\n\t// We use a placeholder price for create listing modal\n\tshowPlaceholderPrice?: boolean;\n};\n\nexport default function TransactionDetails({\n\ttokenId,\n\tcollectionAddress,\n\tchainId,\n\tincludeMarketplaceFee,\n\tprice,\n\tshowPlaceholderPrice,\n\tcurrencyImageUrl,\n}: TransactionDetailsProps) {\n\tconst { data, isLoading: marketplaceConfigLoading } = useMarketplaceConfig();\n\n\tconst marketplaceFeePercentage = includeMarketplaceFee\n\t\t? data?.market.collections.find(\n\t\t\t\t(collection) => collection.itemsAddress === collectionAddress,\n\t\t\t)?.feePercentage || DEFAULT_MARKETPLACE_FEE_PERCENTAGE\n\t\t: 0;\n\t// royaltyPercentage is an array of [recipient, percentage]\n\tconst { data: royalty, isLoading: royaltyLoading } = useRoyalty({\n\t\tchainId,\n\t\tcollectionAddress,\n\t\ttokenId,\n\t});\n\tconst [overflow, setOverflow] = useState({\n\t\tstatus: false,\n\t\tamount: '0',\n\t});\n\n\tconst priceLoading = !price || marketplaceConfigLoading || royaltyLoading;\n\n\tconst [formattedAmount, setFormattedAmount] = useState('0');\n\n\tuseEffect(() => {\n\t\tif (!price || royaltyLoading || marketplaceConfigLoading) return;\n\n\t\tconst fees: number[] = [];\n\t\tif (royalty?.percentage && royalty?.percentage > 0) {\n\t\t\tfees.push(Number(royalty.percentage));\n\t\t}\n\t\tif (marketplaceFeePercentage > 0) {\n\t\t\tfees.push(marketplaceFeePercentage);\n\t\t}\n\t\tconst newFormattedAmount = calculateEarningsAfterFees(\n\t\t\tBigInt(price.amountRaw),\n\t\t\tprice.currency.decimals,\n\t\t\tfees,\n\t\t);\n\t\tsetFormattedAmount(newFormattedAmount);\n\t}, [\n\t\tprice,\n\t\troyalty,\n\t\tmarketplaceFeePercentage,\n\t\troyaltyLoading,\n\t\tmarketplaceConfigLoading,\n\t]);\n\n\tuseEffect(() => {\n\t\tif (formattedAmount.length > 15) {\n\t\t\tsetOverflow((prev) =>\n\t\t\t\tprev.status\n\t\t\t\t\t? prev\n\t\t\t\t\t: { status: true, amount: formattedAmount.slice(0, 15) },\n\t\t\t);\n\t\t} else {\n\t\t\tsetOverflow({ status: false, amount: formattedAmount });\n\t\t}\n\t}, [formattedAmount]);\n\n\treturn (\n\t\t<div className=\"flex w-full items-center justify-between\">\n\t\t\t<Text className=\"font-body font-medium text-xs\" color={'text50'}>\n\t\t\t\tTotal earnings\n\t\t\t</Text>\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t{currencyImageUrl ? (\n\t\t\t\t\t<Image className=\"h-3 w-3\" src={currencyImageUrl} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"h-3 w-3 rounded-full bg-background-secondary\" />\n\t\t\t\t)}\n\n\t\t\t\t{priceLoading ? (\n\t\t\t\t\t<Skeleton className=\"h-4 w-12 animate-shimmer\" />\n\t\t\t\t) : (\n\t\t\t\t\t<Text className=\"font-body font-medium text-xs\" color={'text100'}>\n\t\t\t\t\t\t{showPlaceholderPrice ? (\n\t\t\t\t\t\t\t<Text className=\"font-body font-medium text-xs\" color={'text100'}>\n\t\t\t\t\t\t\t\t0 {price.currency.symbol}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t) : overflow.status ? (\n\t\t\t\t\t\t\t<Tooltip message={`${formattedAmount} ${price.currency.symbol}`}>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<ChevronRightIcon className=\"h-3 w-3 text-text-100\" />\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-body font-medium text-xs\"\n\t\t\t\t\t\t\t\t\t\tcolor={'text100'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{overflow.amount} {price.currency.symbol}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Text className=\"font-body font-medium text-xs\" color={'text100'}>\n\t\t\t\t\t\t\t\t{formattedAmount} {price.currency.symbol}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Text>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","'use client';\n\nimport { useSelector } from '@xstate/store/react';\nimport { ActionModal } from '../_internal/components/baseModal/ActionModal';\nimport SelectWaasFeeOptions from '../_internal/components/selectWaasFeeOptions';\nimport TokenPreview from '../_internal/components/tokenPreview';\nimport TransactionDetails from '../_internal/components/transactionDetails';\nimport TransactionHeader from '../_internal/components/transactionHeader';\nimport { useSellModalContext } from './internal/context';\nimport { sellModalStore } from './internal/store';\n\nexport const SellModal = () => {\n\tconst isOpen = useSelector(sellModalStore, (state) => state.context.isOpen);\n\n\treturn isOpen ? <Modal /> : null;\n};\n\nconst Modal = () => {\n\tconst ctx = useSellModalContext();\n\n\tif (!ctx.isOpen) {\n\t\treturn null;\n\t}\n\n\tconst primaryAction = ctx.steps.fee?.isSelecting\n\t\t? undefined\n\t\t: (ctx.actions.approve ?? ctx.actions.sell);\n\tconst secondaryAction = ctx.steps.fee?.isSelecting\n\t\t? undefined\n\t\t: ctx.actions.approve\n\t\t\t? ctx.actions.sell\n\t\t\t: undefined;\n\n\treturn (\n\t\t<ActionModal\n\t\t\tchainId={ctx.item.chainId}\n\t\t\tonClose={ctx.close}\n\t\t\ttitle=\"You have an offer\"\n\t\t\ttype=\"sell\"\n\t\t\tprimaryAction={primaryAction}\n\t\t\tsecondaryAction={secondaryAction}\n\t\t\tqueries={{\n\t\t\t\tcollectible: ctx.queries.collectible,\n\t\t\t\tcollection: ctx.queries.collection,\n\t\t\t\tcurrency: ctx.queries.currency,\n\t\t\t}}\n\t\t\texternalError={ctx.error}\n\t\t>\n\t\t\t{({ collection, currency }) => (\n\t\t\t\t<>\n\t\t\t\t\t<TokenPreview\n\t\t\t\t\t\tcollectionName={collection?.name}\n\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TransactionHeader\n\t\t\t\t\t\ttitle=\"Offer received\"\n\t\t\t\t\t\tcurrencyImageUrl={currency?.imageUrl}\n\t\t\t\t\t\tdate={\n\t\t\t\t\t\t\tctx.offer.order ? new Date(ctx.offer.order.createdAt) : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{currency && (\n\t\t\t\t\t\t<TransactionDetails\n\t\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\tincludeMarketplaceFee={true}\n\t\t\t\t\t\t\tprice={\n\t\t\t\t\t\t\t\tctx.offer.priceAmount\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\tamountRaw: ctx.offer.priceAmount,\n\t\t\t\t\t\t\t\t\t\t\tcurrency,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrencyImageUrl={currency?.imageUrl}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{ctx.steps.fee?.isSelecting && (\n\t\t\t\t\t\t<SelectWaasFeeOptions\n\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\tonCancel={ctx.steps.fee.cancel}\n\t\t\t\t\t\t\ttitleOnConfirm=\"Accepting offer...\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</ActionModal>\n\t);\n};\n","import { OrderSide } from '@0xsequence/api-client';\nimport { useMemo } from 'react';\nimport type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport type {\n\tCollectibleCardAction,\n\tCollectibleOrder,\n\tContractType,\n\tOrder,\n\tOrderbookKind,\n\tPropertyFilter,\n} from '../../../../types';\nimport type { PriceFilter } from '../../../_internal';\nimport type { MarketCollectibleCardProps } from '../../../ui/components/marketplace-collectible-card/types';\nimport { useSellModal } from '../../../ui/modals/SellModal';\nimport { useCollectibleMarketList } from '../../collectible/market-list';\nimport { useCollectionBalanceDetails } from '../../collection/balance-details';\n\ninterface UseMarketCardDataProps {\n\tcollectionAddress: Address;\n\tchainId: number;\n\t// orderbookKind is optional  used to override marketplace config for internal tests\n\torderbookKind?: OrderbookKind;\n\tcollectionType: ContractType;\n\tfilterOptions?: PropertyFilter[];\n\tsearchText?: string;\n\tshowListedOnly?: boolean;\n\tpriceFilters?: PriceFilter[];\n\tonCollectibleClick?: (tokenId: bigint) => void;\n\tonCannotPerformAction?: (action: CollectibleCardAction) => void;\n\tprioritizeOwnerActions?: boolean;\n\tassetSrcPrefixUrl?: string;\n\thideQuantitySelector?: boolean;\n\tenabled?: boolean;\n}\n\nexport function useMarketCardData({\n\tcollectionAddress,\n\tchainId,\n\torderbookKind,\n\tcollectionType,\n\tfilterOptions,\n\tsearchText,\n\tshowListedOnly = false,\n\tpriceFilters,\n\tonCollectibleClick,\n\tonCannotPerformAction,\n\tprioritizeOwnerActions,\n\tassetSrcPrefixUrl,\n\thideQuantitySelector,\n\tenabled,\n}: UseMarketCardDataProps) {\n\tconst { address: accountAddress } = useAccount();\n\tconst { show: showSellModal } = useSellModal();\n\n\t// Get collectibles with listings\n\tconst {\n\t\tdata: collectiblesList,\n\t\tisLoading: collectiblesListIsLoading,\n\t\tfetchNextPage,\n\t\thasNextPage,\n\t\tisFetchingNextPage,\n\t\terror: collectiblesListError,\n\t} = useCollectibleMarketList({\n\t\tcollectionAddress,\n\t\tchainId,\n\t\tside: OrderSide.listing,\n\t\tfilter: {\n\t\t\tincludeEmpty: !showListedOnly,\n\t\t\tsearchText,\n\t\t\tproperties: filterOptions,\n\t\t\tprices: priceFilters,\n\t\t},\n\t\tquery: {\n\t\t\tenabled:\n\t\t\t\tenabled !== undefined ? enabled : !!collectionAddress && !!chainId,\n\t\t},\n\t});\n\n\t// Get user balances for this collection\n\tconst { data: collectionBalance, isLoading: balanceLoading } =\n\t\tuseCollectionBalanceDetails({\n\t\t\tchainId,\n\t\t\tfilter: {\n\t\t\t\taccountAddresses: accountAddress ? [accountAddress] : [],\n\t\t\t\tomitNativeBalances: true,\n\t\t\t\tcontractWhitelist: [collectionAddress],\n\t\t\t},\n\t\t\tquery: {\n\t\t\t\tenabled: !!accountAddress,\n\t\t\t},\n\t\t});\n\n\t// Flatten all collectibles from all pages\n\tconst allCollectibles = useMemo(() => {\n\t\tif (!collectiblesList?.pages) return [];\n\t\treturn collectiblesList.pages.flatMap((page) => page.collectibles);\n\t}, [collectiblesList?.pages]);\n\n\t// Generate card props for each collectible\n\tconst collectibleCards = useMemo(() => {\n\t\treturn allCollectibles.map((collectible) => {\n\t\t\tconst balanceObj = collectionBalance?.balances.find(\n\t\t\t\t(b: { tokenId: bigint }) =>\n\t\t\t\t\tb.tokenId === BigInt(collectible.metadata.tokenId),\n\t\t\t);\n\t\t\tconst balance = balanceObj?.balance?.toString();\n\n\t\t\tconst cardProps: MarketCollectibleCardProps = {\n\t\t\t\ttokenId: BigInt(collectible.metadata.tokenId),\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress,\n\t\t\t\tcollectionType,\n\t\t\t\tcardLoading: collectiblesListIsLoading || balanceLoading,\n\t\t\t\tcardType: 'market',\n\t\t\t\torderbookKind,\n\t\t\t\tcollectible: {\n\t\t\t\t\t...collectible,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t...collectible.metadata,\n\t\t\t\t\t\ttokenId: BigInt(collectible.metadata.tokenId),\n\t\t\t\t\t},\n\t\t\t\t} as CollectibleOrder,\n\t\t\t\tonCollectibleClick,\n\t\t\t\tbalance,\n\t\t\t\tbalanceIsLoading: balanceLoading,\n\t\t\t\tonCannotPerformAction,\n\t\t\t\tprioritizeOwnerActions,\n\t\t\t\tassetSrcPrefixUrl,\n\t\t\t\thideQuantitySelector,\n\t\t\t\tonOfferClick: ({ order }) => {\n\t\t\t\t\tif (!accountAddress) return;\n\n\t\t\t\t\tif (balance) {\n\t\t\t\t\t\tshowSellModal({\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\t\ttokenId: BigInt(collectible.metadata.tokenId),\n\t\t\t\t\t\t\torder: order as Order,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\treturn cardProps;\n\t\t});\n\t}, [\n\t\tallCollectibles,\n\t\tchainId,\n\t\tcollectionAddress,\n\t\tcollectionType,\n\t\tcollectiblesListIsLoading,\n\t\tbalanceLoading,\n\t\torderbookKind,\n\t\tonCollectibleClick,\n\t\tcollectionBalance?.balances,\n\t\tonCannotPerformAction,\n\t\tprioritizeOwnerActions,\n\t\tassetSrcPrefixUrl,\n\t\taccountAddress,\n\t\tshowSellModal,\n\t]);\n\n\treturn {\n\t\tcollectibleCards,\n\t\tisLoading: collectiblesListIsLoading || balanceLoading,\n\t\terror: collectiblesListError,\n\n\t\thasNextPage,\n\t\tisFetchingNextPage,\n\t\tfetchNextPage,\n\t\tallCollectibles,\n\t} as {\n\t\tcollectibleCards: MarketCollectibleCardProps[];\n\t\tisLoading: boolean;\n\t\terror: Error | null;\n\t\thasNextPage: boolean | undefined;\n\t\tisFetchingNextPage: boolean;\n\t\tfetchNextPage: () => Promise<unknown>;\n\t\tallCollectibles: CollectibleOrder[];\n\t};\n}\n","import { type Indexer, OrderSide } from '@0xsequence/api-client';\nimport type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport type {\n\tCollectibleCardAction,\n\tCollectibleOrder,\n\tContractType,\n\tOrderbookKind,\n\tPropertyFilter,\n} from '../../../../types';\nimport type { Order, PriceFilter } from '../../../_internal';\nimport type { MarketCollectibleCardProps } from '../../../ui/components/marketplace-collectible-card/types';\nimport { useSellModal } from '../../../ui/modals/SellModal';\nimport { useCollectibleMarketListPaginated } from '../../collectible/market-list-paginated';\nimport { useCollectionBalanceDetails } from '../../collection/balance-details';\n\n/**\n * Props for the useMarketCardDataPaged hook\n */\nexport interface UseMarketCardDataPagedProps {\n\t/** The collection contract address */\n\tcollectionAddress: Address;\n\t/** The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon) */\n\tchainId: number;\n\t/** Optional orderbook kind override - used to override marketplace config for internal tests */\n\torderbookKind?: OrderbookKind;\n\t/** The contract type of the collection (ERC721, ERC1155, etc.) */\n\tcollectionType: ContractType;\n\t/** Optional property filters to apply to the collectible search */\n\tfilterOptions?: PropertyFilter[];\n\t/** Optional search text to filter collectibles by name or metadata */\n\tsearchText?: string;\n\t/** Whether to show only listed collectibles (defaults to false) */\n\tshowListedOnly?: boolean;\n\t/** Optional array of account addresses to filter collectibles by owner */\n\tinAccounts?: Address[];\n\t/** Optional price filters to apply to the collectible search */\n\tpriceFilters?: PriceFilter[];\n\t/** Optional callback function called when a collectible card is clicked */\n\tonCollectibleClick?: (tokenId: bigint) => void;\n\t/** Optional callback function called when an action cannot be performed on a collectible */\n\tonCannotPerformAction?: (action: CollectibleCardAction) => void;\n\t/** Whether to prioritize owner actions in the card UI */\n\tprioritizeOwnerActions?: boolean;\n\t/** Optional URL prefix for asset images */\n\tassetSrcPrefixUrl?: string;\n\t/** Whether to hide the quantity selector on collectible cards */\n\thideQuantitySelector?: boolean;\n\t/** The current page number (1-indexed) */\n\tpage: number;\n\t/** The number of items per page */\n\tpageSize: number;\n\t/** Whether the query should be enabled (defaults to true when collectionAddress and chainId are provided) */\n\tenabled?: boolean;\n}\n\n/**\n * Hook to fetch paginated market card data for a collection\n *\n * This hook fetches collectibles for a specific page from the marketplace API,\n * combines them with user balance information, and generates card props ready\n * for rendering collectible cards. Unlike `useMarketCardData`, this hook\n * fetches a single page of results rather than using infinite scrolling.\n *\n * @param props - Configuration parameters\n * @param props.collectionAddress - The collection contract address\n * @param props.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param props.orderbookKind - Optional orderbook kind override for internal tests\n * @param props.collectionType - The contract type of the collection (ERC721, ERC1155, etc.)\n * @param props.filterOptions - Optional property filters to apply to the collectible search\n * @param props.searchText - Optional search text to filter collectibles by name or metadata\n * @param props.showListedOnly - Whether to show only listed collectibles (defaults to false)\n * @param props.inAccounts - Optional array of account addresses to filter collectibles by owner\n * @param props.priceFilters - Optional price filters to apply to the collectible search\n * @param props.onCollectibleClick - Optional callback function called when a collectible card is clicked\n * @param props.onCannotPerformAction - Optional callback function called when an action cannot be performed\n * @param props.prioritizeOwnerActions - Whether to prioritize owner actions in the card UI\n * @param props.assetSrcPrefixUrl - Optional URL prefix for asset images\n * @param props.hideQuantitySelector - Whether to hide the quantity selector on collectible cards\n * @param props.page - The current page number\n * @param props.pageSize - The number of items per page\n * @param props.enabled - Whether the query should be enabled\n *\n * @returns An object containing:\n * @returns collectibleCards - Array of card props ready for rendering collectible cards\n * @returns isLoading - Whether the data is currently loading\n * @returns error - Any error that occurred during fetching\n * @returns hasMore - Whether there are more pages available after the current page\n *\n * @example\n * Basic usage with pagination:\n * ```typescript\n * const [page, setPage] = useState(1);\n * const pageSize = 20;\n *\n * const {\n *   collectibleCards,\n *   isLoading,\n *   error,\n *   hasMore\n * } = useMarketCardDataPaged({\n *   collectionAddress: '0x1234...',\n *   chainId: 137,\n *   collectionType: 'ERC721',\n *   page,\n *   pageSize\n * });\n *\n * if (isLoading) return <div>Loading...</div>;\n * if (error) return <div>Error: {error.message}</div>;\n *\n * return (\n *   <div>\n *     {collectibleCards.map(card => (\n *       <CollectibleCard key={card.tokenId} {...card} />\n *     ))}\n *     {hasMore && (\n *       <button onClick={() => setPage(p => p + 1)}>Next Page</button>\n *     )}\n *   </div>\n * );\n * ```\n *\n * @example\n * With filters and search:\n * ```typescript\n * const { collectibleCards, isLoading } = useMarketCardDataPaged({\n *   collectionAddress: '0x5678...',\n *   chainId: 1,\n *   collectionType: 'ERC1155',\n *   searchText: 'rare',\n *   showListedOnly: true,\n *   filterOptions: [\n *     { name: 'Rarity', values: ['Legendary'], type: PropertyType.STRING }\n *   ],\n *   priceFilters: [\n *     { min: '0', max: '1', currency: 'ETH' }\n *   ],\n *   page: 1,\n *   pageSize: 30,\n *   onCollectibleClick: (tokenId) => {\n *     console.log('Clicked collectible:', tokenId);\n *   }\n * });\n * ```\n *\n * @example\n * With owner filtering and custom callbacks:\n * ```typescript\n * const { collectibleCards } = useMarketCardDataPaged({\n *   collectionAddress: '0x9abc...',\n *   chainId: 137,\n *   collectionType: 'ERC721',\n *   inAccounts: ['0xowner1...', '0xowner2...'],\n *   prioritizeOwnerActions: true,\n *   onCannotPerformAction: (action) => {\n *     console.warn(`Cannot perform action: ${action}`);\n *   },\n *   page: 2,\n *   pageSize: 25,\n *   enabled: Boolean(collectionAddress && chainId)\n * });\n * ```\n */\nexport function useMarketCardDataPaged({\n\tcollectionAddress,\n\tchainId,\n\torderbookKind,\n\tcollectionType,\n\tfilterOptions,\n\tsearchText,\n\tshowListedOnly = false,\n\tinAccounts,\n\tpriceFilters,\n\tonCollectibleClick,\n\tonCannotPerformAction,\n\tprioritizeOwnerActions,\n\tassetSrcPrefixUrl,\n\thideQuantitySelector,\n\tpage,\n\tpageSize,\n\tenabled,\n}: UseMarketCardDataPagedProps) {\n\tconst { address: accountAddress } = useAccount();\n\tconst { show: showSellModal } = useSellModal();\n\tconst {\n\t\tdata: collectiblesListResponse,\n\t\tisLoading: collectiblesListIsLoading,\n\t\terror: collectiblesListError,\n\t} = useCollectibleMarketListPaginated({\n\t\tcollectionAddress,\n\t\tchainId,\n\t\tside: OrderSide.listing,\n\t\tfilter: {\n\t\t\tincludeEmpty: !showListedOnly,\n\t\t\tsearchText,\n\t\t\tproperties: filterOptions,\n\t\t\tprices: priceFilters,\n\t\t\tinAccounts: inAccounts ?? [],\n\t\t},\n\t\tquery: {\n\t\t\tenabled: !!collectionAddress && !!chainId && enabled,\n\t\t},\n\t\tpage,\n\t\tpageSize,\n\t});\n\tconst { data: collectionBalance, isLoading: balanceLoading } =\n\t\tuseCollectionBalanceDetails({\n\t\t\tchainId,\n\t\t\tfilter: {\n\t\t\t\taccountAddresses: accountAddress ? [accountAddress] : [],\n\t\t\t\tomitNativeBalances: true,\n\t\t\t\tcontractWhitelist: [collectionAddress],\n\t\t\t},\n\t\t\tquery: {\n\t\t\t\tenabled: !!accountAddress && enabled,\n\t\t\t},\n\t\t});\n\n\tconst currentPageCollectibles = collectiblesListResponse?.collectibles ?? [];\n\n\tconst collectibleCards = currentPageCollectibles.map(\n\t\t(collectible: CollectibleOrder) => {\n\t\t\tconst balanceAmount = collectionBalance?.balances.find(\n\t\t\t\t(b: Indexer.TokenBalance) => b.tokenId === collectible.metadata.tokenId,\n\t\t\t)?.balance;\n\n\t\t\tconst cardProps: MarketCollectibleCardProps = {\n\t\t\t\ttokenId: collectible.metadata.tokenId,\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress,\n\t\t\t\tcollectionType,\n\t\t\t\tcardLoading: collectiblesListIsLoading || balanceLoading,\n\t\t\t\tcardType: 'market',\n\t\t\t\torderbookKind,\n\t\t\t\tcollectible,\n\t\t\t\tonCollectibleClick,\n\t\t\t\tbalance: balanceAmount?.toString(),\n\t\t\t\tbalanceIsLoading: balanceLoading,\n\t\t\t\tonCannotPerformAction,\n\t\t\t\tprioritizeOwnerActions,\n\t\t\t\tassetSrcPrefixUrl,\n\t\t\t\thideQuantitySelector,\n\t\t\t\tonOfferClick: ({ order }) => {\n\t\t\t\t\tif (!accountAddress) return;\n\n\t\t\t\t\tif (balanceAmount) {\n\t\t\t\t\t\tshowSellModal({\n\t\t\t\t\t\t\tchainId,\n\t\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\t\ttokenId: collectible.metadata.tokenId,\n\t\t\t\t\t\t\torder: order as Order,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\treturn cardProps;\n\t\t},\n\t);\n\n\treturn {\n\t\tcollectibleCards,\n\t\tisLoading: collectiblesListIsLoading || balanceLoading,\n\t\terror: collectiblesListError,\n\t\thasMore: collectiblesListResponse?.page?.more ?? false,\n\t};\n}\n","import type {\n\tCollectiblePrimarySaleItem,\n\tTokenMetadata,\n} from '@0xsequence/api-client';\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport { useEffect, useState } from 'react';\nimport type { Address } from 'viem';\nimport { useReadContract } from 'wagmi';\nimport { useFilterState } from '../../..';\nimport { ContractType } from '../../../_internal';\nimport { tokenSuppliesQueryOptions } from '../../../queries/token/supplies';\nimport type { ShopCollectibleCardProps } from '../../../ui';\nimport { useConfig } from '../../config';\nimport { useSalesContractABI } from '../../contracts/useSalesContractABI';\n\ninterface UsePrimarySale721CardDataProps {\n\tprimarySaleItemsWithMetadata: CollectiblePrimarySaleItem[];\n\tchainId: number;\n\tcontractAddress: Address;\n\tsalesContractAddress: Address;\n\tenabled?: boolean;\n}\n\n/**\n * Safely normalizes partial token metadata to full TokenMetadata type\n * Used for minted tokens where metadata might be incomplete\n */\nfunction normalizeTokenMetadata(\n\tmetadata: Partial<TokenMetadata> | undefined,\n\ttokenId: bigint,\n): TokenMetadata {\n\treturn {\n\t\ttokenId,\n\t\tname: metadata?.name ?? '',\n\t\tsource: metadata?.source ?? '',\n\t\tattributes: metadata?.attributes ?? [],\n\t\tstatus: metadata?.status ?? 'active',\n\t\tdescription: metadata?.description,\n\t\timage: metadata?.image,\n\t\tvideo: metadata?.video,\n\t\taudio: metadata?.audio,\n\t\tproperties: metadata?.properties,\n\t\timage_data: metadata?.image_data,\n\t\texternal_url: metadata?.external_url,\n\t\tbackground_color: metadata?.background_color,\n\t\tanimation_url: metadata?.animation_url,\n\t\tupdatedAt: metadata?.updatedAt,\n\t\tassets: metadata?.assets,\n\t\tqueuedAt: metadata?.queuedAt,\n\t\tlastFetched: metadata?.lastFetched,\n\t\tchainId: metadata?.chainId,\n\t\tcontractAddress: metadata?.contractAddress,\n\t};\n}\n\nexport function usePrimarySale721CardData({\n\tprimarySaleItemsWithMetadata,\n\tchainId,\n\tcontractAddress,\n\tsalesContractAddress,\n\tenabled = true,\n}: UsePrimarySale721CardDataProps) {\n\tconst [allTokenSuppliesFetched, setAllTokenSuppliesFetched] = useState(false);\n\tconst { showListedOnly: showAvailableSales } = useFilterState();\n\n\tconst { abi, isLoading: versionLoading } = useSalesContractABI({\n\t\tcontractAddress: salesContractAddress,\n\t\tcontractType: ContractType.ERC721,\n\t\tchainId,\n\t\tenabled,\n\t});\n\tconst config = useConfig();\n\n\tconst tokenSuppliesEnabled = Boolean(\n\t\tchainId && contractAddress && config && (enabled ?? true),\n\t);\n\t// TODO: Find a way to remove this and use enabled in tokenSuppliesQueryOptions\n\tconst tokenSuppliesQuery = useInfiniteQuery({\n\t\t...tokenSuppliesQueryOptions({\n\t\t\tchainId,\n\t\t\tcollectionAddress: contractAddress,\n\t\t\tincludeMetadata: true,\n\t\t\tconfig,\n\t\t\tquery: {\n\t\t\t\tenabled: tokenSuppliesEnabled,\n\t\t\t},\n\t\t}),\n\t});\n\n\tconst {\n\t\tdata: tokenSuppliesData,\n\t\tfetchNextPage: fetchNextTokenSuppliesPage,\n\t\thasNextPage: hasNextSuppliesPage,\n\t\tisFetchingNextPage: isFetchingNextSuppliesPage,\n\t\tisLoading: tokenSuppliesLoading,\n\t} = tokenSuppliesQuery;\n\n\tuseEffect(() => {\n\t\tasync function fetchAllPages() {\n\t\t\tif (!tokenSuppliesEnabled) return;\n\n\t\t\tif (!hasNextSuppliesPage && tokenSuppliesData) {\n\t\t\t\tsetAllTokenSuppliesFetched(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isFetchingNextSuppliesPage || tokenSuppliesLoading) return;\n\n\t\t\tawait fetchNextTokenSuppliesPage();\n\t\t}\n\n\t\tfetchAllPages();\n\t}, [\n\t\thasNextSuppliesPage,\n\t\tisFetchingNextSuppliesPage,\n\t\ttokenSuppliesLoading,\n\t\tfetchNextTokenSuppliesPage,\n\t\ttokenSuppliesEnabled,\n\t]);\n\n\tconst allTokenSupplies = tokenSuppliesData?.pages.flatMap(\n\t\t(page) => page.supplies,\n\t);\n\tconst matchingTokenSupplies = allTokenSupplies?.filter((supply) =>\n\t\tprimarySaleItemsWithMetadata.some(\n\t\t\t(primarySaleItem) =>\n\t\t\t\tBigInt(primarySaleItem.metadata.tokenId) === supply.tokenId,\n\t\t),\n\t);\n\n\t// For ERC721, we'll fetch the sale details directly from the contract\n\tconst {\n\t\tdata: saleDetails,\n\t\tisLoading: saleDetailsLoading,\n\t\terror: saleDetailsError,\n\t} = useReadContract({\n\t\tchainId,\n\t\taddress: salesContractAddress,\n\t\tabi: abi || [],\n\t\tfunctionName: 'saleDetails',\n\t\tquery: {\n\t\t\tenabled: enabled && !versionLoading && !!abi,\n\t\t},\n\t});\n\n\t// Filter out primary sale items that have already been minted\n\tconst unmintedPrimarySaleItems = primarySaleItemsWithMetadata.filter(\n\t\t(item) =>\n\t\t\t!matchingTokenSupplies?.some(\n\t\t\t\t(supply) => supply.tokenId === BigInt(item.metadata.tokenId),\n\t\t\t),\n\t);\n\n\tconst primarySaleItemsCollectibleCards = unmintedPrimarySaleItems.map(\n\t\t(item) => {\n\t\t\tconst { metadata, primarySaleItem } = item;\n\n\t\t\tconst salePrice = {\n\t\t\t\tamount: primarySaleItem.priceAmount || 0n,\n\t\t\t\tcurrencyAddress: primarySaleItem.currencyAddress,\n\t\t\t};\n\n\t\t\tconst quantityInitial = primarySaleItem.supply;\n\n\t\t\tconst quantityRemaining = 1n;\n\n\t\t\tconst saleStartsAt = primarySaleItem.startDate.toString();\n\n\t\t\tconst saleEndsAt = primarySaleItem.endDate.toString();\n\n\t\t\treturn {\n\t\t\t\ttokenId: BigInt(metadata.tokenId),\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress: contractAddress,\n\t\t\t\tcollectionType: ContractType.ERC721,\n\t\t\t\ttokenMetadata: {\n\t\t\t\t\t...metadata,\n\t\t\t\t\ttokenId: BigInt(metadata.tokenId),\n\t\t\t\t\tsource: '',\n\t\t\t\t},\n\t\t\t\tcardLoading: saleDetailsLoading,\n\t\t\t\tsalesContractAddress,\n\t\t\t\tsalePrice,\n\t\t\t\tquantityInitial,\n\t\t\t\tquantityRemaining,\n\t\t\t\tsaleStartsAt,\n\t\t\t\tsaleEndsAt,\n\t\t\t\tcardType: 'shop',\n\t\t\t} satisfies ShopCollectibleCardProps;\n\t\t},\n\t);\n\n\tconst mintedTokensCollectibleCards = allTokenSupplies?.map((item) => {\n\t\treturn {\n\t\t\ttokenId: item.tokenId,\n\t\t\tchainId,\n\t\t\tcollectionAddress: contractAddress,\n\t\t\tcollectionType: ContractType.ERC721,\n\t\t\ttokenMetadata: normalizeTokenMetadata(item.tokenMetadata, item.tokenId),\n\t\t\tcardLoading: saleDetailsLoading,\n\t\t\tsalesContractAddress,\n\t\t\tsalePrice: {\n\t\t\t\tamount: 0n,\n\t\t\t\tcurrencyAddress: '0x0000000000000000000000000000000000000000',\n\t\t\t},\n\t\t\tquantityInitial: undefined,\n\t\t\tquantityRemaining: undefined,\n\t\t\tsaleStartsAt: undefined,\n\t\t\tsaleEndsAt: undefined,\n\t\t\tcardType: 'shop',\n\t\t} satisfies ShopCollectibleCardProps;\n\t});\n\n\tconst collectibleCards = showAvailableSales\n\t\t? primarySaleItemsCollectibleCards\n\t\t: [\n\t\t\t\t...(mintedTokensCollectibleCards ?? []),\n\t\t\t\t...primarySaleItemsCollectibleCards,\n\t\t\t];\n\n\treturn {\n\t\tsalePrice: collectibleCards[0]?.salePrice,\n\t\tcollectibleCards,\n\t\tsaleDetailsError,\n\t\tsaleDetails,\n\t\tisLoading:\n\t\t\tenabled &&\n\t\t\t(saleDetailsLoading || tokenSuppliesLoading || !allTokenSuppliesFetched),\n\t\ttokenSuppliesData,\n\t};\n}\n","import type { CollectiblePrimarySaleItem } from '@0xsequence/api-client';\nimport { type Address, zeroAddress } from 'viem';\nimport { useReadContract } from 'wagmi';\nimport { ContractType } from '../../../_internal';\nimport type { ShopCollectibleCardProps } from '../../../ui/components/marketplace-collectible-card/types';\n\nimport { useSalesContractABI } from '../../contracts/useSalesContractABI';\n\ninterface UsePrimarySale1155CardDataProps {\n\tprimarySaleItemsWithMetadata: CollectiblePrimarySaleItem[];\n\tchainId: number;\n\tcontractAddress: Address;\n\tsalesContractAddress: Address;\n\tenabled?: boolean;\n}\n\nexport function usePrimarySale1155CardData({\n\tprimarySaleItemsWithMetadata,\n\tchainId,\n\tcontractAddress,\n\tsalesContractAddress,\n\tenabled = true,\n}: UsePrimarySale1155CardDataProps) {\n\tconst { abi, isLoading: versionLoading } = useSalesContractABI({\n\t\tcontractAddress: salesContractAddress,\n\t\tcontractType: ContractType.ERC1155,\n\t\tchainId,\n\t\tenabled,\n\t});\n\n\tconst { data: paymentToken, isLoading: paymentTokenLoading } =\n\t\tuseReadContract({\n\t\t\tchainId,\n\t\t\taddress: salesContractAddress,\n\t\t\tabi: abi || [],\n\t\t\tfunctionName: 'paymentToken',\n\t\t\tquery: {\n\t\t\t\tenabled: enabled && !versionLoading && !!abi,\n\t\t\t},\n\t\t});\n\n\tconst isLoading = versionLoading || paymentTokenLoading;\n\n\tconst collectibleCards = primarySaleItemsWithMetadata.map((item) => {\n\t\tconst { metadata, primarySaleItem: saleData } = item;\n\n\t\tconst salePrice = {\n\t\t\tamount: saleData?.priceAmount || 0n,\n\t\t\tcurrencyAddress: saleData?.currencyAddress || paymentToken || zeroAddress,\n\t\t};\n\n\t\tconst supply = saleData?.supply;\n\t\tconst unlimitedSupply = saleData?.unlimitedSupply;\n\n\t\treturn {\n\t\t\ttokenId: metadata.tokenId,\n\t\t\tchainId,\n\t\t\tcollectionAddress: contractAddress,\n\t\t\tcollectionType: ContractType.ERC1155,\n\t\t\ttokenMetadata: {\n\t\t\t\t...metadata,\n\t\t\t\tsource: '', // Add source field required by metadata API types\n\t\t\t},\n\t\t\tcardLoading: isLoading,\n\t\t\tsalesContractAddress,\n\t\t\tsalePrice,\n\t\t\tquantityInitial: supply,\n\t\t\tquantityRemaining: supply,\n\t\t\tunlimitedSupply,\n\t\t\tsaleStartsAt: saleData?.startDate?.toString(),\n\t\t\tsaleEndsAt: saleData?.endDate?.toString(),\n\t\t\tcardType: 'shop',\n\t\t} satisfies ShopCollectibleCardProps;\n\t});\n\n\treturn {\n\t\tcollectibleCards,\n\t\ttokenMetadataError: null,\n\t\ttokenSaleDetailsError: null,\n\t\tisLoading: enabled && isLoading,\n\t};\n}\n","'use client';\n\nimport type { PropertyFilter } from '@0xsequence/api-client';\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../_internal';\nimport {\n\ttype FetchFiltersParams,\n\ttype FiltersQueryOptions,\n\tfiltersQueryOptions,\n} from '../../queries/marketplace/filters';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseFiltersParams = Optional<FiltersQueryOptions, 'config'>;\n\n/**\n * Hook to fetch metadata filters for a collection\n *\n * Retrieves property filters for a collection from the metadata service,\n * with support for marketplace-specific filter configuration including\n * exclusion rules and custom ordering.\n *\n * @param params - Configuration parameters\n * @param params.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param params.collectionAddress - The collection contract address to fetch filters for\n * @param params.showAllFilters - Whether to show all filters or apply marketplace filtering\n * @param params.excludePropertyValues - Whether to exclude property values from the response\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing property filters for the collection\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data: filters, isLoading } = useFilters({\n *   chainId: 137,\n *   collectionAddress: '0x1234...'\n * })\n *\n * if (data) {\n *   console.log(`Found ${data.length} filters`);\n *   data.forEach(filter => {\n *     console.log(`${filter.name}: ${filter.values?.join(', ')}`);\n *   });\n * }\n * ```\n *\n * @example\n * With marketplace filtering disabled:\n * ```typescript\n * const { data: allFilters } = useFilters({\n *   chainId: 1,\n *   collectionAddress: '0x5678...',\n *   showAllFilters: true, // Bypass marketplace filter rules\n *   query: {\n *     enabled: Boolean(selectedCollection),\n *     staleTime: 300000 // Cache for 5 minutes\n *   }\n * })\n * ```\n *\n * @example\n * Exclude property values for faster loading:\n * ```typescript\n * const { data: filterNames } = useFilters({\n *   chainId: 137,\n *   collectionAddress: collectionAddress,\n *   excludePropertyValues: true, // Only get filter names, not values\n *   query: {\n *     enabled: Boolean(collectionAddress)\n *   }\n * })\n * ```\n */\nexport function useFilters(params: UseFiltersParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = filtersQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\n/**\n * Hook to progressively load collection filters\n *\n * First loads filter names only for fast initial display, then loads full filter\n * data with values. Uses placeholder data to provide immediate feedback while\n * full data loads in the background.\n *\n * @param params - Configuration parameters (same as useFilters)\n *\n * @returns Query result with additional loading states\n * @returns result.isLoadingNames - Whether filter names are still loading\n * @returns result.isFetchingValues - Whether filter values are being fetched\n *\n * @example\n * Progressive filter loading:\n * ```typescript\n * const {\n *   data: filters,\n *   isLoadingNames,\n *   isFetchingValues,\n *   isLoading\n * } = useFiltersProgressive({\n *   chainId: 137,\n *   collectionAddress: '0x1234...'\n * })\n *\n * if (isLoadingNames) {\n *   return <div>Loading filters...</div>;\n * }\n *\n * return (\n *   <div>\n *     {filters?.map(filter => (\n *       <FilterComponent\n *         key={filter.name}\n *         filter={filter}\n *         isLoadingValues={isFetchingValues}\n *       />\n *     ))}\n *   </div>\n * );\n * ```\n */\nexport function useFiltersProgressive(params: UseFiltersParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst namesQuery = useQuery(\n\t\tfiltersQueryOptions({\n\t\t\tconfig,\n\t\t\t...rest,\n\t\t\texcludePropertyValues: true,\n\t\t}),\n\t);\n\n\tconst fullQuery = useQuery({\n\t\t...filtersQueryOptions({\n\t\t\tconfig,\n\t\t\t...rest,\n\t\t}),\n\t\tplaceholderData: namesQuery.data,\n\t});\n\n\tconst isLoadingNames = namesQuery.isLoading;\n\tconst isFetchingValues = fullQuery.isPlaceholderData && fullQuery.isFetching;\n\n\treturn {\n\t\t...fullQuery,\n\t\tisFetchingValues,\n\t\tisLoadingNames,\n\t};\n}\n\nexport { filtersQueryOptions };\n\nexport type { FetchFiltersParams, FiltersQueryOptions };\n\n// Legacy exports for backward compatibility\nexport type UseFiltersArgs = {\n\tchainId: number;\n\tcollectionAddress: string;\n\tshowAllFilters?: boolean;\n\texcludePropertyValues?: boolean;\n\tquery?: {\n\t\tenabled?: boolean;\n\t};\n};\n\nexport type UseFilterReturn = PropertyFilter[];\n","import { useConfig } from '../config/useConfig';\n\nexport const useOpenConnectModal = () => {\n\tconst context = useConfig();\n\n\treturn {\n\t\topenConnectModal: context.openConnectModal,\n\t};\n};\n","// Flattens an object and turns it into a string and number object for use with analytics\n// Ignores arrays and converts booleans to strings\nexport function flattenAnalyticsArgs(args: object) {\n\tconst analyticsProps: Record<string, string> = {};\n\tconst analyticsNums: Record<string, number> = {};\n\n\tfunction recurse(obj: object, prefix = '') {\n\t\tfor (const [key, value] of Object.entries(obj)) {\n\t\t\tconst path = prefix ? `${prefix}.${key}` : key;\n\t\t\tif (typeof value === 'string' || typeof value === 'boolean') {\n\t\t\t\tanalyticsProps[path] = value.toString();\n\t\t\t} else if (typeof value === 'number') {\n\t\t\t\tanalyticsNums[path] = value;\n\t\t\t} else if (isPojo(value)) {\n\t\t\t\trecurse(value, path);\n\t\t\t}\n\t\t}\n\t}\n\n\trecurse(args);\n\treturn { analyticsProps, analyticsNums };\n}\n\nfunction isPojo(val: unknown): val is Record<string, unknown> {\n\treturn typeof val === 'object' && val !== null && !Array.isArray(val);\n}\n","import type { Step } from '@0xsequence/api-client';\nimport { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { Address } from 'viem';\nimport type {\n\tCardType,\n\tCheckoutOptionsItem,\n\tMarketplaceKind,\n} from '../../../../types';\nimport type { TransactionOnRampProvider } from '../../../_internal';\nimport type { useAnalytics } from '../../../_internal/databeat';\nimport { flattenAnalyticsArgs } from '../../../_internal/databeat/utils';\nimport type { ActionButton } from '../_internal/types';\n\nexport type CheckoutOptionsSalesContractProps = {\n\tchainId: number;\n\tsalesContractAddress: Address;\n\tcollectionAddress: Address;\n\titems: Array<CheckoutOptionsItem>;\n};\n\nexport type PaymentModalProps = {\n\ttokenId: bigint;\n\tmarketplace: MarketplaceKind;\n\torderId: string;\n\tcustomCreditCardProviderCallback?: (buyStep: Step) => void;\n};\n\nexport type BuyModalBaseProps = {\n\tchainId: number;\n\tskipNativeBalanceCheck?: boolean;\n\tnativeTokenAddress?: Address;\n\tcustomCreditCardProviderCallback?: PaymentModalProps['customCreditCardProviderCallback'];\n\tcollectionAddress: Address;\n\tcardType?: CardType;\n\tsuccessActionButtons?: ActionButton[];\n\thideQuantitySelector?: boolean;\n\tonRampProvider?: TransactionOnRampProvider;\n};\n\n// Shop type modal props\nexport type ShopBuyModalProps = BuyModalBaseProps & {\n\tcardType: 'shop';\n\tsalesContractAddress: Address;\n\titems: Array<Partial<CheckoutOptionsItem> & { tokenId?: bigint }>;\n\tquantityRemaining: bigint;\n\tsalePrice: {\n\t\tamount: bigint;\n\t\tcurrencyAddress: Address;\n\t};\n\tunlimitedSupply?: boolean;\n};\n\n// Marketplace type modal props\nexport type MarketplaceBuyModalProps = BuyModalBaseProps & {\n\tcardType?: 'market';\n\ttokenId: bigint;\n\tmarketplace: MarketplaceKind;\n\torderId: string;\n};\n\nexport type BuyModalProps = ShopBuyModalProps | MarketplaceBuyModalProps;\n\n// Type guard functions\nexport function isShopProps(props: BuyModalProps): props is ShopBuyModalProps {\n\treturn props.cardType === 'shop';\n}\n\nexport function isMarketProps(\n\tprops: BuyModalProps,\n): props is MarketplaceBuyModalProps {\n\t// Default to MARKET type for backward compatibility\n\treturn !props.cardType || props.cardType === 'market';\n}\n\ntype SubModalState = 'idle' | 'opening' | 'open' | 'closed';\n\nconst initialContext: {\n\tisOpen: boolean;\n\tprops: BuyModalProps | null;\n\tbuyAnalyticsId: string;\n\tpaymentModalState: SubModalState;\n\tquantity: number;\n} = {\n\tisOpen: false,\n\tprops: null,\n\tbuyAnalyticsId: '',\n\tpaymentModalState: 'idle',\n\tquantity: 1,\n};\n\nexport const buyModalStore = createStore({\n\tcontext: { ...initialContext },\n\ton: {\n\t\topen: (\n\t\t\tcontext,\n\t\t\tevent: {\n\t\t\t\tprops: BuyModalProps;\n\t\t\t\tanalyticsFn: ReturnType<typeof useAnalytics>;\n\t\t\t},\n\t\t) => {\n\t\t\tconst buyAnalyticsId = crypto.randomUUID();\n\n\t\t\tconst { analyticsProps, analyticsNums } = flattenAnalyticsArgs(\n\t\t\t\tevent.props,\n\t\t\t);\n\n\t\t\tevent.analyticsFn.trackBuyModalOpened({\n\t\t\t\tprops: {\n\t\t\t\t\tbuyAnalyticsId,\n\t\t\t\t\tcollectionAddress: event.props.collectionAddress,\n\t\t\t\t\t...analyticsProps,\n\t\t\t\t},\n\t\t\t\tnums: {\n\t\t\t\t\tchainId: event.props.chainId,\n\t\t\t\t\t...analyticsNums,\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...context,\n\t\t\t\tprops: event.props,\n\t\t\t\tbuyAnalyticsId,\n\t\t\t\tisOpen: true,\n\t\t\t};\n\t\t},\n\n\t\tclose: (context) => ({\n\t\t\t...context,\n\t\t\tisOpen: false,\n\t\t\tpaymentModalState: 'idle' as const,\n\t\t\tquantity: 1,\n\t\t}),\n\n\t\tsetQuantity: (context, event: { quantity: number }) => ({\n\t\t\t...context,\n\t\t\tquantity: event.quantity,\n\t\t}),\n\n\t\topenPaymentModal: (context) => {\n\t\t\tif (context.paymentModalState !== 'idle') {\n\t\t\t\treturn context; // Prevent duplicate opens\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...context,\n\t\t\t\tpaymentModalState: 'opening' as const,\n\t\t\t};\n\t\t},\n\n\t\tpaymentModalOpened: (context) => ({\n\t\t\t...context,\n\t\t\tpaymentModalState: 'open' as const,\n\t\t}),\n\n\t\tclosePaymentModal: (context) => ({\n\t\t\t...context,\n\t\t\tpaymentModalState: 'closed' as const,\n\t\t}),\n\t},\n});\n\nexport const useIsOpen = () =>\n\tuseSelector(buyModalStore, (state) => state.context.isOpen);\n\nexport const useBuyModalProps = () => {\n\tconst props = useSelector(buyModalStore, (state) => state.context.props);\n\tif (!props) {\n\t\tthrow new Error(\n\t\t\t'BuyModal props not initialized. Make sure to call show() first.',\n\t\t);\n\t}\n\treturn props;\n};\n\nexport const useBuyAnalyticsId = () =>\n\tuseSelector(buyModalStore, (state) => state.context.buyAnalyticsId);\n\nexport const usePaymentModalState = () =>\n\tuseSelector(buyModalStore, (state) => state.context.paymentModalState);\n\nexport const useQuantity = () =>\n\tuseSelector(buyModalStore, (state) => state.context.quantity);\n","import {\n\ttype AdditionalFee,\n\ttype MarketplaceKind,\n\ttype Step,\n\tWalletKind,\n} from '@0xsequence/api-client';\nimport { useQuery } from '@tanstack/react-query';\nimport { useMemo } from 'react';\nimport type { Address } from 'viem';\nimport { getMarketplaceClient } from '../../_internal/api';\nimport { useConfig } from '../config';\n\nexport interface UseMarketTransactionStepsParams {\n\tchainId: number;\n\tcollectionAddress: Address;\n\tbuyer: Address;\n\tmarketplace: MarketplaceKind;\n\torderId: string;\n\ttokenId: bigint;\n\tquantity: bigint;\n\tadditionalFees?: AdditionalFee[];\n\tenabled?: boolean;\n}\n\n/**\n * Hook to generate transaction steps for market transactions (secondary sales)\n * This directly calls the marketplace API without using generators\n */\nexport function useMarketTransactionSteps({\n\tchainId,\n\tcollectionAddress,\n\tbuyer,\n\tmarketplace,\n\torderId,\n\ttokenId,\n\tquantity,\n\tadditionalFees = [],\n\tenabled = true,\n}: UseMarketTransactionStepsParams) {\n\tconst config = useConfig();\n\tconst marketplaceClient = useMemo(\n\t\t() => getMarketplaceClient(config),\n\t\t[config],\n\t);\n\n\treturn useQuery<Step[], Error>({\n\t\tqueryKey: [\n\t\t\t'market-transaction-steps',\n\t\t\t{\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress,\n\t\t\t\tbuyer,\n\t\t\t\torderId,\n\t\t\t\ttokenId,\n\t\t\t\tquantity,\n\t\t\t},\n\t\t],\n\t\tqueryFn: async () => {\n\t\t\tconst response = await marketplaceClient.generateBuyTransaction({\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress,\n\t\t\t\tbuyer,\n\t\t\t\tmarketplace,\n\t\t\t\tordersData: [\n\t\t\t\t\t{\n\t\t\t\t\t\torderId,\n\t\t\t\t\t\tquantity,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tadditionalFees,\n\t\t\t\twalletType: WalletKind.unknown,\n\t\t\t});\n\n\t\t\treturn response.steps;\n\t\t},\n\t\tenabled: enabled && !!buyer,\n\t});\n}\n","import { type Step, StepType } from '@0xsequence/api-client';\nimport { useQuery } from '@tanstack/react-query';\nimport type { Address } from 'viem';\nimport { encodeFunctionData, zeroAddress } from 'viem';\nimport { useReadContract } from 'wagmi';\nimport { ERC20_ABI } from '../../../utils/abi';\nimport type { ContractType } from '../../_internal';\nimport {\n\tSalesContractVersion,\n\tuseSalesContractABI,\n} from '../contracts/useSalesContractABI';\n\nexport interface UsePrimarySaleTransactionStepsParams {\n\tchainId: number;\n\tbuyer: Address;\n\trecipient?: Address;\n\tsalesContractAddress: Address;\n\ttokenIds: bigint[];\n\tamounts: number[];\n\tmaxTotal: bigint;\n\tpaymentToken: Address;\n\tmerkleProof?: string[];\n\tcontractType: ContractType.ERC721 | ContractType.ERC1155;\n\tenabled?: boolean;\n}\n\n/**\n * Hook to generate transaction steps for primary sale transactions (minting/shop)\n * This directly creates steps without using generators\n */\nexport function usePrimarySaleTransactionSteps({\n\tchainId,\n\tbuyer,\n\trecipient,\n\tsalesContractAddress,\n\ttokenIds,\n\tamounts,\n\tmaxTotal,\n\tpaymentToken,\n\tmerkleProof = [],\n\tcontractType,\n\tenabled = true,\n}: UsePrimarySaleTransactionStepsParams) {\n\t// Get the correct ABI version for this sales contract\n\tconst {\n\t\tabi,\n\t\tversion,\n\t\tisLoading: abiLoading,\n\t} = useSalesContractABI({\n\t\tcontractAddress: salesContractAddress,\n\t\tcontractType,\n\t\tchainId,\n\t\tenabled,\n\t});\n\n\t// Check allowance if using ERC20\n\tconst { data: allowance, isLoading: allowanceLoading } = useReadContract({\n\t\taddress: paymentToken,\n\t\tabi: ERC20_ABI,\n\t\tfunctionName: 'allowance',\n\t\targs: [buyer, salesContractAddress],\n\t\tchainId,\n\t\tquery: {\n\t\t\tenabled: enabled && !!buyer && paymentToken !== zeroAddress,\n\t\t},\n\t});\n\n\treturn useQuery<Step[], Error>({\n\t\tqueryKey: [\n\t\t\t'primary-sale-steps',\n\t\t\t{\n\t\t\t\tchainId,\n\t\t\t\tsalesContractAddress,\n\t\t\t\ttokenIds,\n\t\t\t\tamounts,\n\t\t\t\tbuyer,\n\t\t\t\tmaxTotal,\n\t\t\t\tpaymentToken,\n\t\t\t},\n\t\t],\n\t\tqueryFn: async () => {\n\t\t\tif (!abi) {\n\t\t\t\tthrow new Error('Unable to determine sales contract ABI');\n\t\t\t}\n\n\t\t\tconst steps: Step[] = [];\n\n\t\t\t// Add approval step if needed\n\t\t\tif (\n\t\t\t\tpaymentToken !== zeroAddress &&\n\t\t\t\tallowance !== undefined &&\n\t\t\t\tallowance < maxTotal\n\t\t\t) {\n\t\t\t\tconst approvalCalldata = encodeFunctionData({\n\t\t\t\t\tabi: ERC20_ABI,\n\t\t\t\t\tfunctionName: 'approve',\n\t\t\t\t\targs: [salesContractAddress, maxTotal],\n\t\t\t\t});\n\n\t\t\t\tsteps.push({\n\t\t\t\t\tid: StepType.tokenApproval,\n\t\t\t\t\tdata: approvalCalldata,\n\t\t\t\t\tto: paymentToken,\n\t\t\t\t\tvalue: 0n,\n\t\t\t\t\tprice: 0n,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Format mint args based on version\n\t\t\tconst mintArgs = formatMintArgs({\n\t\t\t\trecipient: recipient || buyer,\n\t\t\t\ttokenIds,\n\t\t\t\tamounts,\n\t\t\t\tpaymentToken,\n\t\t\t\tmaxTotal,\n\t\t\t\tmerkleProof,\n\t\t\t\tversion: version!,\n\t\t\t});\n\n\t\t\t// Add mint step\n\t\t\tconst mintCalldata = encodeFunctionData({\n\t\t\t\tabi,\n\t\t\t\tfunctionName: 'mint',\n\t\t\t\targs: mintArgs as any, // Type assertion needed due to complex ABI types\n\t\t\t});\n\n\t\t\tsteps.push({\n\t\t\t\tid: StepType.buy,\n\t\t\t\tdata: mintCalldata,\n\t\t\t\tto: salesContractAddress,\n\t\t\t\tvalue: paymentToken === zeroAddress ? maxTotal : 0n,\n\t\t\t\tprice: maxTotal,\n\t\t\t});\n\n\t\t\treturn steps;\n\t\t},\n\t\tenabled: enabled && !!buyer && !!abi && !abiLoading && !allowanceLoading,\n\t});\n}\n\n/**\n * Format mint arguments based on contract version\n */\nfunction formatMintArgs({\n\trecipient,\n\ttokenIds,\n\tamounts,\n\tpaymentToken,\n\tmaxTotal,\n\tmerkleProof,\n\tversion,\n}: {\n\trecipient: Address;\n\ttokenIds: bigint[];\n\tamounts: number[];\n\tpaymentToken: Address;\n\tmaxTotal: bigint;\n\tmerkleProof: string[];\n\tversion: SalesContractVersion;\n}): unknown[] {\n\t// V1 contracts have different argument order than V0\n\tif (version === SalesContractVersion.V1) {\n\t\treturn [\n\t\t\trecipient, // to\n\t\t\ttokenIds, // tokenIds\n\t\t\tamounts, // amounts\n\t\t\t'0x', // data (empty bytes)\n\t\t\tpaymentToken, // expectedPaymentToken\n\t\t\tmaxTotal, // maxTotal\n\t\t\tmerkleProof, // proof\n\t\t];\n\t}\n\n\t// V0 contracts\n\treturn [\n\t\trecipient, // to\n\t\ttokenIds, // tokenIds\n\t\tamounts, // amounts\n\t\tpaymentToken, // expectedPaymentToken\n\t\tmaxTotal, // maxTotal\n\t\t'0x', // data (empty bytes)\n\t];\n}\n","import { useMemo } from 'react';\nimport { TransactionType } from '../../../types/transactions';\nimport type { BuyModalProps } from '../../ui/modals/BuyModal/store';\n\n/**\n * Hook to detect transaction type from modal props\n * Returns TransactionType.PRIMARY_SALE for shop transactions,\n * otherwise returns TransactionType.MARKET_BUY\n */\nexport function useTransactionType(modalProps: BuyModalProps) {\n\treturn useMemo(() => {\n\t\t// Shop transactions are primary sales\n\t\tif (modalProps.cardType === 'shop') {\n\t\t\treturn TransactionType.PRIMARY_SALE;\n\t\t}\n\n\t\t// Everything else is a market transaction\n\t\treturn TransactionType.MARKET_BUY;\n\t}, [modalProps.cardType]);\n}\n","import { zeroAddress } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { TransactionType } from '../../../types/transactions';\nimport { ContractType, MarketplaceKind } from '../../_internal';\nimport { useMarketPlatformFee } from '../../ui/modals/BuyModal/hooks/useMarketPlatformFee';\nimport type { BuyModalProps } from '../../ui/modals/BuyModal/store';\nimport { isMarketProps, isShopProps } from '../../ui/modals/BuyModal/store';\nimport { useMarketTransactionSteps } from './useMarketTransactionSteps';\nimport { usePrimarySaleTransactionSteps } from './usePrimarySaleTransactionSteps';\nimport { useTransactionType } from './useTransactionType';\n\n/**\n * Unified hook that handles both market and primary sale transactions\n * Automatically selects the appropriate transaction type based on modal props\n */\nexport function useBuyTransaction(modalProps: BuyModalProps) {\n\tconst { address: buyer } = useAccount();\n\tconst transactionType = useTransactionType(modalProps);\n\tconst marketPlatformFee = useMarketPlatformFee({\n\t\tchainId: modalProps.chainId,\n\t\tcollectionAddress: modalProps.collectionAddress,\n\t});\n\n\t// Market transaction query\n\tconst marketQuery = useMarketTransactionSteps({\n\t\tchainId: modalProps.chainId,\n\t\tcollectionAddress: modalProps.collectionAddress,\n\t\tbuyer: buyer!,\n\t\tmarketplace: isMarketProps(modalProps)\n\t\t\t? modalProps.marketplace\n\t\t\t: MarketplaceKind.sequence_marketplace_v2,\n\t\torderId: isMarketProps(modalProps) ? modalProps.orderId : '',\n\t\ttokenId: isMarketProps(modalProps) ? modalProps.tokenId : 0n,\n\t\tquantity: 1n, // Single item purchase for now\n\t\tadditionalFees: [marketPlatformFee],\n\t\tenabled: transactionType === TransactionType.MARKET_BUY && !!buyer,\n\t});\n\n\t// Primary sale transaction query\n\tconst primaryQuery = usePrimarySaleTransactionSteps({\n\t\tchainId: modalProps.chainId,\n\t\tbuyer: buyer!,\n\t\tsalesContractAddress: isShopProps(modalProps)\n\t\t\t? modalProps.salesContractAddress\n\t\t\t: zeroAddress,\n\t\ttokenIds: isShopProps(modalProps)\n\t\t\t? modalProps.items.map((item) => item.tokenId || 0n)\n\t\t\t: [],\n\t\tamounts: isShopProps(modalProps)\n\t\t\t? modalProps.items.map((item) => Number(item.quantity) || 1)\n\t\t\t: [],\n\t\tmaxTotal: isShopProps(modalProps) ? modalProps.salePrice.amount : 0n,\n\t\tpaymentToken: isShopProps(modalProps)\n\t\t\t? modalProps.salePrice.currencyAddress\n\t\t\t: zeroAddress,\n\t\tcontractType: ContractType.ERC1155, // TODO: Determine from contract\n\t\tenabled: transactionType === TransactionType.PRIMARY_SALE && !!buyer,\n\t});\n\n\t// Return the active query based on transaction type\n\tif (transactionType === TransactionType.MARKET_BUY) {\n\t\treturn {\n\t\t\tdata: marketQuery.data,\n\t\t\tisLoading: marketQuery.isLoading,\n\t\t\terror: marketQuery.error,\n\t\t\tisError: marketQuery.isError,\n\t\t\trefetch: marketQuery.refetch,\n\t\t};\n\t}\n\n\treturn {\n\t\tdata: primaryQuery.data,\n\t\tisLoading: primaryQuery.isLoading,\n\t\terror: primaryQuery.error,\n\t\tisError: primaryQuery.isError,\n\t\trefetch: primaryQuery.refetch,\n\t};\n}\n","'use client';\n\nimport type { Indexer } from '@0xsequence/api-client';\nimport { useChain } from '@0xsequence/connect';\nimport { useCallback, useEffect } from 'react';\nimport { type Address, zeroAddress } from 'viem';\nimport { useAccount } from 'wagmi';\nimport type { FeeOption } from '../../../types/waas-types';\nimport { useCollectionBalanceDetails } from '../collection/balance-details';\n\nenum AutoSelectFeeOptionError {\n\tUserNotConnected = 'User not connected',\n\tNoOptionsProvided = 'No options provided',\n\tFailedToCheckBalances = 'Failed to check balances',\n\tInsufficientBalanceForAnyFeeOption = 'Insufficient balance for any fee option',\n}\n\ntype UseAutoSelectFeeOptionArgs = {\n\tpendingFeeOptionConfirmation: {\n\t\tid: string;\n\t\toptions: FeeOption[] | undefined;\n\t\tchainId: number;\n\t};\n\tenabled?: boolean;\n};\n\n/**\n * A React hook that automatically selects the first fee option for which the user has sufficient balance.\n *\n * @param {Object} params.pendingFeeOptionConfirmation - Configuration for fee option selection\n *\n * @returns {Promise<{\n *   selectedOption: FeeOption | null,\n *   error: AutoSelectFeeOptionError | null,\n *   isLoading?: boolean\n * }>} A promise that resolves to an object containing:\n *   - selectedOption: The first fee option with sufficient balance, or null if none found\n *   - error: Error message if selection fails, null otherwise\n *   - isLoading: True while checking balances\n *\n * @throws {AutoSelectFeeOptionError} Possible errors:\n *   - UserNotConnected: When no wallet is connected\n *   - NoOptionsProvided: When fee options array is undefined\n *   - FailedToCheckBalances: When balance checking fails\n *   - InsufficientBalanceForAnyFeeOption: When user has insufficient balance for all options\n *\n * @example\n * ```tsx\n * function MyComponent() {\n *   const [pendingFeeOptionConfirmation, confirmPendingFeeOption] = useWaasFeeOptions();\n *\n *   const autoSelectOptionPromise = useAutoSelectFeeOption({\n *     pendingFeeOptionConfirmation: pendingFeeOptionConfirmation\n *       ? {\n *           id: pendingFeeOptionConfirmation.id,\n *           options: pendingFeeOptionConfirmation.options,\n *           chainId: 1\n *         }\n *       : {\n *           id: '',\n *           options: undefined,\n *           chainId: 1\n *         }\n *   });\n *\n *   useEffect(() => {\n *     autoSelectOptionPromise.then((result) => {\n *       if (result.isLoading) {\n *         console.log('Checking balances...');\n *         return;\n *       }\n *\n *       if (result.error) {\n *         console.error('Failed to select fee option:', result.error);\n *         return;\n *       }\n *\n *       if (pendingFeeOptionConfirmation?.id && result.selectedOption) {\n *         confirmPendingFeeOption(\n *           pendingFeeOptionConfirmation.id,\n *           result.selectedOption.token.contractAddress\n *         );\n *       }\n *     });\n *   }, [autoSelectOptionPromise, confirmPendingFeeOption, pendingFeeOptionConfirmation]);\n *\n *   return <div>...</div>;\n * }\n * ```\n */\n/**\n * Normalizes WaaS fee option token address to viem Address type\n * - null represents native token (converted to zeroAddress)\n * - string addresses from WaaS are validated and guaranteed to be hex addresses\n */\nfunction normalizeWaasFeeTokenAddress(contractAddress: string | null): Address {\n\tif (contractAddress === null) {\n\t\treturn zeroAddress;\n\t}\n\t// WaaS returns validated hex addresses, but TypeScript doesn't know they're `0x${string}`\n\t// We validate to be safe and satisfy the type system\n\tif (!contractAddress.startsWith('0x')) {\n\t\tthrow new Error(`Invalid address from WaaS: ${contractAddress}`);\n\t}\n\treturn contractAddress as Address;\n}\n\nexport function useAutoSelectFeeOption({\n\tpendingFeeOptionConfirmation,\n\tenabled,\n}: UseAutoSelectFeeOptionArgs) {\n\tconst { address: userAddress } = useAccount();\n\n\tconst isEnabled = enabled ?? true;\n\n\tconst contractWhitelist = pendingFeeOptionConfirmation.options?.map(\n\t\t(option) => normalizeWaasFeeTokenAddress(option.token.contractAddress),\n\t);\n\n\tconst {\n\t\tdata: balanceDetails,\n\t\tisLoading: isBalanceDetailsLoading,\n\t\tisError: isBalanceDetailsError,\n\t} = useCollectionBalanceDetails({\n\t\tchainId: pendingFeeOptionConfirmation.chainId,\n\t\tfilter: {\n\t\t\taccountAddresses: userAddress ? [userAddress] : [],\n\t\t\tcontractWhitelist,\n\t\t\tomitNativeBalances: false,\n\t\t},\n\t\tquery: {\n\t\t\tenabled:\n\t\t\t\t!!pendingFeeOptionConfirmation.options && !!userAddress && isEnabled,\n\t\t},\n\t});\n\tconst chain = useChain(pendingFeeOptionConfirmation.chainId);\n\n\t// combine native balance and erc20 balances\n\tconst combinedBalances = balanceDetails && [\n\t\t...balanceDetails.nativeBalances.map((b: Indexer.NativeTokenBalance) => ({\n\t\t\tchainId: pendingFeeOptionConfirmation.chainId,\n\t\t\tbalance: b.balance,\n\t\t\tsymbol: chain?.nativeCurrency.symbol,\n\t\t\tcontractAddress: zeroAddress,\n\t\t})),\n\t\t...balanceDetails.balances.map((b: Indexer.TokenBalance) => ({\n\t\t\tchainId: b.chainId,\n\t\t\tbalance: b.balance,\n\t\t\tsymbol: b.contractInfo?.symbol,\n\t\t\tcontractAddress: b.contractAddress,\n\t\t})),\n\t];\n\n\tuseEffect(() => {\n\t\tif (combinedBalances) {\n\t\t\tconsole.debug('currency balances', combinedBalances);\n\t\t}\n\t}, [combinedBalances]);\n\n\tconst autoSelectedOption = useCallback(async () => {\n\t\tif (!userAddress) {\n\t\t\treturn {\n\t\t\t\tselectedOption: null,\n\t\t\t\terror: AutoSelectFeeOptionError.UserNotConnected,\n\t\t\t};\n\t\t}\n\n\t\tif (!pendingFeeOptionConfirmation.options) {\n\t\t\treturn {\n\t\t\t\tselectedOption: null,\n\t\t\t\terror: AutoSelectFeeOptionError.NoOptionsProvided,\n\t\t\t};\n\t\t}\n\n\t\tif (isBalanceDetailsLoading) {\n\t\t\treturn { selectedOption: null, error: null, isLoading: true };\n\t\t}\n\n\t\tif (isBalanceDetailsError || !combinedBalances) {\n\t\t\treturn {\n\t\t\t\tselectedOption: null,\n\t\t\t\terror: AutoSelectFeeOptionError.FailedToCheckBalances,\n\t\t\t};\n\t\t}\n\n\t\tconst selectedOption = pendingFeeOptionConfirmation.options.find(\n\t\t\t(option) => {\n\t\t\t\tconst normalizedAddress = normalizeWaasFeeTokenAddress(\n\t\t\t\t\toption.token.contractAddress,\n\t\t\t\t);\n\t\t\t\tconst tokenBalance = combinedBalances.find(\n\t\t\t\t\t(balance: { contractAddress: Address }) =>\n\t\t\t\t\t\tbalance.contractAddress.toLowerCase() ===\n\t\t\t\t\t\tnormalizedAddress.toLowerCase(),\n\t\t\t\t);\n\n\t\t\t\tif (!tokenBalance) return false;\n\n\t\t\t\treturn BigInt(tokenBalance.balance) >= BigInt(option.value);\n\t\t\t},\n\t\t);\n\n\t\tif (!selectedOption) {\n\t\t\treturn {\n\t\t\t\tselectedOption: null,\n\t\t\t\terror: AutoSelectFeeOptionError.InsufficientBalanceForAnyFeeOption,\n\t\t\t};\n\t\t}\n\n\t\treturn { selectedOption, error: null };\n\t}, [\n\t\tuserAddress,\n\t\tpendingFeeOptionConfirmation.options,\n\t\tisBalanceDetailsLoading,\n\t\tisBalanceDetailsError,\n\t\tcombinedBalances,\n\t\tisEnabled,\n\t]);\n\n\treturn autoSelectedOption();\n}\n","import type { QueryClient } from '@tanstack/react-query';\nimport type {\n\tGetCountOfListingsForCollectibleResponse,\n\tGetCountOfOffersForCollectibleResponse,\n\tListListingsForCollectibleResponse,\n\tListOffersForCollectibleResponse,\n} from '../../_internal';\n\nconst SECOND = 1000;\n\ninterface OptimisticCancelUpdatesParams {\n\torderId: string;\n\tqueryClient: QueryClient;\n}\n\nexport const updateQueriesOnCancel = ({\n\torderId,\n\tqueryClient,\n}: OptimisticCancelUpdatesParams) => {\n\tqueryClient.setQueriesData(\n\t\t{ queryKey: ['collectible', 'market-count-offers'], exact: false },\n\t\t(oldData: GetCountOfOffersForCollectibleResponse | undefined) => {\n\t\t\tif (!oldData) return 0;\n\t\t\treturn Math.max(0, oldData.count - 1);\n\t\t},\n\t);\n\n\t// remove the offer with matching orderId\n\tqueryClient.setQueriesData(\n\t\t{ queryKey: ['collectible', 'market-list-offers'], exact: false },\n\t\t(oldData: ListOffersForCollectibleResponse | undefined) => {\n\t\t\tif (!oldData || !oldData.offers) return oldData;\n\t\t\treturn {\n\t\t\t\t...oldData,\n\t\t\t\toffers: oldData.offers.filter((offer) => offer.orderId !== orderId),\n\t\t\t};\n\t\t},\n\t);\n\n\t// 2 seconds is enough time for new data to be fetched\n\tsetTimeout(() => {\n\t\tqueryClient.invalidateQueries({\n\t\t\tqueryKey: ['collectible', 'market-highest-offer'],\n\t\t\texact: false,\n\t\t\tpredicate: (query) => !query.meta?.persistent,\n\t\t});\n\t}, 2 * SECOND);\n\n\tqueryClient.setQueriesData(\n\t\t{ queryKey: ['collectible', 'market-count-listings'], exact: false },\n\t\t(oldData: GetCountOfListingsForCollectibleResponse | undefined) => {\n\t\t\tif (!oldData) return 0;\n\t\t\treturn Math.max(0, oldData.count - 1);\n\t\t},\n\t);\n\n\tqueryClient.setQueriesData(\n\t\t{ queryKey: ['collectible', 'market-list-listings'], exact: false },\n\t\t(oldData: ListListingsForCollectibleResponse | undefined) => {\n\t\t\tif (!oldData || !oldData.listings) return oldData;\n\t\t\treturn {\n\t\t\t\t...oldData,\n\t\t\t\tlistings: oldData.listings.filter(\n\t\t\t\t\t(listing) => listing.orderId !== orderId,\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t);\n\n\t// 2 seconds is enough time for new data to be fetched\n\tsetTimeout(() => {\n\t\tqueryClient.invalidateQueries({\n\t\t\tqueryKey: ['collectible', 'market-lowest-listing'],\n\t\t\texact: false,\n\t\t});\n\t}, 2 * SECOND);\n};\n\nexport const invalidateQueriesOnCancel = ({\n\tqueryClient,\n}: {\n\tqueryClient: QueryClient;\n}) => {\n\tqueryClient.invalidateQueries({\n\t\tqueryKey: ['collectible', 'market-list-offers'],\n\t\texact: false,\n\t});\n\n\tqueryClient.invalidateQueries({\n\t\tqueryKey: ['collectible', 'market-count-offers'],\n\t\texact: false,\n\t});\n\n\tqueryClient.invalidateQueries({\n\t\tqueryKey: ['collectible', 'market-list-listings'],\n\t\texact: false,\n\t});\n\n\tqueryClient.invalidateQueries({\n\t\tqueryKey: ['collectible', 'market-count-listings'],\n\t\texact: false,\n\t});\n\n\tqueryClient.invalidateQueries({\n\t\tqueryKey: ['collectible', 'market-highest-offer'],\n\t\texact: false,\n\t});\n\n\tqueryClient.invalidateQueries({\n\t\tqueryKey: ['collectible', 'market-lowest-listing'],\n\t\texact: false,\n\t});\n};\n","import { useCallback, useEffect } from 'react';\nimport { useAccount, useSwitchChain } from 'wagmi';\nimport { useSwitchChainErrorModal } from '../../ui/modals/_internal/components/switchChainErrorModal';\nimport { useChainIdToSwitchTo } from '../../ui/modals/_internal/components/switchChainErrorModal/store';\nimport { useConnectorMetadata } from '../config/useConnectorMetadata';\n\nexport const useEnsureCorrectChain = () => {\n\tconst { chainId: currentChainId } = useAccount();\n\tconst { switchChain, switchChainAsync } = useSwitchChain();\n\tconst { show: showSwitchChainErrorModal, close: closeSwitchChainErrorModal } =\n\t\tuseSwitchChainErrorModal();\n\tconst chainIdToSwitchTo = useChainIdToSwitchTo();\n\tconst { isWaaS } = useConnectorMetadata();\n\n\t// Close the switch chain error modal when user successfully switches to the target chain\n\tuseEffect(() => {\n\t\tif (\n\t\t\tcurrentChainId &&\n\t\t\tchainIdToSwitchTo &&\n\t\t\tcurrentChainId === chainIdToSwitchTo\n\t\t) {\n\t\t\tcloseSwitchChainErrorModal();\n\t\t}\n\t}, [currentChainId, chainIdToSwitchTo, closeSwitchChainErrorModal]);\n\n\tconst ensureCorrectChainAsync = useCallback(\n\t\tasync (targetChainId: number) => {\n\t\t\tif (currentChainId === targetChainId) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t\treturn switchChainAsync({ chainId: targetChainId }).catch(() => {\n\t\t\t\tshowSwitchChainErrorModal({\n\t\t\t\t\tchainIdToSwitchTo: targetChainId,\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t[currentChainId, isWaaS, switchChainAsync, showSwitchChainErrorModal],\n\t);\n\n\tconst ensureCorrectChain = useCallback(\n\t\t(\n\t\t\ttargetChainId: number,\n\t\t\tcallbacks?: {\n\t\t\t\tonSuccess?: () => void;\n\t\t\t},\n\t\t) => {\n\t\t\tif (currentChainId === targetChainId) {\n\t\t\t\tcallbacks?.onSuccess?.();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitchChain(\n\t\t\t\t{ chainId: targetChainId },\n\t\t\t\t{\n\t\t\t\t\tonSuccess: callbacks?.onSuccess,\n\t\t\t\t\tonError: () =>\n\t\t\t\t\t\tshowSwitchChainErrorModal({\n\t\t\t\t\t\t\tchainIdToSwitchTo: targetChainId,\n\t\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\t\t[currentChainId, isWaaS, switchChain, showSwitchChainErrorModal],\n\t);\n\n\treturn {\n\t\tensureCorrectChain,\n\t\tensureCorrectChainAsync,\n\t\tcurrentChainId,\n\t};\n};\n","import type { Step } from '@0xsequence/api-client';\nimport { useMutation } from '@tanstack/react-query';\nimport type * as types from '../../../types';\nimport {\n\ttype GenerateCancelTransactionRequest,\n\tgetMarketplaceClient,\n} from '../../_internal';\nimport { useConfig } from '../config/useConfig';\n\n// Create a type that uses number for chainId\ntype GenerateCancelTransactionRequestWithNumberChainId = Omit<\n\tGenerateCancelTransactionRequest,\n\t'chainId'\n> & {\n\tchainId: number;\n};\n\ninterface UseGenerateCancelTransactionRequest {\n\tchainId: number;\n\tonSuccess?: (steps?: Step[]) => void;\n}\n\nexport const generateCancelTransaction = async (\n\targs: GenerateCancelTransactionRequestWithNumberChainId,\n\tconfig: types.SdkConfig,\n): Promise<Step[]> => {\n\tconst marketplaceClient = getMarketplaceClient(config);\n\treturn marketplaceClient\n\t\t.generateCancelTransaction(args)\n\t\t.then((data) => data.steps);\n};\n\nexport const useGenerateCancelTransaction = (\n\tparams: UseGenerateCancelTransactionRequest,\n) => {\n\tconst config = useConfig();\n\n\tconst { mutate, mutateAsync, ...result } = useMutation({\n\t\tonSuccess: (data) => {\n\t\t\t// Only pass the data (steps) to the user's onSuccess callback to maintain backwards compatibility\n\t\t\tif (params.onSuccess) {\n\t\t\t\tparams.onSuccess(data);\n\t\t\t}\n\t\t},\n\t\tmutationFn: (args: GenerateCancelTransactionRequestWithNumberChainId) =>\n\t\t\tgenerateCancelTransaction(args, config),\n\t});\n\n\treturn {\n\t\t...result,\n\t\tgenerateCancelTransaction: mutate,\n\t\tgenerateCancelTransactionAsync: mutateAsync,\n\t};\n};\n","import { type Hex, isHex } from 'viem';\nimport { useSendTransaction, useSignMessage, useSignTypedData } from 'wagmi';\nimport {\n\tExecuteType,\n\tisTransactionStep,\n\ttype Step,\n\tStepType,\n} from '../../_internal';\nimport { getMarketplaceClient } from '../../_internal/api';\nimport { useConfig } from '../config';\n\ntype ProcessStepResult =\n\t| { type: 'transaction'; hash: Hex }\n\t| { type: 'signature'; orderId?: string; signature?: Hex };\n\nexport const useProcessStep = () => {\n\tconst { sendTransactionAsync } = useSendTransaction();\n\tconst { signMessageAsync } = useSignMessage();\n\tconst { signTypedDataAsync } = useSignTypedData();\n\tconst config = useConfig();\n\tconst marketplaceClient = getMarketplaceClient(config);\n\n\tconst processStep = async (\n\t\tstep: Step,\n\t\tchainId: number,\n\t): Promise<ProcessStepResult> => {\n\t\t// Transaction steps - return transaction hash\n\t\tif (isTransactionStep(step)) {\n\t\t\tconst hash = await sendTransactionAsync({\n\t\t\t\tchainId,\n\t\t\t\tto: step.to,\n\t\t\t\tdata: step.data,\n\t\t\t\tvalue: step.value,\n\t\t\t});\n\n\t\t\treturn { type: 'transaction', hash };\n\t\t}\n\n\t\t// EIP-191 Signature - plain text or hex message\n\t\tif (step.id === StepType.signEIP191) {\n\t\t\tconst data = step.data;\n\t\t\tconst message = isHex(data) ? ({ raw: data } as const) : data;\n\t\t\tconst signature = await signMessageAsync({ message });\n\n\t\t\t// Call execute endpoint with signature\n\t\t\tconst result = await marketplaceClient.execute({\n\t\t\t\tparams: {\n\t\t\t\t\tchainId: chainId.toString(),\n\t\t\t\t\tsignature,\n\t\t\t\t\tmethod: step.post.method,\n\t\t\t\t\tendpoint: step.post.endpoint,\n\t\t\t\t\tbody: step.post.body,\n\t\t\t\t\texecuteType: ExecuteType.order,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn { type: 'signature', orderId: result.orderId };\n\t\t}\n\n\t\t// EIP-712 Typed Data Signature\n\t\tif (step.id === StepType.signEIP712) {\n\t\t\t// TypeScript can't narrow discriminated unions with complex types\n\t\t\t// so we manually assert that signature is defined for EIP-712\n\t\t\tif (!step.signature) {\n\t\t\t\tthrow new Error('EIP-712 step missing signature data');\n\t\t\t}\n\n\t\t\tconst signature = await signTypedDataAsync({\n\t\t\t\tdomain: step.signature.domain,\n\t\t\t\ttypes: step.signature.types,\n\t\t\t\tprimaryType: step.signature.primaryType,\n\t\t\t\tmessage: step.signature.value,\n\t\t\t});\n\n\t\t\t// Call execute endpoint with signature\n\t\t\tconst result = await marketplaceClient.execute({\n\t\t\t\tparams: {\n\t\t\t\t\tchainId: chainId.toString(),\n\t\t\t\t\tsignature,\n\t\t\t\t\tmethod: step.post.method,\n\t\t\t\t\tendpoint: step.post.endpoint,\n\t\t\t\t\tbody: step.post.body,\n\t\t\t\t\texecuteType: ExecuteType.order,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn { type: 'signature', orderId: result.orderId };\n\t\t}\n\n\t\t// This should never be reached\n\t\tthrow new Error(`Unsupported step type: ${(step as Step).id}`);\n\t};\n\n\treturn { processStep };\n};\n","import type { Address, Hex } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { NoWalletConnectedError } from '../../../utils/_internal/error/transaction';\nimport {\n\tgetQueryClient,\n\ttype MarketplaceKind,\n\tStepType,\n} from '../../_internal';\nimport { waitForTransactionReceipt } from '../../utils/waitForTransactionReceipt';\nimport { useConfig } from '../config/useConfig';\nimport {\n\tinvalidateQueriesOnCancel,\n\tupdateQueriesOnCancel,\n} from '../util/optimisticCancelUpdates';\nimport { useEnsureCorrectChain } from '../utils/useEnsureCorrectChain';\nimport type { TransactionStep } from './useCancelOrder';\nimport { useGenerateCancelTransaction } from './useGenerateCancelTransaction';\nimport { useProcessStep } from './useProcessStep';\n\ninterface UseCancelTransactionStepsArgs {\n\tcollectionAddress: Address;\n\tchainId: number;\n\tsetSteps: React.Dispatch<React.SetStateAction<TransactionStep>>;\n\tonSuccess?: ({ hash, orderId }: { hash?: string; orderId?: string }) => void;\n\tonError?: (error: Error) => void;\n}\n\nexport const useCancelTransactionSteps = ({\n\tcollectionAddress,\n\tchainId,\n\tsetSteps,\n\tonSuccess,\n\tonError,\n}: UseCancelTransactionStepsArgs) => {\n\tconst { address } = useAccount();\n\tconst { ensureCorrectChainAsync } = useEnsureCorrectChain();\n\tconst sdkConfig = useConfig();\n\tconst { generateCancelTransactionAsync } = useGenerateCancelTransaction({\n\t\tchainId,\n\t});\n\tconst { processStep } = useProcessStep();\n\n\tconst getCancelSteps = async ({\n\t\torderId,\n\t\tmarketplace,\n\t}: {\n\t\torderId: string;\n\t\tmarketplace: MarketplaceKind;\n\t}) => {\n\t\ttry {\n\t\t\tif (!address) {\n\t\t\t\tthrow new NoWalletConnectedError();\n\t\t\t}\n\n\t\t\tif (!address) {\n\t\t\t\tthrow new Error('Wallet address not found');\n\t\t\t}\n\n\t\t\tconst steps = await generateCancelTransactionAsync({\n\t\t\t\tchainId,\n\t\t\t\tcollectionAddress,\n\t\t\t\tmaker: address,\n\t\t\t\tmarketplace,\n\t\t\t\torderId,\n\t\t\t});\n\n\t\t\treturn steps;\n\t\t} catch (error) {\n\t\t\tconsole.debug('onError callback not provided:', error);\n\t\t}\n\t};\n\n\tconst cancelOrder = async ({\n\t\torderId,\n\t\tmarketplace,\n\t}: {\n\t\torderId: string;\n\t\tmarketplace: MarketplaceKind;\n\t}) => {\n\t\tconst queryClient = getQueryClient();\n\t\tif (!address) {\n\t\t\tthrow new NoWalletConnectedError();\n\t\t}\n\n\t\ttry {\n\t\t\tawait ensureCorrectChainAsync(Number(chainId));\n\n\t\t\tsetSteps((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tisExecuting: true,\n\t\t\t}));\n\n\t\t\tconst cancelSteps = await getCancelSteps({\n\t\t\t\torderId,\n\t\t\t\tmarketplace,\n\t\t\t});\n\t\t\tconst transactionStep = cancelSteps?.find(\n\t\t\t\t(step) => step.id === StepType.cancel,\n\t\t\t);\n\t\t\tconst signatureStep = cancelSteps?.find(\n\t\t\t\t(step) => step.id === StepType.signEIP712,\n\t\t\t);\n\n\t\t\tconsole.debug('transactionStep', transactionStep);\n\t\t\tconsole.debug('signatureStep', signatureStep);\n\n\t\t\tif (!transactionStep && !signatureStep) {\n\t\t\t\tthrow new Error('No transaction or signature step found');\n\t\t\t}\n\n\t\t\tlet hash: Hex | undefined;\n\t\t\tlet reservoirOrderId: string | undefined;\n\n\t\t\tif (transactionStep) {\n\t\t\t\tconst result = await processStep(transactionStep, chainId);\n\n\t\t\t\tif (result.type === 'transaction') {\n\t\t\t\t\thash = result.hash;\n\n\t\t\t\t\tawait waitForTransactionReceipt({\n\t\t\t\t\t\ttxHash: hash,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\tsdkConfig,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (onSuccess && typeof onSuccess === 'function') {\n\t\t\t\t\t\tonSuccess({ hash });\n\n\t\t\t\t\t\tupdateQueriesOnCancel({\n\t\t\t\t\t\t\torderId,\n\t\t\t\t\t\t\tqueryClient,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tsetSteps((prev) => ({\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tisExecuting: false,\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (signatureStep) {\n\t\t\t\tconst result = await processStep(signatureStep, chainId);\n\n\t\t\t\tif (result.type === 'signature') {\n\t\t\t\t\treservoirOrderId = result.orderId;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tonSuccess &&\n\t\t\t\t\t\ttypeof onSuccess === 'function' &&\n\t\t\t\t\t\treservoirOrderId\n\t\t\t\t\t) {\n\t\t\t\t\t\tonSuccess({ orderId: reservoirOrderId });\n\n\t\t\t\t\t\tupdateQueriesOnCancel({\n\t\t\t\t\t\t\torderId: reservoirOrderId,\n\t\t\t\t\t\t\tqueryClient,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tsetSteps((prev) => ({\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tisExecuting: false,\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tinvalidateQueriesOnCancel({\n\t\t\t\tqueryClient,\n\t\t\t});\n\n\t\t\tsetSteps((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tisExecuting: false,\n\t\t\t}));\n\n\t\t\tif (onError && typeof onError === 'function') {\n\t\t\t\tonError(error as Error);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn {\n\t\tcancelOrder,\n\t};\n};\n","'use client';\nimport { useWaasFeeOptions } from '@0xsequence/connect';\nimport { useEffect, useState } from 'react';\nimport type { Address } from 'viem';\nimport type * as types from '../../_internal';\nimport { useAutoSelectFeeOption } from '../utils/useAutoSelectFeeOption';\nimport { useCancelTransactionSteps } from './useCancelTransactionSteps';\n\ninterface UseCancelOrderArgs {\n\tcollectionAddress: Address;\n\tchainId: number;\n}\n\nexport type TransactionStep = {\n\texist: boolean;\n\tisExecuting: boolean;\n\texecute: () => Promise<void>;\n};\n\nexport const useCancelOrder = ({\n\tcollectionAddress,\n\tchainId,\n}: UseCancelOrderArgs) => {\n\tconst [steps, setSteps] = useState<TransactionStep>({\n\t\texist: false,\n\t\tisExecuting: false,\n\t\texecute: () => Promise.resolve(),\n\t});\n\tconst [cancellingOrderId, setCancellingOrderId] = useState<string | null>(\n\t\tnull,\n\t);\n\tconst [pendingFeeOptionConfirmation, confirmPendingFeeOption] =\n\t\tuseWaasFeeOptions();\n\tconst autoSelectOptionPromise = useAutoSelectFeeOption({\n\t\tpendingFeeOptionConfirmation: pendingFeeOptionConfirmation\n\t\t\t? {\n\t\t\t\t\tid: pendingFeeOptionConfirmation.id,\n\t\t\t\t\toptions: pendingFeeOptionConfirmation.options?.map((opt) => ({\n\t\t\t\t\t\t...opt,\n\t\t\t\t\t\ttoken: {\n\t\t\t\t\t\t\t...opt.token,\n\t\t\t\t\t\t\tcontractAddress: opt.token.contractAddress || null,\n\t\t\t\t\t\t\tdecimals: opt.token.decimals || 0,\n\t\t\t\t\t\t\ttokenID: opt.token.tokenID || null,\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\t\t\t\t\tchainId,\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\tid: '',\n\t\t\t\t\toptions: undefined,\n\t\t\t\t\tchainId,\n\t\t\t\t},\n\t\tenabled: !!pendingFeeOptionConfirmation && !!cancellingOrderId,\n\t});\n\n\tuseEffect(() => {\n\t\tautoSelectOptionPromise.then((res) => {\n\t\t\tif (pendingFeeOptionConfirmation?.id && res.selectedOption) {\n\t\t\t\tconfirmPendingFeeOption(\n\t\t\t\t\tpendingFeeOptionConfirmation.id,\n\t\t\t\t\tres.selectedOption.token.contractAddress,\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}, [\n\t\tautoSelectOptionPromise,\n\t\tconfirmPendingFeeOption,\n\t\tpendingFeeOptionConfirmation,\n\t]);\n\n\tconst { cancelOrder: cancelOrderBase } = useCancelTransactionSteps({\n\t\tcollectionAddress,\n\t\tchainId,\n\t\tonSuccess: () => {\n\t\t\tsetCancellingOrderId(null);\n\t\t},\n\t\tonError: () => {\n\t\t\tsetCancellingOrderId(null);\n\t\t},\n\t\tsetSteps,\n\t});\n\n\tconst cancelOrder = async (params: {\n\t\torderId: string;\n\t\tmarketplace: types.MarketplaceKind;\n\t}) => {\n\t\tsetCancellingOrderId(params.orderId);\n\t\treturn cancelOrderBase(params);\n\t};\n\n\treturn {\n\t\tcancelOrder,\n\t\tisExecuting: steps.isExecuting,\n\t\tcancellingOrderId,\n\t};\n};\n","export const dateToUnixTime = (date: Date) =>\n\tMath.floor(date.getTime() / 1000).toString();\n","import { useMutation } from '@tanstack/react-query';\nimport { useConfig } from '../config/useConfig';\n\nexport type UseGenerateListingTransactionRequest = {\n\tchainId: number;\n\tonSuccess?: (data?: Step[]) => void;\n};\n\nimport type * as types from '../../../types';\nimport { dateToUnixTime } from '../../../utils/date';\nimport {\n\ttype CreateReq,\n\ttype GenerateListingTransactionRequest,\n\tgetMarketplaceClient,\n\ttype Step,\n} from '../../_internal';\n\nexport type CreateReqWithDateExpiry = Omit<CreateReq, 'expiry'> & {\n\texpiry: Date;\n};\n\nexport type GenerateListingTransactionProps = Omit<\n\tGenerateListingTransactionRequest,\n\t'listing'\n> & {\n\tlisting: CreateReqWithDateExpiry;\n};\n\ntype GenerateListingTransactionRequestWithNumberChainId = Omit<\n\tGenerateListingTransactionRequest,\n\t'chainId' | 'listing'\n> & {\n\tchainId: number;\n\tlisting: CreateReqWithDateExpiry;\n};\n\nexport const generateListingTransaction = async (\n\tparams: GenerateListingTransactionRequestWithNumberChainId,\n\tconfig: types.SdkConfig,\n): Promise<Step[]> => {\n\tconst args = {\n\t\t...params,\n\t\tchainId: params.chainId,\n\t\tlisting: {\n\t\t\t...params.listing,\n\t\t\texpiry: dateToUnixTime(params.listing.expiry),\n\t\t},\n\t};\n\tconst marketplaceClient = getMarketplaceClient(config);\n\treturn (await marketplaceClient.generateListingTransaction(args)).steps;\n};\n\nexport const useGenerateListingTransaction = (\n\tparams: UseGenerateListingTransactionRequest,\n) => {\n\tconst config = useConfig();\n\n\tconst { mutate, mutateAsync, ...result } = useMutation({\n\t\tonSuccess: (data) => {\n\t\t\t// Only pass the data (steps) to the user's onSuccess callback to maintain backwards compatibility\n\t\t\tif (params.onSuccess) {\n\t\t\t\tparams.onSuccess(data);\n\t\t\t}\n\t\t},\n\t\tmutationFn: (\n\t\t\targs: Omit<GenerateListingTransactionRequestWithNumberChainId, 'chainId'>,\n\t\t) =>\n\t\t\tgenerateListingTransaction({ ...args, chainId: params.chainId }, config),\n\t});\n\n\treturn {\n\t\t...result,\n\t\tgenerateListingTransaction: mutate,\n\t\tgenerateListingTransactionAsync: mutateAsync,\n\t};\n};\n","import { useMutation } from '@tanstack/react-query';\nimport type { SdkConfig } from '../../../types';\nimport { dateToUnixTime } from '../../../utils/date';\nimport {\n\ttype CreateReq,\n\ttype GenerateOfferTransactionRequest,\n\tgetMarketplaceClient,\n\ttype Step,\n\ttype WalletKind,\n} from '../../_internal';\nimport { useConfig } from '../config/useConfig';\nimport { useConnectorMetadata } from '../config/useConnectorMetadata';\n\nexport type UseGenerateOfferTransactionRequest = {\n\tchainId: number;\n\tonSuccess?: (data?: Step[]) => void;\n};\n\ntype CreateReqWithDateExpiry = Omit<CreateReq, 'expiry'> & {\n\texpiry: Date;\n};\n\nexport type GenerateOfferTransactionProps = Omit<\n\tGenerateOfferTransactionRequest,\n\t'offer'\n> & {\n\toffer: CreateReqWithDateExpiry;\n};\n\ntype GenerateOfferTransactionRequestWithNumberChainId = Omit<\n\tGenerateOfferTransactionRequest,\n\t'chainId' | 'offer'\n> & {\n\tchainId: number;\n\toffer: CreateReqWithDateExpiry;\n};\n\nexport const generateOfferTransaction = async (\n\tparams: GenerateOfferTransactionRequestWithNumberChainId,\n\tconfig: SdkConfig,\n\twalletKind?: WalletKind,\n): Promise<Step[]> => {\n\tconst args = {\n\t\t...params,\n\t\tchainId: params.chainId,\n\t\toffer: { ...params.offer, expiry: dateToUnixTime(params.offer.expiry) },\n\t\twalletType: walletKind,\n\t};\n\tconst marketplaceClient = getMarketplaceClient(config);\n\treturn (await marketplaceClient.generateOfferTransaction(args)).steps;\n};\n\nexport const useGenerateOfferTransaction = (\n\tparams: UseGenerateOfferTransactionRequest,\n) => {\n\tconst config = useConfig();\n\tconst { walletKind } = useConnectorMetadata();\n\n\tconst { mutate, mutateAsync, ...result } = useMutation({\n\t\tonSuccess: params.onSuccess,\n\t\tmutationFn: (\n\t\t\targs: Omit<GenerateOfferTransactionRequestWithNumberChainId, 'chainId'>,\n\t\t) =>\n\t\t\tgenerateOfferTransaction(\n\t\t\t\t{ ...args, chainId: params.chainId },\n\t\t\t\tconfig,\n\t\t\t\twalletKind,\n\t\t\t),\n\t});\n\n\treturn {\n\t\t...result,\n\t\tgenerateOfferTransaction: mutate,\n\t\tgenerateOfferTransactionAsync: mutateAsync,\n\t};\n};\n","import type { Step } from '@0xsequence/api-client';\nimport { useMutation } from '@tanstack/react-query';\nimport type { SdkConfig } from '../../../types/index';\nimport {\n\ttype GenerateSellTransactionRequest,\n\tgetMarketplaceClient,\n} from '../../_internal';\nimport { useConfig } from '../config/useConfig';\n\ninterface UseGenerateSellTransactionRequest {\n\tchainId: number;\n\tonSuccess?: (steps?: Step[]) => void;\n}\n\ntype GenerateSellTransactionRequestWithNumberChainId = Omit<\n\tGenerateSellTransactionRequest,\n\t'chainId'\n> & { chainId: number };\n\nexport const generateSellTransaction = async (\n\targs: GenerateSellTransactionRequestWithNumberChainId,\n\tconfig: SdkConfig,\n): Promise<Step[]> => {\n\tconst marketplaceClient = getMarketplaceClient(config);\n\treturn marketplaceClient\n\t\t.generateSellTransaction(args)\n\t\t.then((data) => data.steps);\n};\n\nexport const useGenerateSellTransaction = (\n\tparams: UseGenerateSellTransactionRequest,\n) => {\n\tconst config = useConfig();\n\n\tconst { mutate, mutateAsync, ...result } = useMutation({\n\t\tonSuccess: (data) => {\n\t\t\t// Only pass the data (steps) to the user's onSuccess callback to maintain backwards compatibility\n\t\t\tif (params.onSuccess) {\n\t\t\t\tparams.onSuccess(data);\n\t\t\t}\n\t\t},\n\t\tmutationFn: (\n\t\t\targs: Omit<GenerateSellTransactionRequestWithNumberChainId, 'chainId'>,\n\t\t) => generateSellTransaction({ ...args, chainId: params.chainId }, config),\n\t});\n\n\treturn {\n\t\t...result,\n\t\tgenerateSellTransaction: mutate,\n\t\tgenerateSellTransactionAsync: mutateAsync,\n\t};\n};\n","export class TransactionLogger {\n\tconstructor(\n\t\tprivate readonly context: string,\n\t\tprivate readonly enabled: boolean = true,\n\t) {}\n\n\tprivate formatData(data: unknown): unknown {\n\t\tif (data instanceof Error) {\n\t\t\treturn {\n\t\t\t\tname: data.name,\n\t\t\t\tmessage: data.message,\n\t\t\t\tcause:\n\t\t\t\t\tdata.cause instanceof Error\n\t\t\t\t\t\t? this.formatData(data.cause)\n\t\t\t\t\t\t: data.cause,\n\t\t\t\tstack: data.stack?.split('\\n').slice(0, 3),\n\t\t\t};\n\t\t}\n\n\t\tif (Array.isArray(data)) {\n\t\t\treturn data.map((item) => this.formatData(item));\n\t\t}\n\n\t\tif (typeof data === 'object' && data !== null) {\n\t\t\treturn Object.fromEntries(\n\t\t\t\tObject.entries(data).map(([key, value]) => [\n\t\t\t\t\tkey,\n\t\t\t\t\tthis.formatData(value),\n\t\t\t\t]),\n\t\t\t);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tprivate log(\n\t\tlevel: 'debug' | 'error' | 'info',\n\t\tmessage: string,\n\t\tdata?: unknown,\n\t) {\n\t\tif (!this.enabled) return;\n\t\tconsole[level](\n\t\t\t`[${this.context}] ${message}`,\n\t\t\tdata ? this.formatData(data) : '',\n\t\t);\n\t}\n\n\tdebug(message: string, data?: unknown) {\n\t\tthis.log('debug', message, data);\n\t}\n\n\terror(message: string, error: unknown) {\n\t\tthis.log('error', message, error);\n\t}\n\n\tinfo(message: string, data?: unknown) {\n\t\tthis.log('info', message, data);\n\t}\n\n\tstate(from: string, to: string) {\n\t\tthis.info(`State transition: ${from} -> ${to}`);\n\t}\n}\n\nexport const createLogger = (context: string, enabled = true) =>\n\tnew TransactionLogger(context, enabled);\n","import {\n\ttype SignatureStep,\n\ttype Step,\n\tStepType,\n\ttype TransactionStep,\n} from '@0xsequence/api-client';\nimport {\n\tBaseError,\n\ttype Hex,\n\tisHex,\n\tUserRejectedRequestError as ViemUserRejectedRequestError,\n} from 'viem';\nimport {\n\tuseChainId,\n\tuseSendTransaction,\n\tuseSignMessage,\n\tuseSignTypedData,\n\tuseSwitchChain,\n} from 'wagmi';\nimport {\n\tChainSwitchError,\n\tTransactionExecutionError,\n\tTransactionSignatureError,\n\tUserRejectedRequestError,\n} from '../../../utils/_internal/error/transaction';\nimport { createLogger } from '../../_internal/logger';\n\nconst useTransactionOperations = () => {\n\tconst { sendTransactionAsync } = useSendTransaction();\n\tconst { signMessageAsync } = useSignMessage();\n\tconst { signTypedDataAsync } = useSignTypedData();\n\tconst { switchChainAsync } = useSwitchChain();\n\tconst logger = createLogger('TransactionOperations');\n\n\tconst switchChain = async (chainId: number) => {\n\t\tlogger.debug('Switching chain', { targetChainId: chainId });\n\n\t\ttry {\n\t\t\tawait switchChainAsync({ chainId });\n\t\t\tlogger.info('Chain switch successful', { chainId });\n\t\t} catch (e) {\n\t\t\tconst error = e as Error;\n\t\t\tlogger.error('Chain switch failed', error);\n\n\t\t\tif (error.name === 'UserRejectedRequestError') {\n\t\t\t\tthrow new UserRejectedRequestError();\n\t\t\t}\n\t\t\tthrow new ChainSwitchError(0, chainId);\n\t\t}\n\t};\n\n\tconst signMessage = async (stepItem: SignatureStep) => {\n\t\ttry {\n\t\t\tif (stepItem.id === StepType.signEIP191) {\n\t\t\t\tlogger.debug('Signing with EIP-191', { data: stepItem.data });\n\t\t\t\tconst message = isHex(stepItem.data)\n\t\t\t\t\t? { raw: stepItem.data }\n\t\t\t\t\t: stepItem.data;\n\t\t\t\treturn await signMessageAsync({ message });\n\t\t\t}\n\t\t\tif (stepItem.id === StepType.signEIP712) {\n\t\t\t\tif (!stepItem.signature) {\n\t\t\t\t\tthrow new Error('EIP-712 step missing signature data');\n\t\t\t\t}\n\n\t\t\t\tlogger.debug('Signing with EIP-712', {\n\t\t\t\t\tdomain: stepItem.signature.domain,\n\t\t\t\t\ttypes: stepItem.signature.types,\n\t\t\t\t});\n\t\t\t\treturn await signTypedDataAsync({\n\t\t\t\t\tdomain: stepItem.signature.domain,\n\t\t\t\t\ttypes: stepItem.signature.types,\n\t\t\t\t\tprimaryType: stepItem.signature.primaryType,\n\t\t\t\t\tmessage: stepItem.signature.value,\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconst error = e as TransactionSignatureError;\n\t\t\tlogger.error('Signature failed', error);\n\n\t\t\tif (error.cause instanceof BaseError) {\n\t\t\t\tconst viemError = error.cause;\n\t\t\t\tif (viemError instanceof ViemUserRejectedRequestError) {\n\t\t\t\t\tthrow new UserRejectedRequestError();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthrow new TransactionSignatureError(stepItem.id, error as Error);\n\t\t}\n\t};\n\n\tconst sendTransaction = async (\n\t\tchainId: number,\n\t\tstepItem: TransactionStep,\n\t): Promise<Hex> => {\n\t\tlogger.debug('Sending transaction', {\n\t\t\tchainId,\n\t\t\tto: stepItem.to,\n\t\t\tvalue: stepItem.value,\n\t\t});\n\n\t\ttry {\n\t\t\treturn await sendTransactionAsync({\n\t\t\t\tchainId,\n\t\t\t\tto: stepItem.to,\n\t\t\t\tdata: stepItem.data,\n\t\t\t\tvalue: stepItem.value || 0n,\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconst error = e as TransactionExecutionError;\n\t\t\tlogger.error('Transaction failed', error);\n\n\t\t\tif (error.cause instanceof BaseError) {\n\t\t\t\tconst viemError = error.cause;\n\t\t\t\tif (viemError instanceof ViemUserRejectedRequestError) {\n\t\t\t\t\tthrow new UserRejectedRequestError();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthrow new TransactionExecutionError(\n\t\t\t\tstepItem.id || 'unknown',\n\t\t\t\terror as Error,\n\t\t\t);\n\t\t}\n\t};\n\n\treturn {\n\t\tswitchChain,\n\t\tsignMessage,\n\t\tsendTransaction,\n\t};\n};\n\nexport const useOrderSteps = () => {\n\tconst { switchChain, signMessage, sendTransaction } =\n\t\tuseTransactionOperations();\n\n\tconst currentChainId = useChainId();\n\n\tconst executeStep = async ({\n\t\tstep,\n\t\tchainId,\n\t}: {\n\t\tstep: Step;\n\t\tchainId: number;\n\t}) => {\n\t\tif (chainId !== currentChainId) {\n\t\t\tawait switchChain(chainId);\n\t\t}\n\n\t\tlet result: Hex | undefined;\n\n\t\tswitch (step.id) {\n\t\t\tcase StepType.signEIP191:\n\t\t\tcase StepType.signEIP712:\n\t\t\t\tresult = await signMessage(step);\n\t\t\t\tbreak;\n\t\t\tcase StepType.buy:\n\t\t\tcase StepType.sell:\n\t\t\tcase StepType.tokenApproval:\n\t\t\tcase StepType.createListing:\n\t\t\tcase StepType.createOffer:\n\t\t\tcase StepType.cancel:\n\t\t\t\tresult = await sendTransaction(chainId, step);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Cannot execute step type: ${step.id}`);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\treturn {\n\t\texecuteStep,\n\t};\n};\n","import type { Step } from '../../_internal';\nimport { useProcessStep } from './useProcessStep';\n\nexport function useTransactionExecution() {\n\tconst { processStep } = useProcessStep();\n\n\tconst executeSteps = async (steps: Step[], chainId: number) => {\n\t\tconst results = [];\n\n\t\tfor (const step of steps) {\n\t\t\ttry {\n\t\t\t\tconst result = await processStep(step, chainId);\n\t\t\t\tresults.push(result);\n\n\t\t\t\t// Handle step-specific logic if needed\n\t\t\t\tif (result.type === 'transaction' && step.id === 'tokenApproval') {\n\t\t\t\t\t// Wait for approval confirmation before proceeding\n\t\t\t\t\t// This is handled automatically by processStep\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Failed to execute step ${step.id}: ${error instanceof Error ? error.message : 'Unknown error'}`,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n\n\treturn { executeSteps };\n}\n","import { type Abi, type Address, erc721Abi } from 'viem';\nimport { useAccount, useWriteContract } from 'wagmi';\nimport type { WriteContractErrorType } from 'wagmi/actions';\nimport { ERC1155_ABI } from '../../../utils';\nimport { NoWalletConnectedError } from '../../../utils/_internal/error/transaction';\nimport type { ContractType } from '../../_internal';\n\ninterface BaseTransferParams {\n\tchainId: number;\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\treceiverAddress: Address;\n}\n\ninterface ERC721TransferParams extends BaseTransferParams {\n\tcontractType: ContractType.ERC721;\n}\n\ninterface ERC1155TransferParams extends BaseTransferParams {\n\tcontractType: ContractType.ERC1155;\n\tquantity: bigint;\n}\n\nexport type TransferTokensParams = ERC721TransferParams | ERC1155TransferParams;\n\nconst prepareTransferConfig = (\n\tparams: TransferTokensParams,\n\taccountAddress: Address,\n) => {\n\tif (params.contractType === 'ERC721') {\n\t\treturn {\n\t\t\tabi: erc721Abi as Abi,\n\t\t\taddress: params.collectionAddress,\n\t\t\tfunctionName: 'safeTransferFrom',\n\t\t\targs: [\n\t\t\t\taccountAddress,\n\t\t\t\tparams.receiverAddress,\n\t\t\t\tBigInt(params.tokenId),\n\t\t\t] as const,\n\t\t} as const;\n\t}\n\n\treturn {\n\t\tabi: ERC1155_ABI as Abi,\n\t\taddress: params.collectionAddress,\n\t\tfunctionName: 'safeTransferFrom',\n\t\targs: [\n\t\t\taccountAddress,\n\t\t\tparams.receiverAddress,\n\t\t\tBigInt(params.tokenId),\n\t\t\tparams.quantity,\n\t\t\t'0x', // data\n\t\t] as const,\n\t};\n};\n\nexport interface UseTransferTokensResult {\n\ttransferTokensAsync: (params: TransferTokensParams) => Promise<Address>;\n\thash: Address | undefined;\n\ttransferring: boolean;\n\ttransferFailed: boolean;\n\ttransferSuccess: boolean;\n\terror: WriteContractErrorType | null;\n}\n\nexport const useTransferTokens = (): UseTransferTokensResult => {\n\tconst { address: accountAddress } = useAccount();\n\tconst {\n\t\twriteContractAsync,\n\t\tdata: hash,\n\t\tisPending,\n\t\tisError,\n\t\tisSuccess,\n\t\terror,\n\t} = useWriteContract();\n\n\tconst transferTokensAsync = async (params: TransferTokensParams) => {\n\t\tif (!accountAddress) {\n\t\t\tthrow new NoWalletConnectedError();\n\t\t}\n\n\t\tconst config = prepareTransferConfig(params, accountAddress);\n\t\treturn await writeContractAsync(config);\n\t};\n\n\treturn {\n\t\ttransferTokensAsync,\n\t\thash,\n\t\ttransferring: isPending,\n\t\ttransferFailed: isError,\n\t\ttransferSuccess: isSuccess,\n\t\terror,\n\t};\n};\n","import { useCallback } from 'react';\nimport type { Hex } from 'viem';\nimport { usePublicClient } from 'wagmi';\n\n/**\n * Hook to get transaction receipt from hash\n *\n * Provides a function to wait for a transaction receipt using a transaction hash.\n * This is a wagmi-based hook for direct blockchain interaction.\n *\n * @returns Object containing waitForReceipt function\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { waitForReceipt } = useGetReceiptFromHash();\n *\n * // Wait for transaction receipt\n * const receipt = await waitForReceipt('0x123...');\n * console.log('Transaction status:', receipt.status);\n * ```\n *\n * @example\n * In transaction flow:\n * ```typescript\n * const { waitForReceipt } = useGetReceiptFromHash();\n *\n * const handleTransaction = async () => {\n *   try {\n *     const hash = await writeContract({ ... });\n *     const receipt = await waitForReceipt(hash);\n *     if (receipt.status === 'success') {\n *       console.log('Transaction confirmed!');\n *     }\n *   } catch (error) {\n *     console.error('Transaction failed:', error);\n *   }\n * };\n * ```\n */\nexport const useGetReceiptFromHash = () => {\n\tconst publicClient = usePublicClient();\n\n\tconst waitForReceipt = useCallback(\n\t\tasync (transactionHash: Hex) => {\n\t\t\tif (!publicClient) {\n\t\t\t\tthrow new Error('Public client not found');\n\t\t\t}\n\n\t\t\tconst receipt = await publicClient.waitForTransactionReceipt({\n\t\t\t\thash: transactionHash,\n\t\t\t});\n\t\t\treturn receipt;\n\t\t},\n\t\t[publicClient],\n\t);\n\n\treturn {\n\t\twaitForReceipt,\n\t};\n};\n","'use client';\n\nimport { queryOptions, useQuery } from '@tanstack/react-query';\nimport type { Address, PublicClient } from 'viem';\nimport { readContract } from 'viem/actions';\nimport { usePublicClient } from 'wagmi';\nimport { EIP2981_ABI } from '../../../utils';\nimport type { QueryArg } from '../../_internal';\n\nexport interface RoyaltyInfo {\n\tpercentage: bigint;\n\trecipient: Address;\n}\n\nexport interface FetchRoyaltyParams {\n\tchainId: number;\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\tpublicClient: PublicClient | undefined;\n}\n\nexport interface UseRoyaltyArgs {\n\tchainId: number;\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\tquery?: QueryArg;\n}\n\n/**\n * Fetches royalty information for a collectible using EIP-2981 standard\n */\nasync function fetchRoyalty(\n\tparams: FetchRoyaltyParams,\n): Promise<RoyaltyInfo | null> {\n\tconst { collectionAddress, tokenId, publicClient } = params;\n\n\tif (!publicClient) {\n\t\tthrow new Error('Public client is required');\n\t}\n\n\tconst result = await readContract(publicClient, {\n\t\tabi: EIP2981_ABI,\n\t\taddress: collectionAddress,\n\t\tfunctionName: 'royaltyInfo',\n\t\targs: [BigInt(tokenId), BigInt(100)],\n\t});\n\n\tconst [recipient, percentage] = result;\n\n\tif (recipient && percentage) {\n\t\treturn {\n\t\t\tpercentage,\n\t\t\trecipient,\n\t\t};\n\t}\n\n\treturn null;\n}\n\nfunction getRoyaltyQueryKey(params: Omit<FetchRoyaltyParams, 'publicClient'>) {\n\tconst apiArgs = {\n\t\tchainId: String(params.chainId),\n\t\tcontractAddress: params.collectionAddress,\n\t\ttokenId: params.tokenId,\n\t};\n\n\treturn ['royalty-percentage', apiArgs] as const;\n}\n\nfunction royaltyQueryOptions(\n\tparams: FetchRoyaltyParams,\n\tquery?: UseRoyaltyArgs['query'],\n) {\n\tconst enabled = Boolean(\n\t\tparams.collectionAddress &&\n\t\t\tparams.chainId &&\n\t\t\tparams.tokenId &&\n\t\t\tparams.publicClient &&\n\t\t\t(query?.enabled ?? true),\n\t);\n\n\treturn queryOptions({\n\t\tqueryKey: getRoyaltyQueryKey(params),\n\t\tqueryFn: () => fetchRoyalty(params),\n\t\tenabled,\n\t\t...query,\n\t});\n}\n\n/**\n * Hook to fetch royalty information for a collectible\n *\n * Reads royalty information from the blockchain using the EIP-2981 standard.\n * This hook uses TanStack Query to manage the blockchain call and caching,\n * similar to other data fetching hooks in the SDK.\n *\n * @param args - Configuration parameters\n * @param args.chainId - The chain ID (must be number, e.g., 1 for Ethereum, 137 for Polygon)\n * @param args.collectionAddress - The collection contract address\n * @param args.tokenId - The token ID within the collection\n * @param args.query - Optional TanStack Query configuration\n *\n * @returns Query result containing royalty information (percentage and recipient) or null\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useRoyalty({\n *   chainId: 137,\n *   collectionAddress: '0x...',\n *   tokenId: '1'\n * })\n *\n * if (data) {\n *   console.log('Royalty:', data.percentage, 'Recipient:', data.recipient)\n * }\n * ```\n *\n * @example\n * With custom query options:\n * ```typescript\n * const { data, isLoading } = useRoyalty({\n *   chainId: 1,\n *   collectionAddress: '0x...',\n *   tokenId: '42',\n *   query: {\n *     refetchInterval: 60000,\n *     enabled: hasTokenId\n *   }\n * })\n * ```\n */\nexport function useRoyalty(args: UseRoyaltyArgs) {\n\tconst { chainId, collectionAddress, tokenId, query } = args;\n\tconst publicClient = usePublicClient({ chainId });\n\n\tconst queryOptions = royaltyQueryOptions(\n\t\t{\n\t\t\tchainId,\n\t\t\tcollectionAddress,\n\t\t\ttokenId,\n\t\t\tpublicClient,\n\t\t},\n\t\tquery,\n\t);\n\n\treturn useQuery(queryOptions);\n}\n\nexport { royaltyQueryOptions };\n","import { useAnalytics } from '../../../_internal/databeat';\nimport { type BuyModalProps, buyModalStore } from './store';\n\nexport const useBuyModal = () => {\n\tconst analyticsFn = useAnalytics();\n\n\treturn {\n\t\tshow: (args: BuyModalProps) =>\n\t\t\tbuyModalStore.send({\n\t\t\t\ttype: 'open',\n\t\t\t\tprops: args,\n\t\t\t\tanalyticsFn,\n\t\t\t}),\n\t\tclose: () => buyModalStore.send({ type: 'close' }),\n\t};\n};\n","import type { GetOrdersInput, Page } from '@0xsequence/api-client';\nimport { queryOptions } from '@tanstack/react-query';\nimport type { SdkConfig } from '../../types';\nimport { getMarketplaceClient, type ValuesOptional } from '../_internal';\nimport type { StandardQueryOptions } from '../types/query';\n\nexport interface FetchOrdersParams {\n\tchainId: number;\n\tinput: GetOrdersInput[];\n\tpage?: Page;\n\tconfig: SdkConfig;\n}\n\n/**\n * Fetches orders from the marketplace API\n */\nexport async function fetchOrders(params: FetchOrdersParams) {\n\tconst { config, ...apiParams } = params;\n\n\tconst marketplaceClient = getMarketplaceClient(config);\n\treturn marketplaceClient.getOrders({\n\t\tchainId: apiParams.chainId,\n\t\tinput: apiParams.input,\n\t\tpage: apiParams.page,\n\t});\n}\n\nexport type OrdersQueryOptions = ValuesOptional<FetchOrdersParams> & {\n\tquery?: StandardQueryOptions;\n};\n\nexport function ordersQueryOptions(params: OrdersQueryOptions) {\n\tconst enabled = Boolean(\n\t\tparams.config &&\n\t\t\tparams.chainId &&\n\t\t\tparams.input &&\n\t\t\t(params.query?.enabled ?? true),\n\t);\n\n\treturn queryOptions({\n\t\tqueryKey: ['orders', params],\n\t\tqueryFn: () =>\n\t\t\tfetchOrders({\n\t\t\t\tchainId: params.chainId!,\n\t\t\t\tinput: params.input!,\n\t\t\t\tpage: params.page,\n\t\t\t\tconfig: params.config!,\n\t\t\t}),\n\t\t...params.query,\n\t\tenabled,\n\t});\n}\n","'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport type { Optional } from '../../../_internal';\nimport {\n\ttype FetchOrdersParams,\n\ttype OrdersQueryOptions,\n\tordersQueryOptions,\n} from '../../../queries/orders';\nimport { useConfig } from '../../config/useConfig';\n\nexport type UseOrdersParams = Optional<OrdersQueryOptions, 'config'>;\n\n/**\n * Hook to fetch orders from the marketplace\n *\n * Retrieves orders based on the provided parameters from the marketplace.\n *\n * @param params - Configuration parameters\n * @param params.chainId - Optional chain ID to filter orders\n * @param params.contractAddress - Optional contract address to filter orders\n * @param params.tokenId - Optional token ID to filter orders\n * @param params.maker - Optional maker address to filter orders\n * @param params.taker - Optional taker address to filter orders\n * @param params.status - Optional status to filter orders\n * @param params.side - Optional side to filter orders\n * @param params.pagination - Optional pagination parameters\n * @param params.query - Optional React Query configuration\n *\n * @returns Query result containing the orders data\n *\n * @example\n * Basic usage:\n * ```typescript\n * const { data, isLoading } = useOrders({\n *   chainId: '137',\n *   contractAddress: '0x...'\n * })\n * ```\n *\n * @example\n * With pagination:\n * ```typescript\n * const { data, isLoading } = useOrders({\n *   chainId: '1',\n *   pagination: {\n *     limit: 20,\n *     offset: 0\n *   },\n *   query: {\n *     refetchInterval: 15000\n *   }\n * })\n * ```\n */\nexport function useOrders(params: UseOrdersParams) {\n\tconst defaultConfig = useConfig();\n\n\tconst { config = defaultConfig, ...rest } = params;\n\n\tconst queryOptions = ordersQueryOptions({\n\t\tconfig,\n\t\t...rest,\n\t});\n\n\treturn useQuery({\n\t\t...queryOptions,\n\t});\n}\n\nexport { ordersQueryOptions };\n\nexport type { FetchOrdersParams, OrdersQueryOptions };\n","import type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { useCollectible, useCollection, useCurrency } from '../../../../hooks';\nimport { useOrders } from '../../../../hooks/data/orders/useOrders';\nimport { isMarketProps, isShopProps, useBuyModalProps } from '../store';\n\nexport const useBuyModalData = () => {\n\tconst buyModalProps = useBuyModalProps();\n\tconst chainId = buyModalProps.chainId;\n\tconst collectionAddress = buyModalProps.collectionAddress;\n\n\tconst isMarket = isMarketProps(buyModalProps);\n\tconst isShop = isShopProps(buyModalProps);\n\tconst orderId = isMarket ? buyModalProps.orderId : undefined;\n\tconst marketplace = isMarket ? buyModalProps.marketplace : undefined;\n\tconst tokenId = isMarket\n\t\t? buyModalProps.tokenId\n\t\t: buyModalProps.items?.[0]?.tokenId;\n\tconst { address, isConnecting, isReconnecting } = useAccount();\n\tconst walletIsLoading = isConnecting || isReconnecting;\n\n\tconst {\n\t\tdata: collectible,\n\t\tisLoading: collectableLoading,\n\t\tisError: collectableError,\n\t} = useCollectible({\n\t\tchainId,\n\t\tcollectionAddress,\n\t\ttokenId,\n\t});\n\tconst {\n\t\tdata: collection,\n\t\tisLoading: collectionLoading,\n\t\tisError: collectionError,\n\t} = useCollection({\n\t\tchainId,\n\t\tcollectionAddress,\n\t});\n\n\tconst {\n\t\tdata: orders,\n\t\tisLoading: ordersLoading,\n\t\tisError: ordersError,\n\t} = useOrders({\n\t\tchainId,\n\t\tinput: [\n\t\t\t{\n\t\t\t\tcontractAddress: collectionAddress,\n\t\t\t\torderId: orderId!,\n\t\t\t\tmarketplace: marketplace!,\n\t\t\t},\n\t\t],\n\t\tquery: {\n\t\t\tenabled: !!orderId && !!marketplace,\n\t\t},\n\t});\n\n\tconst currencyAddress = isMarket\n\t\t? (orders?.orders[0]?.priceCurrencyAddress as Address)\n\t\t: buyModalProps.salePrice.currencyAddress;\n\n\tconst {\n\t\tdata: currency,\n\t\tisLoading: currencyLoading,\n\t\tisError: currencyError,\n\t} = useCurrency({\n\t\tchainId,\n\t\tcurrencyAddress,\n\t});\n\n\tconst salePrice = isShop ? buyModalProps.salePrice : undefined;\n\n\tconst marketPriceAmount = isMarket\n\t\t? (orders?.orders[0]?.priceAmount ?? BigInt(0))\n\t\t: undefined;\n\n\treturn {\n\t\tcollectible,\n\t\tcurrencyAddress,\n\t\tcollectionAddress,\n\t\tcurrency,\n\t\torder: orders?.orders[0] ?? undefined,\n\t\tsalePrice,\n\t\tmarketPriceAmount,\n\t\taddress,\n\t\tisMarket,\n\t\tisShop,\n\t\tcollection,\n\t\tisLoading:\n\t\t\tcollectableLoading ||\n\t\t\t(isMarket && ordersLoading) ||\n\t\t\twalletIsLoading ||\n\t\t\tcollectionLoading ||\n\t\t\tcurrencyLoading,\n\t\tisError:\n\t\t\tcollectableError || ordersError || currencyError || collectionError,\n\t};\n};\n","import { useSupportedChains } from '0xtrails';\nimport { type Chain, formatUnits, type Hash } from 'viem';\nimport { TransactionType } from '../../../../_internal';\nimport { useConfig } from '../../../../hooks';\nimport { useBuyTransaction } from '../../../../hooks/transactions/useBuyTransaction';\nimport { useWaasFeeOptions } from '../../../../hooks/utils/useWaasFeeOptions';\nimport type { CheckoutMode } from '../../..';\nimport { useTransactionStatusModal } from '../../_internal/components/transactionStatusModal';\nimport { useBuyModal } from '..';\nimport { useBuyModalData } from '../hooks/useBuyModalData';\nimport { useBuyModalProps } from '../store';\n\nexport function useBuyModalContext() {\n\tconst config = useConfig();\n\tconst modalProps = useBuyModalProps();\n\tconst checkoutModeConfig: CheckoutMode = config.checkoutMode ?? 'trails';\n\tconst { close } = useBuyModal();\n\tconst transactionStatusModal = useTransactionStatusModal();\n\tconst { supportedChains, isLoadingChains } = useSupportedChains();\n\tconst { data: steps, isLoading: isLoadingSteps } =\n\t\tuseBuyTransaction(modalProps);\n\tconst {\n\t\tcollectible,\n\t\tcollection,\n\t\tcurrencyAddress,\n\t\tcurrency,\n\t\torder,\n\t\tcollectionAddress,\n\t\tsalePrice,\n\t\tmarketPriceAmount,\n\t\tisLoading: isBuyModalDataLoading,\n\t\tisMarket,\n\t} = useBuyModalData();\n\tconst { pendingFeeOptionConfirmation, rejectPendingFeeOption } =\n\t\tuseWaasFeeOptions(modalProps.chainId, config);\n\n\tconst isChainSupported = supportedChains.some(\n\t\t(chain: Chain) => chain.id === modalProps.chainId,\n\t);\n\n\tconst isLoading = isLoadingSteps || isLoadingChains || isBuyModalDataLoading;\n\n\tconst buyStep = steps?.find((step) => step.id === 'buy');\n\n\tlet checkoutMode: CheckoutMode | undefined;\n\n\tif (checkoutModeConfig === 'trails' && isChainSupported) {\n\t\tcheckoutMode = 'trails';\n\t} else if (\n\t\ttypeof checkoutModeConfig === 'object' &&\n\t\tcheckoutModeConfig.mode === 'sequence-checkout'\n\t) {\n\t\tcheckoutMode = {\n\t\t\tmode: 'sequence-checkout',\n\t\t\toptions: checkoutModeConfig.options,\n\t\t};\n\t} else if (checkoutModeConfig === 'crypto' && isChainSupported) {\n\t\tcheckoutMode = 'crypto';\n\t} else {\n\t\tcheckoutMode = undefined;\n\t}\n\n\tconst formattedAmount = currency?.decimals\n\t\t? formatUnits(BigInt(buyStep?.price || '0'), currency.decimals)\n\t\t: '0';\n\n\tconst handleTransactionSuccess = (hash: Hash | string) => {\n\t\tif (!collectible) throw new Error('Collectible not found');\n\t\tif (isMarket && !order) throw new Error('Order not found');\n\t\tif (!currency) throw new Error('Currency not found');\n\n\t\tclose();\n\n\t\ttransactionStatusModal.show({\n\t\t\thash: hash as Hash,\n\t\t\torderId: isMarket ? order?.orderId : undefined,\n\t\t\tprice: {\n\t\t\t\tamountRaw:\n\t\t\t\t\t(isMarket ? marketPriceAmount : salePrice?.amount) ?? BigInt(0),\n\t\t\t\tcurrency,\n\t\t\t},\n\t\t\tcollectionAddress,\n\t\t\tchainId: modalProps.chainId,\n\t\t\ttokenId: collectible.tokenId,\n\t\t\ttype: TransactionType.BUY,\n\t\t});\n\t};\n\n\tconst handleTrailsSuccess = (data: {\n\t\ttxHash: string;\n\t\tchainId: number;\n\t\tsessionId: string;\n\t}) => {\n\t\thandleTransactionSuccess(data.txHash as Hash);\n\t};\n\n\tconst handleClose = () => {\n\t\tif (pendingFeeOptionConfirmation?.id) {\n\t\t\tconsole.log(\n\t\t\t\t'rejecting pending fee option',\n\t\t\t\tpendingFeeOptionConfirmation?.id,\n\t\t\t);\n\t\t\trejectPendingFeeOption(pendingFeeOptionConfirmation?.id);\n\t\t}\n\n\t\tclose();\n\t};\n\n\treturn {\n\t\tconfig,\n\t\tmodalProps,\n\t\tclose: handleClose,\n\t\tsteps,\n\t\tcollectible,\n\t\tcollection,\n\t\tcurrencyAddress,\n\t\tcurrency,\n\t\torder,\n\t\tcollectionAddress,\n\t\tsalePrice,\n\t\tmarketPriceAmount,\n\t\tisMarket,\n\t\tbuyStep,\n\t\tisLoading,\n\t\tcheckoutMode,\n\t\tformattedAmount,\n\t\thandleTransactionSuccess,\n\t\thandleTrailsSuccess,\n\t\tpendingFeeOptionConfirmation,\n\t};\n}\n\nexport type BuyModalContext = ReturnType<typeof useBuyModalContext>;\n","'use client';\n\nimport {\n\tChevronDownIcon,\n\tChevronUpIcon,\n\tCloseIcon,\n\tText,\n\tWarningIcon,\n} from '@0xsequence/design-system';\nimport { useState } from 'react';\n\nexport interface ErrorLogBoxProps {\n\ttitle: string;\n\tmessage: string;\n\terror?: Error;\n\tonDismiss?: () => void;\n}\n\nexport const ErrorLogBox = ({\n\ttitle,\n\tmessage,\n\terror,\n\tonDismiss,\n}: ErrorLogBoxProps) => {\n\tconst [showFullError, setShowFullError] = useState(false);\n\n\tconst toggleFullError = () => {\n\t\tsetShowFullError(!showFullError);\n\t};\n\n\treturn (\n\t\t<div className=\"relative max-h-96 overflow-y-auto rounded-lg border border-red-900 bg-[#2b0000] p-3\">\n\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t<WarningIcon\n\t\t\t\t\tclassName=\"absolute mt-0.5 flex-shrink-0 text-red-500\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"min-w-0 flex-1\">\n\t\t\t\t\t<div className=\"relative ml-10 flex flex-col\">\n\t\t\t\t\t\t<Text className=\"font-bold text-red-400 text-sm\">{title}</Text>\n\t\t\t\t\t\t<Text className=\"mt-1 text-red-300 text-xs\">{message}</Text>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{error && (\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={toggleFullError}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 text-red-400 text-xs transition-colors hover:text-red-300\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{showFullError ? 'Hide full error' : 'Show full error'}\n\t\t\t\t\t\t\t\t{showFullError ? (\n\t\t\t\t\t\t\t\t\t<ChevronUpIcon className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ChevronDownIcon className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showFullError && <div className=\"mt-2 h-px bg-red-900\" />}\n\n\t\t\t\t\t\t\t{showFullError && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 overflow-auto rounded-md bg-red-950 p-2\">\n\t\t\t\t\t\t\t\t\t<Text className=\"whitespace-pre-wrap break-words font-mono text-red-100 text-xs\">\n\t\t\t\t\t\t\t\t\t\t{error.message}\n\t\t\t\t\t\t\t\t\t\t{error.stack && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{'\\n\\nStack trace:\\n'}\n\t\t\t\t\t\t\t\t\t\t\t\t{error.stack}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{JSON.stringify(error, null, 2)}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{onDismiss && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={onDismiss}\n\t\t\t\t\t\tclassName=\"absolute right-4 flex-shrink-0 text-red-400 transition-colors hover:text-red-300\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\taria-label=\"Dismiss error\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<CloseIcon className=\"h-3 w-3\" />\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { sendTransactions } from '@0xsequence/connect';\nimport type { FeeOption } from '@0xsequence/waas';\nimport { useState } from 'react';\nimport type { Address, Hex } from 'viem';\nimport { useAccount, usePublicClient, useWalletClient } from 'wagmi';\nimport { useConfig } from '../../../..';\nimport { getIndexerClient, type Step } from '../../../../_internal';\nimport { useBuyModalData } from './useBuyModalData';\n\n// https://github.com/0xsequence/web-sdk/blob/620b6fe7681ae49efd4eb3fa7607ef01dd7ede54/packages/connect/src/utils/transactions.ts#L11-L19\nclass FeeOptionInsufficientFundsError extends Error {\n\tpublic readonly feeOptions: FeeOption[];\n\n\tconstructor(message: string, feeOptions: FeeOption[]) {\n\t\tsuper(message);\n\t\tthis.name = 'FeeOptionInsufficientFundsError';\n\t\tthis.feeOptions = feeOptions;\n\t}\n}\n\ntype UseExecuteBundledTransactions = {\n\tchainId: number;\n\tapprovalStep?: Step;\n\tpriceAmount: bigint;\n};\n\nconst useExecuteBundledTransactions = ({\n\tchainId,\n\tapprovalStep,\n\tpriceAmount,\n}: UseExecuteBundledTransactions) => {\n\tconst config = useConfig();\n\tconst [isExecuting, setIsExecuting] = useState(false);\n\tconst { address, connector } = useAccount();\n\tconst publicClient = usePublicClient();\n\tconst { data: walletClient } = useWalletClient({ chainId });\n\tconst indexerClient = getIndexerClient(chainId, config);\n\n\tconst { collection, currency } = useBuyModalData();\n\n\tconst executeBundledTransactions = async ({\n\t\tstep,\n\t\tonBalanceInsufficientForFeeOption,\n\t\tonTransactionFailed,\n\t}: {\n\t\tstep: Step;\n\t\tonBalanceInsufficientForFeeOption?: (error: Error) => void;\n\t\tonTransactionFailed?: (error: Error) => void;\n\t}) => {\n\t\tsetIsExecuting(true);\n\n\t\tif (!address) {\n\t\t\tthrow new Error('Address not found');\n\t\t}\n\n\t\tif (!publicClient) {\n\t\t\tthrow new Error('Public client not found');\n\t\t}\n\n\t\tif (!walletClient) {\n\t\t\tthrow new Error('Wallet client not found');\n\t\t}\n\n\t\tif (!indexerClient) {\n\t\t\tthrow new Error('Indexer client not found');\n\t\t}\n\n\t\tif (!connector) {\n\t\t\tthrow new Error('Connector not found');\n\t\t}\n\n\t\tif (!collection?.address) {\n\t\t\tthrow new Error('Collection address not found');\n\t\t}\n\n\t\tif (!priceAmount) {\n\t\t\tthrow new Error('Price amount not found');\n\t\t}\n\n\t\tconst approvalData = approvalStep\n\t\t\t? {\n\t\t\t\t\tto: approvalStep.to as Address,\n\t\t\t\t\tdata: approvalStep.data as Hex,\n\t\t\t\t\tchainId,\n\t\t\t\t}\n\t\t\t: undefined;\n\n\t\tconst transactionData = {\n\t\t\tto: step.to as Address,\n\t\t\tdata: step.data as Hex,\n\t\t\tchainId,\n\t\t\t...(currency?.nativeCurrency ? { value: priceAmount } : {}),\n\t\t};\n\n\t\tconst transactions = [\n\t\t\t...(approvalData ? [approvalData] : []),\n\t\t\ttransactionData,\n\t\t];\n\n\t\tconst txHash = await sendTransactions({\n\t\t\tchainId,\n\t\t\tsenderAddress: address,\n\t\t\tpublicClient,\n\t\t\twalletClient,\n\t\t\tindexerClient: indexerClient.raw,\n\t\t\tconnector,\n\t\t\ttransactions,\n\t\t\ttransactionConfirmations: 1,\n\t\t\twaitConfirmationForLastTransaction: false,\n\t\t}).catch((error) => {\n\t\t\tsetIsExecuting(false);\n\n\t\t\tif (error instanceof FeeOptionInsufficientFundsError) {\n\t\t\t\tif (onBalanceInsufficientForFeeOption) {\n\t\t\t\t\tonBalanceInsufficientForFeeOption(error);\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tif (onTransactionFailed) {\n\t\t\t\tonTransactionFailed(error);\n\t\t\t}\n\n\t\t\tthrow error;\n\t\t});\n\n\t\tsetIsExecuting(false);\n\n\t\treturn txHash;\n\t};\n\n\treturn {\n\t\texecuteBundledTransactions,\n\t\tisExecuting,\n\t};\n};\n\nexport { useExecuteBundledTransactions };\n","import type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { useCurrencyBalance } from '../../../hooks';\n\nexport const useHasSufficientBalance = ({\n\tchainId,\n\tvalue,\n\ttokenAddress,\n}: {\n\tchainId: number;\n\tvalue: bigint;\n\ttokenAddress: Address;\n}) => {\n\tconst { address } = useAccount();\n\tconst { data: balanceData, isLoading } = useCurrencyBalance({\n\t\tcurrencyAddress: tokenAddress,\n\t\tchainId,\n\t\tuserAddress: address,\n\t});\n\n\tconst balance = balanceData?.value ?? 0n;\n\n\treturn {\n\t\tdata: {\n\t\t\thasSufficientBalance: balance >= value || value === 0n,\n\t\t\tbalance,\n\t\t},\n\t\tisLoading,\n\t};\n};\n","import { ChevronLeftIcon, Text } from '@0xsequence/design-system';\nimport type { ReactNode } from 'react';\nimport { useState } from 'react';\nimport type { Address, Hash, Hex } from 'viem';\nimport { useSendTransaction } from 'wagmi';\nimport { getPresentableChainName } from '../../../../../utils/network';\nimport { formatPrice } from '../../../../../utils/price';\nimport { type Step, StepType } from '../../../../_internal';\nimport { useConnectorMetadata } from '../../../../hooks';\nimport { useConfig } from '../../../../hooks/config/useConfig';\nimport { useEnsureCorrectChain } from '../../../../hooks/utils/useEnsureCorrectChain';\nimport { waitForTransactionReceipt } from '../../../../utils/waitForTransactionReceipt';\nimport { useBuyModalData } from '../hooks/useBuyModalData';\nimport { useExecuteBundledTransactions } from '../hooks/useExecuteBundledTransactions';\nimport { useHasSufficientBalance } from '../hooks/useHasSufficientBalance';\n\ntype CryptoPaymentModalReturn = {\n\tdata: {\n\t\tcollectible: Awaited<ReturnType<typeof useBuyModalData>>['collectible'];\n\t\tcurrency: Awaited<ReturnType<typeof useBuyModalData>>['currency'];\n\t\torder: Awaited<ReturnType<typeof useBuyModalData>>['order'];\n\t\tcollection: Awaited<ReturnType<typeof useBuyModalData>>['collection'];\n\t};\n\tloading: {\n\t\tisLoadingBuyModalData: boolean;\n\t\tisLoadingBalance: boolean;\n\t};\n\tchain: {\n\t\tisOnCorrectChain: boolean;\n\t\tcurrentChainName: string;\n\t\trequiredChainName: string;\n\t\tcurrentChainId: number | undefined;\n\t};\n\tbalance: {\n\t\thasSufficientBalance: boolean;\n\t};\n\ttransaction: {\n\t\tisApproving: boolean;\n\t\tisExecuting: boolean;\n\t\tisSwitchingChain: boolean;\n\t\tisExecutingBundledTransactions: boolean;\n\t\tisAnyTransactionPending: boolean;\n\t};\n\terror: {\n\t\terror: {\n\t\t\ttitle: string;\n\t\t\tmessage: string;\n\t\t\tdetails?: Error;\n\t\t} | null;\n\t\tdismissError: () => void;\n\t};\n\tsteps: {\n\t\tapprovalStep: Step | undefined;\n\t};\n\tconnector: {\n\t\tisSequenceConnector: boolean | undefined;\n\t};\n\tflags: {\n\t\tisMarket: boolean;\n\t};\n\tpermissions: {\n\t\tcanApprove: boolean;\n\t\tcanBuy: boolean;\n\t};\n\tprice: {\n\t\tformattedPrice: string;\n\t\trenderCurrencyPrice: () => ReactNode;\n\t\trenderPriceUSD: () => ReactNode;\n\t};\n\tactions: {\n\t\texecuteApproval: () => Promise<void>;\n\t\texecuteBuy: () => Promise<void>;\n\t\thandleSwitchChain: () => Promise<void>;\n\t};\n};\n\nexport function useCryptoPaymentModalContext({\n\tchainId,\n\tsteps,\n\tonSuccess,\n}: {\n\tchainId: number;\n\tsteps: Step[];\n\tonSuccess: (hash: Hex | string) => void;\n}): CryptoPaymentModalReturn {\n\tconst [isExecuting, setIsExecuting] = useState(false);\n\tconst [isApproving, setIsApproving] = useState(false);\n\tconst [isSwitchingChain, setIsSwitchingChain] = useState(false);\n\tconst [error, setError] = useState<{\n\t\ttitle: string;\n\t\tmessage: string;\n\t\tdetails?: Error;\n\t} | null>(null);\n\tconst { isSequence: isSequenceConnector } = useConnectorMetadata();\n\n\tconst buyStep = steps.find((step) => step.id === StepType.buy);\n\tif (!buyStep) throw new Error('Buy step not found');\n\n\tconst {\n\t\tcollectible,\n\t\tcurrencyAddress,\n\t\tcurrency,\n\t\torder,\n\t\tsalePrice,\n\t\tisMarket,\n\t\tisShop,\n\t\tcollection,\n\t\tisLoading: isLoadingBuyModalData,\n\t} = useBuyModalData();\n\tconst sdkConfig = useConfig();\n\n\tconst { ensureCorrectChainAsync, currentChainId } = useEnsureCorrectChain();\n\tconst isOnCorrectChain = currentChainId === chainId;\n\tconst requiredChainName = getPresentableChainName(chainId);\n\tconst currentChainName = currentChainId\n\t\t? getPresentableChainName(currentChainId)\n\t\t: 'Unknown';\n\tconst priceAmount = isMarket ? order?.priceAmount : salePrice?.amount;\n\tconst priceCurrencyAddress = isMarket\n\t\t? currencyAddress\n\t\t: (salePrice?.currencyAddress as Address);\n\tconst isAnyTransactionPending =\n\t\tisApproving || isExecuting || isSwitchingChain;\n\n\tconst { data, isLoading: isLoadingBalance } = useHasSufficientBalance({\n\t\tchainId,\n\t\tvalue: BigInt(priceAmount || 0),\n\t\ttokenAddress: priceCurrencyAddress,\n\t});\n\n\tconst hasSufficientBalance = data?.hasSufficientBalance ?? false;\n\tconst { sendTransactionAsync } = useSendTransaction();\n\n\tconst [approvalStep, setApprovalStep] = useState<Step | undefined>(\n\t\tsteps.find((step) => step.id === StepType.tokenApproval),\n\t);\n\n\tconst {\n\t\texecuteBundledTransactions,\n\t\tisExecuting: isExecutingBundledTransactions,\n\t} = useExecuteBundledTransactions({\n\t\tchainId,\n\t\tapprovalStep,\n\t\tpriceAmount: BigInt(priceAmount || 0),\n\t});\n\n\tconst executeTransaction = async (step: Step) => {\n\t\tconst data = step.data as Hex;\n\t\tconst to = step.to as Address;\n\t\tconst value = BigInt(step.value);\n\n\t\tif (!data || !to) {\n\t\t\tconst errorDetails = new Error(\n\t\t\t\t`Invalid step: 'data' and 'to' are required:\n\t\t\t\tdata: ${data}\n\t\t\t\tto: ${to}\n\n\t\t\t\t${JSON.stringify(step)}`,\n\t\t\t);\n\n\t\t\tsetError({\n\t\t\t\ttitle: 'Invalid step',\n\t\t\t\tmessage: '`data` and `to` are required',\n\t\t\t\tdetails: errorDetails,\n\t\t\t});\n\t\t\tthrow errorDetails;\n\t\t}\n\n\t\tawait ensureCorrectChainAsync(chainId);\n\n\t\tconst hash = await sendTransactionAsync({\n\t\t\tto,\n\t\t\tdata,\n\t\t\tvalue,\n\t\t});\n\n\t\tawait waitForTransactionReceipt({\n\t\t\ttxHash: hash,\n\t\t\tchainId,\n\t\t\tsdkConfig,\n\t\t});\n\n\t\treturn hash;\n\t};\n\n\tconst executeApproval = async () => {\n\t\tif (!approvalStep) throw new Error('Approval step not found');\n\n\t\tsetError(null);\n\t\tsetIsApproving(true);\n\t\ttry {\n\t\t\tawait executeTransaction(approvalStep);\n\t\t\tsetApprovalStep(undefined);\n\t\t} catch (error) {\n\t\t\tconsole.error('Approval transaction failed:', error);\n\t\t} finally {\n\t\t\tsetIsApproving(false);\n\t\t}\n\t};\n\n\tconst handleBalanceInsufficientForWaasFeeOption = (error: Error) => {\n\t\tsetError({\n\t\t\ttitle: 'Insufficient balance for fee option',\n\t\t\tmessage: 'You do not have enough balance to purchase this item.',\n\t\t\tdetails: error,\n\t\t});\n\n\t\tconsole.error('Balance insufficient for fee option:', error);\n\t};\n\n\tconst handleTransactionFailed = (error: Error) => {\n\t\tsetError({\n\t\t\ttitle: 'Transaction failed',\n\t\t\tmessage: error.message,\n\t\t\tdetails: error,\n\t\t});\n\n\t\tconsole.error('Transaction failed:', error);\n\t};\n\n\tconst executeBuy = async () => {\n\t\tsetError(null);\n\t\tsetIsExecuting(true);\n\t\ttry {\n\t\t\tconst hash =\n\t\t\t\tisShop && approvalStep\n\t\t\t\t\t? await executeBundledTransactions({\n\t\t\t\t\t\t\tstep: buyStep,\n\t\t\t\t\t\t\tonBalanceInsufficientForFeeOption:\n\t\t\t\t\t\t\t\thandleBalanceInsufficientForWaasFeeOption,\n\t\t\t\t\t\t\tonTransactionFailed: handleTransactionFailed,\n\t\t\t\t\t\t})\n\t\t\t\t\t: await executeTransaction(buyStep);\n\n\t\t\tonSuccess(hash as Hash);\n\t\t} catch (error) {\n\t\t\tconsole.error('Buy transaction failed:', error);\n\t\t} finally {\n\t\t\tsetIsExecuting(false);\n\t\t}\n\t};\n\n\tconst handleSwitchChain = async () => {\n\t\tsetIsSwitchingChain(true);\n\t\ttry {\n\t\t\tawait ensureCorrectChainAsync(chainId);\n\t\t} catch (error) {\n\t\t\tconsole.error('Chain switch failed:', error);\n\t\t} finally {\n\t\t\tsetIsSwitchingChain(false);\n\t\t}\n\t};\n\n\tconst dismissError = () => {\n\t\tsetError(null);\n\t};\n\n\tconst formattedPrice = formatPrice(\n\t\tBigInt(priceAmount || 0),\n\t\tcurrency?.decimals || 0,\n\t);\n\tconst isFree = formattedPrice === '0';\n\n\tconst renderPriceUSD = (): ReactNode => {\n\t\tconst priceUSD = order?.priceUSDFormatted || order?.priceUSD;\n\t\tif (!priceUSD) return '';\n\n\t\tconst numericPrice =\n\t\t\ttypeof priceUSD === 'string' ? Number.parseFloat(priceUSD) : priceUSD;\n\n\t\tif (numericPrice < 0.0001) {\n\t\t\treturn (\n\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t<ChevronLeftIcon className=\"w-3\" /> <Text>$0.0001</Text>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn `~$${priceUSD}`;\n\t};\n\n\tconst renderCurrencyPrice = (): ReactNode => {\n\t\tif (isFree) return 'Free';\n\n\t\tconst numericPrice = Number.parseFloat(formattedPrice);\n\t\tif (numericPrice < 0.0001) {\n\t\t\treturn (\n\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t<ChevronLeftIcon className=\"w-4\" />\n\t\t\t\t\t<Text>0.0001 {currency?.symbol}</Text>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn `${formattedPrice} ${currency?.symbol}`;\n\t};\n\n\tconst canApprove =\n\t\thasSufficientBalance &&\n\t\t!isLoadingBalance &&\n\t\t!isLoadingBuyModalData &&\n\t\tisOnCorrectChain;\n\tconst canBuy =\n\t\thasSufficientBalance &&\n\t\t!isLoadingBalance &&\n\t\t!isLoadingBuyModalData &&\n\t\tisOnCorrectChain &&\n\t\t(isSequenceConnector ? true : !approvalStep);\n\n\tconst result: CryptoPaymentModalReturn = {\n\t\tdata: {\n\t\t\tcollectible,\n\t\t\tcurrency,\n\t\t\torder,\n\t\t\tcollection,\n\t\t},\n\t\tloading: {\n\t\t\tisLoadingBuyModalData,\n\t\t\tisLoadingBalance,\n\t\t},\n\t\tchain: {\n\t\t\tisOnCorrectChain,\n\t\t\tcurrentChainName,\n\t\t\trequiredChainName,\n\t\t\tcurrentChainId,\n\t\t},\n\t\tbalance: {\n\t\t\thasSufficientBalance,\n\t\t},\n\t\ttransaction: {\n\t\t\tisApproving,\n\t\t\tisExecuting,\n\t\t\tisSwitchingChain,\n\t\t\tisExecutingBundledTransactions,\n\t\t\tisAnyTransactionPending,\n\t\t},\n\t\terror: {\n\t\t\terror,\n\t\t\tdismissError,\n\t\t},\n\t\tsteps: {\n\t\t\tapprovalStep,\n\t\t},\n\t\tconnector: {\n\t\t\tisSequenceConnector,\n\t\t},\n\t\tflags: {\n\t\t\tisMarket,\n\t\t},\n\t\tpermissions: {\n\t\t\tcanApprove,\n\t\t\tcanBuy,\n\t\t},\n\t\tprice: {\n\t\t\tformattedPrice,\n\t\t\trenderCurrencyPrice,\n\t\t\trenderPriceUSD,\n\t\t},\n\t\tactions: {\n\t\t\texecuteApproval,\n\t\t\texecuteBuy,\n\t\t\thandleSwitchChain,\n\t\t},\n\t};\n\n\treturn result;\n}\n\nexport type CryptoPaymentModalContext = CryptoPaymentModalReturn;\n","import { Skeleton } from '@0xsequence/design-system';\n\nexport const CryptoPaymentModalSkeleton = ({\n\tnetworkMismatch,\n}: {\n\tnetworkMismatch: boolean;\n}) => {\n\treturn (\n\t\t<div className=\"flex w-full flex-col\">\n\t\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t\t<div className=\"flex items-start gap-4\">\n\t\t\t\t\t{/* Media skeleton */}\n\t\t\t\t\t<Skeleton className=\"h-[84px] w-[84px] rounded-lg\" />\n\n\t\t\t\t\t<div className=\"flex flex-1 flex-col\">\n\t\t\t\t\t\t{/* Collectible name and token ID */}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Skeleton className=\"h-4 w-32\" />\n\t\t\t\t\t\t\t<Skeleton className=\"h-3 w-12\" />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Collection name */}\n\t\t\t\t\t\t<Skeleton className=\"mt-1 h-3 w-24\" />\n\n\t\t\t\t\t\t{/* Price section */}\n\t\t\t\t\t\t<div className=\"mt-2 flex flex-col\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<Skeleton className=\"h-4 w-4 rounded-full\" />\n\t\t\t\t\t\t\t\t<Skeleton className=\"h-5 w-28\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* USD price placeholder */}\n\t\t\t\t\t\t\t<Skeleton className=\"mt-1 h-3 w-16\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Wrong network warning box skeleton */}\n\t\t\t\t{networkMismatch && <Skeleton className=\"h-[98px] w-full rounded-lg\" />}\n\n\t\t\t\t{/* Switch network button skeleton */}\n\t\t\t\t{networkMismatch && <Skeleton className=\"h-12 w-full rounded-full\" />}\n\n\t\t\t\t{/* Buy button skeleton */}\n\t\t\t\t<Skeleton className=\"h-12 w-full rounded-full\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","'use client';\n\nimport {\n\tButton,\n\tNetworkImage,\n\tSpinner,\n\tText,\n\tTooltip,\n} from '@0xsequence/design-system';\nimport type { Hex } from 'viem';\nimport type { Step } from '../../../../_internal';\nimport { ErrorLogBox } from '../../../components/_internals/ErrorLogBox';\nimport { Media } from '../../../components/media/Media';\nimport { useCryptoPaymentModalContext } from '../internal/cryptoPaymentModalContext';\nimport { CryptoPaymentModalSkeleton } from './CryptoPaymentModalSkeleton';\n\nexport interface CryptoPaymentModalProps {\n\tchainId: number;\n\tsteps: Step[];\n\tonSuccess: (hash: Hex | string) => void;\n}\n\nexport const CryptoPaymentModal = ({\n\tchainId,\n\tsteps,\n\tonSuccess,\n}: CryptoPaymentModalProps) => {\n\tconst {\n\t\tdata: { collectible, currency, collection },\n\t\tloading: { isLoadingBuyModalData, isLoadingBalance },\n\t\tchain: {\n\t\t\tisOnCorrectChain,\n\t\t\tcurrentChainName,\n\t\t\trequiredChainName,\n\t\t\tcurrentChainId,\n\t\t},\n\t\tbalance: { hasSufficientBalance },\n\t\ttransaction: {\n\t\t\tisApproving,\n\t\t\tisExecuting,\n\t\t\tisSwitchingChain,\n\t\t\tisExecutingBundledTransactions,\n\t\t\tisAnyTransactionPending,\n\t\t},\n\t\terror: { error, dismissError },\n\t\tsteps: { approvalStep },\n\t\tconnector: { isSequenceConnector },\n\t\tflags: { isMarket },\n\t\tpermissions: { canApprove, canBuy },\n\t\tprice: { formattedPrice, renderCurrencyPrice, renderPriceUSD },\n\t\tactions: { executeApproval, executeBuy, handleSwitchChain },\n\t} = useCryptoPaymentModalContext({ chainId, steps, onSuccess });\n\n\tconst approvalButtonLabel = isApproving ? (\n\t\t<div className=\"flex items-center gap-2\">\n\t\t\t<Spinner size=\"sm\" /> Approving Token...\n\t\t</div>\n\t) : (\n\t\t'Approve Token'\n\t);\n\tconst buyButtonLabel =\n\t\tisExecuting || isExecutingBundledTransactions ? (\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<Spinner size=\"sm\" /> Confirming Purchase...\n\t\t\t</div>\n\t\t) : (\n\t\t\t'Buy now'\n\t\t);\n\n\tif (isLoadingBuyModalData || isLoadingBalance) {\n\t\treturn (\n\t\t\t<CryptoPaymentModalSkeleton\n\t\t\t\tnetworkMismatch={!isOnCorrectChain && currentChainId !== undefined}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"flex w-full flex-col\">\n\t\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t\t<div className=\"flex items-start gap-4\">\n\t\t\t\t\t<Media\n\t\t\t\t\t\tassets={[collectible?.image]}\n\t\t\t\t\t\tname={collectible?.name}\n\t\t\t\t\t\tcontainerClassName=\"h-[84px] w-[84px] rounded-lg object-cover\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Text className=\"font-bold text-sm text-text-80\">\n\t\t\t\t\t\t\t\t{collectible?.name}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text className=\"font-bold text-text-50 text-xs\">\n\t\t\t\t\t\t\t\t#{collectible?.tokenId}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Text className=\"font-bold text-text-50 text-xs\">\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{collection?.name}\n\t\t\t\t\t\t</Text>\n\n\t\t\t\t\t\t<div className=\"mt-2 flex flex-col\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tmessage={`${formattedPrice} ${currency?.symbol}`}\n\t\t\t\t\t\t\t\tside=\"right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t{currency?.imageUrl ? (\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={currency.imageUrl}\n\t\t\t\t\t\t\t\t\t\t\talt={currency.symbol}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 rounded-full\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<NetworkImage chainId={chainId} size=\"sm\" />\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<Text className=\"font-bold text-md\">\n\t\t\t\t\t\t\t\t\t\t{renderCurrencyPrice()}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t{isMarket && renderPriceUSD() && (\n\t\t\t\t\t\t\t\t<Text className=\"font-bold text-text-50 text-xs\">\n\t\t\t\t\t\t\t\t\t{renderPriceUSD()}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{!isLoadingBalance &&\n\t\t\t\t\t!isLoadingBuyModalData &&\n\t\t\t\t\t!hasSufficientBalance &&\n\t\t\t\t\tisOnCorrectChain && (\n\t\t\t\t\t\t<Text className=\"text-sm text-warning\">\n\t\t\t\t\t\t\tYou do not have enough{' '}\n\t\t\t\t\t\t\t<Text className=\"font-bold\">{currency?.name}</Text> to purchase\n\t\t\t\t\t\t\tthis item\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t)}\n\n\t\t\t\t{!isOnCorrectChain && currentChainId && (\n\t\t\t\t\t<div className=\"rounded-lg border border-amber-500/30 bg-amber-500/10 px-4 py-3\">\n\t\t\t\t\t\t<Text className=\"text-amber-300 text-xs\">\n\t\t\t\t\t\t\tWrong network detected. You&apos;re currently on{' '}\n\t\t\t\t\t\t\t<Text className=\"font-bold\">{currentChainName}</Text>, but this\n\t\t\t\t\t\t\ttransaction requires{' '}\n\t\t\t\t\t\t\t<Text className=\"font-bold\">{requiredChainName}</Text>.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{!isOnCorrectChain && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleSwitchChain}\n\t\t\t\t\t\tdisabled={isAnyTransactionPending}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{isSwitchingChain\n\t\t\t\t\t\t\t? 'Switching Network...'\n\t\t\t\t\t\t\t: `Switch to ${requiredChainName}`}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\n\t\t\t\t{approvalStep && !isSequenceConnector && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={executeApproval}\n\t\t\t\t\t\tdisabled={!canApprove || isAnyTransactionPending}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{approvalButtonLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\n\t\t\t\t{canBuy && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdismissError();\n\t\t\t\t\t\t\treturn executeBuy();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisabled={!canBuy || isAnyTransactionPending}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{buyButtonLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\n\t\t\t\t{error && (\n\t\t\t\t\t<ErrorLogBox\n\t\t\t\t\t\ttitle={error.title}\n\t\t\t\t\t\tmessage={error.message}\n\t\t\t\t\t\terror={error.details}\n\t\t\t\t\t\tonDismiss={dismissError}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","'use client';\n\nimport { Component, type ErrorInfo, type ReactNode } from 'react';\nimport type { ErrorAction } from './errors/errorActionType';\nimport { SmartErrorHandler } from './SmartErrorHandler';\n\ninterface ErrorBoundaryProps {\n\tchildren: ReactNode;\n\tfallback?: (error: Error, errorInfo: ErrorInfo) => ReactNode;\n\tonError?: (error: Error, errorInfo: ErrorInfo) => void;\n\tonAction?: (error: Error, action: ErrorAction) => void;\n\tclassName?: string;\n}\n\ninterface ErrorBoundaryState {\n\thasError: boolean;\n\terror: Error | null;\n\terrorInfo: ErrorInfo | null;\n}\n\nexport class ErrorBoundary extends Component<\n\tErrorBoundaryProps,\n\tErrorBoundaryState\n> {\n\tconstructor(props: ErrorBoundaryProps) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thasError: false,\n\t\t\terror: null,\n\t\t\terrorInfo: null,\n\t\t};\n\t}\n\n\tresetErrorBoundary = () => {\n\t\tthis.setState({\n\t\t\thasError: false,\n\t\t\terror: null,\n\t\t\terrorInfo: null,\n\t\t});\n\t};\n\n\tstatic getDerivedStateFromError(error: Error): Partial<ErrorBoundaryState> {\n\t\treturn {\n\t\t\thasError: true,\n\t\t\terror,\n\t\t};\n\t}\n\n\tcomponentDidCatch(error: Error, errorInfo: ErrorInfo) {\n\t\tconsole.error('ErrorBoundary caught an error:', error, errorInfo);\n\n\t\tthis.setState({\n\t\t\terrorInfo,\n\t\t});\n\n\t\tthis.props.onError?.(error, errorInfo);\n\t}\n\n\trender() {\n\t\tif (this.state.hasError && this.state.error) {\n\t\t\tif (this.props.fallback) {\n\t\t\t\t// Wait for errorInfo to be available from componentDidCatch\n\t\t\t\tif (this.state.errorInfo) {\n\t\t\t\t\treturn this.props.fallback(this.state.error, this.state.errorInfo);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Default fallback using SmartErrorHandler\n\t\t\treturn (\n\t\t\t\t<div className={this.props.className} data-testid=\"error-boundary\">\n\t\t\t\t\t<SmartErrorHandler\n\t\t\t\t\t\terror={this.state.error}\n\t\t\t\t\t\tonAction={this.props.onAction}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n","'use client';\n\nimport { Text } from '@0xsequence/design-system';\nimport { BaseModal, type BaseModalProps } from './BaseModal';\nimport type { ErrorAction } from './errors/errorActionType';\nimport { SmartErrorHandler } from './SmartErrorHandler';\n\ninterface ErrorModalProps\n\textends Pick<BaseModalProps, 'onClose' | 'title' | 'chainId'> {\n\terror?: Error;\n\tmessage?: string;\n\tonRetry?: () => void;\n\tonErrorAction?: (error: Error, action: ErrorAction) => void;\n}\n\n/**\n * ErrorModal - Specialized modal for error states\n *\n * Improvements over the original wrapper:\n * - Built on BaseModal foundation\n * - Smart error handling integration\n * - Optional retry functionality\n * - Fallback to simple message display\n */\nexport const ErrorModal = ({\n\tonClose,\n\ttitle,\n\tchainId,\n\terror,\n\tmessage,\n\tonRetry,\n\tonErrorAction,\n}: ErrorModalProps) => (\n\t<BaseModal onClose={onClose} title={title} chainId={chainId}>\n\t\t<div\n\t\t\tclassName=\"flex items-center justify-center p-4\"\n\t\t\tdata-testid=\"error-modal\"\n\t\t>\n\t\t\t{error ? (\n\t\t\t\t<SmartErrorHandler\n\t\t\t\t\terror={error}\n\t\t\t\t\tonAction={onErrorAction || (onRetry ? () => onRetry() : undefined)}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Text className=\"font-body\" color=\"text80\">\n\t\t\t\t\t{message || 'Error loading item details'}\n\t\t\t\t</Text>\n\t\t\t)}\n\t\t</div>\n\t</BaseModal>\n);\n","'use client';\n\nimport { Spinner } from '@0xsequence/design-system';\nimport { BaseModal, type BaseModalProps } from './BaseModal';\n\ninterface LoadingModalProps\n\textends Pick<\n\t\tBaseModalProps,\n\t\t'onClose' | 'title' | 'chainId' | 'disableAnimation'\n\t> {\n\tmessage?: string;\n}\n\nexport const LoadingModal = ({\n\tonClose,\n\ttitle,\n\tchainId,\n\tdisableAnimation = true,\n\tmessage,\n}: LoadingModalProps) => (\n\t<BaseModal\n\t\tonClose={onClose}\n\t\ttitle={title}\n\t\tchainId={chainId}\n\t\tdisableAnimation={disableAnimation}\n\t>\n\t\t<div\n\t\t\tclassName=\"flex flex-col items-center justify-center gap-4 p-4\"\n\t\t\tdata-testid=\"loading-modal\"\n\t\t>\n\t\t\t<Spinner size=\"lg\" />\n\t\t\t{message && <p className=\"text-center text-sm text-text-80\">{message}</p>}\n\t\t</div>\n\t</BaseModal>\n);\n","'use client';\n\nimport type { Order } from '@0xsequence/api-client';\nimport { Skeleton, Text, TokenImage } from '@0xsequence/design-system';\nimport { useState } from 'react';\nimport type { Address } from 'viem';\nimport { maxUint256 } from 'viem';\nimport { DEFAULT_MARKETPLACE_FEE_PERCENTAGE } from '../../../../../../consts';\nimport type { CardType } from '../../../../../../types';\nimport { formatPriceWithFee } from '../../../../../../utils/price';\nimport { useCurrency, useMarketplaceConfig } from '../../../../hooks';\nimport { ActionModal } from '../../../_internal/components/baseModal';\nimport QuantityInput from '../../../_internal/components/quantityInput';\nimport {\n\tbuyModalStore,\n\t//useIsOpen\n} from '../../store';\n\n//const INFINITY_STRING = maxUint256.toString();\n\ntype ERC1155QuantityModalProps = {\n\torder?: Order;\n\tcardType: CardType;\n\tquantityRemaining: bigint;\n\tunlimitedSupply?: boolean;\n\tsalePrice?: {\n\t\tamount: bigint;\n\t\tcurrencyAddress: Address;\n\t};\n\tchainId: number;\n};\n\nexport const ERC1155QuantityModal = ({\n\torder,\n\tquantityRemaining,\n\tunlimitedSupply,\n\tsalePrice,\n\tchainId,\n\tcardType,\n}: ERC1155QuantityModalProps) => {\n\tconst minQuantity = 1n;\n\tconst [quantity, setQuantity] = useState<bigint>(minQuantity);\n\tconst [invalidQuantity, setInvalidQuantity] = useState(false);\n\n\tconst maxQuantity: bigint = unlimitedSupply ? maxUint256 : quantityRemaining;\n\n\tconst handleSetQuantity = () => {\n\t\tbuyModalStore.send({\n\t\t\ttype: 'setQuantity',\n\t\t\tquantity: Number(quantity),\n\t\t});\n\t\tbuyModalStore.send({ type: 'openPaymentModal' });\n\t};\n\n\treturn (\n\t\t<ActionModal\n\t\t\tchainId={chainId}\n\t\t\tonClose={() => buyModalStore.send({ type: 'close' })}\n\t\t\ttitle=\"Select Quantity\"\n\t\t\tdisableAnimation={true}\n\t\t\ttype=\"buy\"\n\t\t\tqueries={{}}\n\t\t\tprimaryAction={{\n\t\t\t\tlabel: 'Buy now',\n\t\t\t\tonClick: handleSetQuantity,\n\t\t\t\tdisabled: invalidQuantity,\n\t\t\t}}\n\t\t\tsecondaryAction={{\n\t\t\t\tlabel: 'Cancel',\n\t\t\t\tvariant: 'secondary',\n\t\t\t\tonClick: () => buyModalStore.send({ type: 'close' }),\n\t\t\t}}\n\t\t>\n\t\t\t{() => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"flex w-full flex-col gap-4\">\n\t\t\t\t\t\t<QuantityInput\n\t\t\t\t\t\t\tquantity={quantity}\n\t\t\t\t\t\t\tinvalidQuantity={invalidQuantity}\n\t\t\t\t\t\t\tonQuantityChange={setQuantity}\n\t\t\t\t\t\t\tonInvalidQuantityChange={setInvalidQuantity}\n\t\t\t\t\t\t\tdecimals={0}\n\t\t\t\t\t\t\tmaxQuantity={maxQuantity}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TotalPrice\n\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\tquantity={quantity}\n\t\t\t\t\t\t\tsalePrice={salePrice}\n\t\t\t\t\t\t\tchainId={chainId}\n\t\t\t\t\t\t\tcardType={cardType}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</ActionModal>\n\t);\n};\n\ntype TotalPriceProps = {\n\torder?: Order;\n\tquantity: bigint;\n\tsalePrice?: {\n\t\tamount: bigint;\n\t\tcurrencyAddress: Address;\n\t};\n\tchainId: number;\n\tcardType: CardType;\n};\n\nconst TotalPrice = ({\n\torder,\n\tquantity,\n\tsalePrice,\n\tchainId,\n\tcardType,\n}: TotalPriceProps) => {\n\tconst isShop = cardType === 'shop';\n\tconst isMarket = cardType === 'market';\n\tconst { data: marketplaceConfig } = useMarketplaceConfig();\n\tconst currencyAddress = order\n\t\t? order.priceCurrencyAddress\n\t\t: salePrice?.currencyAddress;\n\tconst { data: currency, isLoading: isCurrencyLoading } = useCurrency({\n\t\tchainId,\n\t\tcurrencyAddress,\n\t});\n\n\tlet error: null | string = null;\n\tlet formattedPrice = '0';\n\n\tif (isMarket && currency && order) {\n\t\ttry {\n\t\t\t// Find fee percentage from market collections only\n\t\t\tconst marketCollection = marketplaceConfig?.market?.collections?.find(\n\t\t\t\t(col) =>\n\t\t\t\t\tcol.itemsAddress.toLowerCase() ===\n\t\t\t\t\t\torder.collectionContractAddress.toLowerCase() &&\n\t\t\t\t\tcol.chainId === chainId,\n\t\t\t);\n\t\t\tconst marketplaceFeePercentage =\n\t\t\t\tmarketCollection?.feePercentage ?? DEFAULT_MARKETPLACE_FEE_PERCENTAGE;\n\t\t\tconst totalPriceRaw = BigInt(order.priceAmount) * quantity;\n\n\t\t\tformattedPrice = formatPriceWithFee(\n\t\t\t\ttotalPriceRaw,\n\t\t\t\tcurrency.decimals,\n\t\t\t\tmarketplaceFeePercentage,\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tconsole.error('Error formatting price', e);\n\t\t\terror = 'Unable to calculate total price';\n\t\t}\n\t}\n\n\tif (isShop && salePrice && currency) {\n\t\tconst totalPriceRaw = BigInt(salePrice.amount) * quantity;\n\t\tformattedPrice = formatPriceWithFee(\n\t\t\ttotalPriceRaw,\n\t\t\tcurrency.decimals,\n\t\t\t// Fee percentage isn't included if it's sale contract\n\t\t\t0,\n\t\t);\n\t}\n\n\treturn error ? (\n\t\t<Text className=\"font-body font-medium text-xs\" color=\"text50\">\n\t\t\t{error}\n\t\t</Text>\n\t) : (\n\t\t<div className=\"flex justify-between\">\n\t\t\t<Text className=\"font-body font-medium text-xs\" color=\"text50\">\n\t\t\t\tTotal Price\n\t\t\t</Text>\n\n\t\t\t<div className=\"flex items-center gap-0.5\">\n\t\t\t\t{!currency || isCurrencyLoading ? (\n\t\t\t\t\t<Skeleton className=\"h-4 w-12\" />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{currency?.imageUrl && (\n\t\t\t\t\t\t\t<TokenImage src={currency.imageUrl} size=\"xs\" />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Text className=\"font-body font-bold text-text-100 text-xs\">\n\t\t\t\t\t\t\t{formattedPrice}\n\t\t\t\t\t\t</Text>\n\n\t\t\t\t\t\t<Text className=\"font-body font-bold text-text-80 text-xs\">\n\t\t\t\t\t\t\t{currency?.symbol}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/* eslint-disable */\n// marketplace-api v0-25.11.10+051e186 4e2360c7b6314298aa3190c291646b7f0356c723\n// --\n// Code generated by Webrpc-gen@v0.31.1 with github.com/webrpc/gen-typescript@v0.23.1 generator. DO NOT EDIT.\n//\n// webrpc-gen -schema=./schema/schema.ridl -target=github.com/webrpc/gen-typescript@v0.23.1 -client -out=./clients/new-marketplace.gen.ts\n\n// Webrpc description and code-gen version\nexport const WebrpcVersion = \"v1\"\n\n// Schema version of your RIDL schema\nexport const WebrpcSchemaVersion = \"v0-25.11.10+051e186\"\n\n// Schema hash generated from your RIDL schema\nexport const WebrpcSchemaHash = \"4e2360c7b6314298aa3190c291646b7f0356c723\"\n\n//\n// Client interface\n//\n\nexport interface AdminClient {\n  createCollection(req: CreateCollectionRequest, headers?: object, signal?: AbortSignal): Promise<CreateCollectionResponse>\n\n  getCollection(req: GetCollectionRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionResponse>\n\n  updateCollection(req: UpdateCollectionRequest, headers?: object, signal?: AbortSignal): Promise<UpdateCollectionResponse>\n\n  listCollections(req: ListCollectionsRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectionsResponse>\n\n  deleteCollection(req: DeleteCollectionRequest, headers?: object, signal?: AbortSignal): Promise<DeleteCollectionResponse>\n\n  /**\n   * determine what should happen here\n   */\n  syncCollection(req: SyncCollectionRequest, headers?: object, signal?: AbortSignal): Promise<SyncCollectionResponse>\n\n  createPrimarySaleContract(req: CreatePrimarySaleContractRequest, headers?: object, signal?: AbortSignal): Promise<CreatePrimarySaleContractResponse>\n\n  deletePrimarySaleContract(req: DeletePrimarySaleContractRequest, headers?: object, signal?: AbortSignal): Promise<DeletePrimarySaleContractResponse>\n\n  createCurrency(req: CreateCurrencyRequest, headers?: object, signal?: AbortSignal): Promise<CreateCurrencyResponse>\n\n  createCurrencies(req: CreateCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<CreateCurrenciesResponse>\n\n  updateCurrency(req: UpdateCurrencyRequest, headers?: object, signal?: AbortSignal): Promise<UpdateCurrencyResponse>\n\n  listCurrencies(req: ListCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<ListCurrenciesResponse>\n\n  deleteCurrency(req: DeleteCurrencyRequest, headers?: object, signal?: AbortSignal): Promise<DeleteCurrencyResponse>\n\n  /**\n   * This for manual adding of non minted ERC1155 tokens, it's used for purposes of Shop.\n   */\n  addCollectibles(req: AddCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<AddCollectiblesResponse>\n}\nexport interface MarketplaceClient {\n  listCurrencies(req: ListCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<ListCurrenciesResponse>\n\n  getCollectionDetail(req: GetCollectionDetailRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionDetailResponse>\n\n  getCollectionActiveListingsCurrencies(req: GetCollectionActiveListingsCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionActiveListingsCurrenciesResponse>\n\n  getCollectionActiveOffersCurrencies(req: GetCollectionActiveOffersCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionActiveOffersCurrenciesResponse>\n\n  getCollectible(req: GetCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleResponse>\n\n  getLowestPriceOfferForCollectible(req: GetLowestPriceOfferForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetLowestPriceOfferForCollectibleResponse>\n\n  getHighestPriceOfferForCollectible(req: GetHighestPriceOfferForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetHighestPriceOfferForCollectibleResponse>\n\n  getLowestPriceListingForCollectible(req: GetLowestPriceListingForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetLowestPriceListingForCollectibleResponse>\n\n  getHighestPriceListingForCollectible(req: GetHighestPriceListingForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetHighestPriceListingForCollectibleResponse>\n\n  listListingsForCollectible(req: ListListingsForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<ListListingsForCollectibleResponse>\n\n  listOffersForCollectible(req: ListOffersForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<ListOffersForCollectibleResponse>\n\n  listOrdersWithCollectibles(req: ListOrdersWithCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<ListOrdersWithCollectiblesResponse>\n\n  getCountOfAllOrders(req: GetCountOfAllOrdersRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfAllOrdersResponse>\n\n  getCountOfFilteredOrders(req: GetCountOfFilteredOrdersRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfFilteredOrdersResponse>\n\n  listListings(req: ListListingsRequest, headers?: object, signal?: AbortSignal): Promise<ListListingsResponse>\n\n  listOffers(req: ListOffersRequest, headers?: object, signal?: AbortSignal): Promise<ListOffersResponse>\n\n  getCountOfListingsForCollectible(req: GetCountOfListingsForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfListingsForCollectibleResponse>\n\n  getCountOfOffersForCollectible(req: GetCountOfOffersForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfOffersForCollectibleResponse>\n\n  /**\n   * @deprecated Please use GetLowestPriceOfferForCollectible instead.\n   */\n  getCollectibleLowestOffer(req: GetCollectibleLowestOfferRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleLowestOfferResponse>\n\n  /**\n   * @deprecated Please use GetHighestPriceOfferForCollectible instead.\n   */\n  getCollectibleHighestOffer(req: GetCollectibleHighestOfferRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleHighestOfferResponse>\n\n  /**\n   * @deprecated Please use GetLowestPriceListingForCollectible instead.\n   */\n  getCollectibleLowestListing(req: GetCollectibleLowestListingRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleLowestListingResponse>\n\n  /**\n   * @deprecated Please use GetHighestPriceListingForCollectible instead.\n   */\n  getCollectibleHighestListing(req: GetCollectibleHighestListingRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleHighestListingResponse>\n\n  /**\n   * @deprecated Please use ListListingsForCollectible instead.\n   */\n  listCollectibleListings(req: ListCollectibleListingsRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectibleListingsResponse>\n\n  /**\n   * @deprecated Please use ListOffersForCollectible instead.\n   */\n  listCollectibleOffers(req: ListCollectibleOffersRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectibleOffersResponse>\n\n  /**\n   * checkout process\n   */\n  generateBuyTransaction(req: GenerateBuyTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateBuyTransactionResponse>\n\n  generateSellTransaction(req: GenerateSellTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateSellTransactionResponse>\n\n  generateListingTransaction(req: GenerateListingTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateListingTransactionResponse>\n\n  generateOfferTransaction(req: GenerateOfferTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateOfferTransactionResponse>\n\n  generateCancelTransaction(req: GenerateCancelTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateCancelTransactionResponse>\n\n  /**\n   * only used in a case of external transactions ( when we create off-chain transactions ) for instance opensea market, use only ExecuteInput params and leave other root inputs empty, they are depracated and kept only for backward compatibility\n   */\n  execute(req: ExecuteRequest, headers?: object, signal?: AbortSignal): Promise<ExecuteResponse>\n\n  /**\n   * list of collectibles with best order for each collectible, by default this only returns collectibles with an order\n   */\n  listCollectibles(req: ListCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectiblesResponse>\n\n  getCountOfAllCollectibles(req: GetCountOfAllCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfAllCollectiblesResponse>\n\n  getCountOfFilteredCollectibles(req: GetCountOfFilteredCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfFilteredCollectiblesResponse>\n\n  getFloorOrder(req: GetFloorOrderRequest, headers?: object, signal?: AbortSignal): Promise<GetFloorOrderResponse>\n\n  /**\n   * Not Implemented\n   */\n  listCollectionActivities(req: ListCollectionActivitiesRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectionActivitiesResponse>\n\n  /**\n   * Not Implemented\n   */\n  listCollectibleActivities(req: ListCollectibleActivitiesRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectibleActivitiesResponse>\n\n  listCollectiblesWithLowestListing(req: ListCollectiblesWithLowestListingRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectiblesWithLowestListingResponse>\n\n  listCollectiblesWithHighestOffer(req: ListCollectiblesWithHighestOfferRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectiblesWithHighestOfferResponse>\n\n  syncOrder(req: SyncOrderRequest, headers?: object, signal?: AbortSignal): Promise<SyncOrderResponse>\n\n  syncOrders(req: SyncOrdersRequest, headers?: object, signal?: AbortSignal): Promise<SyncOrdersResponse>\n\n  getOrders(req: GetOrdersRequest, headers?: object, signal?: AbortSignal): Promise<GetOrdersResponse>\n\n  checkoutOptionsMarketplace(req: CheckoutOptionsMarketplaceRequest, headers?: object, signal?: AbortSignal): Promise<CheckoutOptionsMarketplaceResponse>\n\n  checkoutOptionsSalesContract(req: CheckoutOptionsSalesContractRequest, headers?: object, signal?: AbortSignal): Promise<CheckoutOptionsSalesContractResponse>\n\n  supportedMarketplaces(req: SupportedMarketplacesRequest, headers?: object, signal?: AbortSignal): Promise<SupportedMarketplacesResponse>\n\n  getPrimarySaleItem(req: GetPrimarySaleItemRequest, headers?: object, signal?: AbortSignal): Promise<GetPrimarySaleItemResponse>\n\n  listPrimarySaleItems(req: ListPrimarySaleItemsRequest, headers?: object, signal?: AbortSignal): Promise<ListPrimarySaleItemsResponse>\n\n  getCountOfPrimarySaleItems(req: GetCountOfPrimarySaleItemsRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfPrimarySaleItemsResponse>\n}\n\n//\n// Schema types\n//\n\nexport enum SortOrder {\n  ASC = 'ASC',\n  DESC = 'DESC'\n}\n\nexport enum PropertyType {\n  INT = 'INT',\n  STRING = 'STRING',\n  ARRAY = 'ARRAY',\n  GENERIC = 'GENERIC'\n}\n\nexport enum MarketplaceKind {\n  unknown = 'unknown',\n  sequence_marketplace_v1 = 'sequence_marketplace_v1',\n  sequence_marketplace_v2 = 'sequence_marketplace_v2',\n  blur = 'blur',\n  zerox = 'zerox',\n  opensea = 'opensea',\n  looks_rare = 'looks_rare',\n  x2y2 = 'x2y2',\n  alienswap = 'alienswap',\n  payment_processor = 'payment_processor',\n  mintify = 'mintify',\n  magic_eden = 'magic_eden'\n}\n\nexport enum OrderbookKind {\n  unknown = 'unknown',\n  sequence_marketplace_v1 = 'sequence_marketplace_v1',\n  sequence_marketplace_v2 = 'sequence_marketplace_v2',\n  blur = 'blur',\n  opensea = 'opensea',\n  looks_rare = 'looks_rare',\n  reservoir = 'reservoir',\n  x2y2 = 'x2y2',\n  magic_eden = 'magic_eden'\n}\n\nexport enum SourceKind {\n  unknown = 'unknown',\n  external = 'external',\n  sequence_marketplace_v1 = 'sequence_marketplace_v1',\n  sequence_marketplace_v2 = 'sequence_marketplace_v2',\n  opensea = 'opensea',\n  magic_eden = 'magic_eden'\n}\n\nexport enum OrderSide {\n  unknown = 'unknown',\n  listing = 'listing',\n  offer = 'offer'\n}\n\nexport enum OfferType {\n  unknown = 'unknown',\n  item = 'item',\n  collection = 'collection'\n}\n\nexport enum OrderStatus {\n  unknown = 'unknown',\n  active = 'active',\n  inactive = 'inactive',\n  expired = 'expired',\n  cancelled = 'cancelled',\n  filled = 'filled',\n  decimals_missing = 'decimals_missing'\n}\n\nexport enum ContractType {\n  UNKNOWN = 'UNKNOWN',\n  ERC20 = 'ERC20',\n  ERC721 = 'ERC721',\n  ERC1155 = 'ERC1155'\n}\n\nexport enum CollectionPriority {\n  unknown = 'unknown',\n  low = 'low',\n  normal = 'normal',\n  high = 'high'\n}\n\nexport enum CollectionStatus {\n  unknown = 'unknown',\n  created = 'created',\n  syncing_orders = 'syncing_orders',\n  active = 'active',\n  failed = 'failed',\n  inactive = 'inactive',\n  incompatible_type = 'incompatible_type'\n}\n\nexport enum ProjectStatus {\n  unknown = 'unknown',\n  active = 'active',\n  inactive = 'inactive'\n}\n\nexport enum ItemsContractStatus {\n  unknown = 'unknown',\n  created = 'created',\n  syncing_contract_metadata = 'syncing_contract_metadata',\n  synced_contract_metadata = 'synced_contract_metadata',\n  syncing_tokens = 'syncing_tokens',\n  synced_tokens = 'synced_tokens',\n  active = 'active',\n  inactive = 'inactive',\n  incompatible_type = 'incompatible_type'\n}\n\nexport enum CollectibleStatus {\n  unknown = 'unknown',\n  active = 'active',\n  inactive = 'inactive'\n}\n\nexport enum CollectibleSource {\n  unknown = 'unknown',\n  indexer = 'indexer',\n  manual = 'manual'\n}\n\nexport enum CurrencyStatus {\n  unknown = 'unknown',\n  created = 'created',\n  syncing_metadata = 'syncing_metadata',\n  active = 'active',\n  failed = 'failed'\n}\n\nexport enum WalletKind {\n  unknown = 'unknown',\n  sequence = 'sequence'\n}\n\nexport enum StepType {\n  unknown = 'unknown',\n  tokenApproval = 'tokenApproval',\n  buy = 'buy',\n  sell = 'sell',\n  createListing = 'createListing',\n  createOffer = 'createOffer',\n  signEIP712 = 'signEIP712',\n  signEIP191 = 'signEIP191',\n  cancel = 'cancel'\n}\n\nexport enum TransactionCrypto {\n  none = 'none',\n  partially = 'partially',\n  all = 'all'\n}\n\nexport enum TransactionNFTCheckoutProvider {\n  unknown = 'unknown',\n  transak = 'transak',\n  sardine = 'sardine'\n}\n\nexport enum TransactionOnRampProvider {\n  unknown = 'unknown',\n  transak = 'transak',\n  sardine = 'sardine'\n}\n\nexport enum TransactionSwapProvider {\n  unknown = 'unknown',\n  lifi = 'lifi'\n}\n\nexport enum ExecuteType {\n  unknown = 'unknown',\n  order = 'order',\n  createListing = 'createListing',\n  createItemOffer = 'createItemOffer',\n  createTraitOffer = 'createTraitOffer'\n}\n\nexport enum ActivityAction {\n  unknown = 'unknown',\n  listing = 'listing',\n  offer = 'offer',\n  mint = 'mint',\n  sale = 'sale',\n  listingCancel = 'listingCancel',\n  offerCancel = 'offerCancel',\n  transfer = 'transfer'\n}\n\nexport enum PrimarySaleContractStatus {\n  unknown = 'unknown',\n  created = 'created',\n  syncing_items = 'syncing_items',\n  active = 'active',\n  inactive = 'inactive',\n  incompatible_type = 'incompatible_type',\n  failed = 'failed'\n}\n\nexport enum PrimarySaleVersion {\n  v0 = 'v0',\n  v1 = 'v1'\n}\n\nexport enum PrimarySaleItemDetailType {\n  unknown = 'unknown',\n  global = 'global',\n  individual = 'individual'\n}\n\nexport enum MetadataStatus {\n  NOT_AVAILABLE = 'NOT_AVAILABLE',\n  REFRESHING = 'REFRESHING',\n  AVAILABLE = 'AVAILABLE'\n}\n\nexport interface Page {\n  page: number\n  pageSize: number\n  more?: boolean\n  sort?: Array<SortBy>\n}\n\nexport interface SortBy {\n  column: string\n  order: SortOrder\n}\n\nexport interface Filter {\n  text?: string\n  properties?: Array<PropertyFilter>\n}\n\nexport interface PropertyFilter {\n  name: string\n  type: PropertyType\n  min?: number\n  max?: number\n  values?: Array<any>\n}\n\nexport interface CollectiblesFilter {\n  includeEmpty: boolean\n  searchText?: string\n  properties?: Array<PropertyFilter>\n  marketplaces?: Array<MarketplaceKind>\n  inAccounts?: Array<string>\n  notInAccounts?: Array<string>\n  ordersCreatedBy?: Array<string>\n  ordersNotCreatedBy?: Array<string>\n  inCurrencyAddresses?: Array<string>\n  notInCurrencyAddresses?: Array<string>\n  prices?: Array<PriceFilter>\n}\n\nexport interface OrdersFilter {\n  searchText?: string\n  properties?: Array<PropertyFilter>\n  marketplaces?: Array<MarketplaceKind>\n  inAccounts?: Array<string>\n  notInAccounts?: Array<string>\n  ordersCreatedBy?: Array<string>\n  ordersNotCreatedBy?: Array<string>\n  inCurrencyAddresses?: Array<string>\n  notInCurrencyAddresses?: Array<string>\n  prices?: Array<PriceFilter>\n}\n\nexport interface PriceFilter {\n  contractAddress: string\n  min?: bigint\n  max?: bigint\n}\n\nexport interface Order {\n  orderId: string\n  marketplace: MarketplaceKind\n  side: OrderSide\n  status: OrderStatus\n  chainId: number\n  originName: string\n  slug: string\n  collectionContractAddress: string\n  tokenId?: bigint\n  createdBy: string\n  priceAmount: bigint\n  priceAmountFormatted: string\n  priceAmountNet: bigint\n  priceAmountNetFormatted: string\n  priceCurrencyAddress: string\n  priceDecimals: number\n  priceUSD: number\n  priceUSDFormatted: string\n  quantityInitial: bigint\n  quantityInitialFormatted: string\n  quantityRemaining: bigint\n  quantityRemainingFormatted: string\n  quantityAvailable: bigint\n  quantityAvailableFormatted: string\n  quantityDecimals: number\n  feeBps: number\n  feeBreakdown: Array<FeeBreakdown>\n  validFrom: string\n  validUntil: string\n  blockNumber: number\n  orderCreatedAt?: string\n  orderUpdatedAt?: string\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface FeeBreakdown {\n  kind: string\n  recipientAddress: string\n  bps: number\n}\n\nexport interface CollectibleOrder {\n  metadata: TokenMetadata\n  order?: Order\n  listing?: Order\n  offer?: Order\n}\n\nexport interface OrderFilter {\n  createdBy?: Array<string>\n  marketplace?: Array<MarketplaceKind>\n  currencies?: Array<string>\n}\n\nexport interface Collection {\n  status: CollectionStatus\n  chainId: number\n  contractAddress: string\n  contractType: ContractType\n  priority: CollectionPriority\n  tokenQuantityDecimals: number\n  config: CollectionConfig\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface CollectionConfig {\n  lastSynced: {[key: string]: CollectionLastSynced}\n  collectiblesSynced: string\n  activitiesSynced: string\n  activitiesSyncedContinuity: string\n}\n\nexport interface CollectionLastSynced {\n  allOrders: string\n  newOrders: string\n  names: Array<string>\n  cursors: {[key: string]: string}\n}\n\nexport interface Project {\n  projectId: number\n  chainId: number\n  contractAddress: string\n  status: ProjectStatus\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface ItemsContract {\n  status: ItemsContractStatus\n  chainId: number\n  contractAddress: string\n  contractType: ContractType\n  lastSynced: string\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface Collectible {\n  status: CollectibleStatus\n  tokenId: bigint\n  decimals: number\n  source: CollectibleSource\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface Currency {\n  chainId: number\n  contractAddress: string\n  status: CurrencyStatus\n  name: string\n  symbol: string\n  decimals: number\n  imageUrl: string\n  exchangeRate: number\n  defaultChainCurrency: boolean\n  nativeCurrency: boolean\n  openseaListing: boolean\n  openseaOffer: boolean\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface OrderData {\n  orderId: string\n  quantity: bigint\n  tokenId?: bigint\n}\n\nexport interface AdditionalFee {\n  amount: bigint\n  receiver: string\n}\n\nexport interface Step {\n  id: StepType\n  data: string\n  to: string\n  value: bigint\n  price: bigint\n  signature?: Signature\n  post?: PostRequest\n  executeType?: ExecuteType\n}\n\nexport interface PostRequest {\n  endpoint: string\n  method: string\n  body: any\n}\n\nexport interface CreateReq {\n  tokenId: bigint\n  quantity: bigint\n  expiry: string\n  currencyAddress: string\n  pricePerToken: bigint\n}\n\nexport interface GetOrdersInput {\n  contractAddress: string\n  orderId: string\n  marketplace: MarketplaceKind\n}\n\nexport interface Signature {\n  domain: Domain\n  types: any\n  primaryType: string\n  value: any\n}\n\nexport interface Domain {\n  name: string\n  version: string\n  chainId: number\n  verifyingContract: string\n}\n\nexport interface CheckoutOptionsMarketplaceOrder {\n  contractAddress: string\n  orderId: string\n  marketplace: MarketplaceKind\n}\n\nexport interface CheckoutOptionsItem {\n  tokenId: bigint\n  quantity: bigint\n}\n\nexport interface CheckoutOptions {\n  crypto: TransactionCrypto\n  swap: Array<TransactionSwapProvider>\n  nftCheckout: Array<TransactionNFTCheckoutProvider>\n  onRamp: Array<TransactionOnRampProvider>\n}\n\nexport interface ExecuteInput {\n  chainId: string\n  signature: string\n  method: string\n  endpoint: string\n  executeType: ExecuteType\n  body: any\n  slug?: string\n}\n\nexport interface Activity {\n  chainId: number\n  contractAddress: string\n  tokenId: bigint\n  action: ActivityAction\n  txHash: string\n  from: string\n  to?: string\n  quantity: bigint\n  quantityDecimals: number\n  priceAmount?: bigint\n  priceAmountFormatted?: string\n  priceCurrencyAddress?: string\n  priceDecimals?: number\n  activityCreatedAt: string\n  uniqueHash: string\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface PrimarySaleContract {\n  chainId: number\n  contractAddress: string\n  collectionAddress: string\n  contractType: ContractType\n  version: PrimarySaleVersion\n  currencyAddress: string\n  priceDecimals: number\n  status: PrimarySaleContractStatus\n  lastSynced: string\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface PrimarySaleItem {\n  itemAddress: string\n  contractType: ContractType\n  tokenId: bigint\n  itemType: PrimarySaleItemDetailType\n  startDate: string\n  endDate: string\n  currencyAddress: string\n  priceDecimals: number\n  priceAmount: bigint\n  priceAmountFormatted: string\n  priceUsd: number\n  priceUsdFormatted: string\n  supply: bigint\n  supplyCap: bigint\n  unlimitedSupply: boolean\n  createdAt: string\n  updatedAt: string\n  deletedAt?: string\n}\n\nexport interface CollectiblePrimarySaleItem {\n  metadata: TokenMetadata\n  primarySaleItem: PrimarySaleItem\n}\n\nexport interface PrimarySaleItemsFilter {\n  includeEmpty: boolean\n  searchText?: string\n  properties?: Array<PropertyFilter>\n  detailTypes?: Array<PrimarySaleItemDetailType>\n  startDateAfter?: string\n  startDateBefore?: string\n  endDateAfter?: string\n  endDateBefore?: string\n}\n\nexport interface TokenMetadata {\n  tokenId: bigint\n  name: string\n  description?: string\n  image?: string\n  video?: string\n  audio?: string\n  properties?: {[key: string]: any}\n  attributes: Array<{[key: string]: any}>\n  image_data?: string\n  external_url?: string\n  background_color?: string\n  animation_url?: string\n  decimals?: number\n  updatedAt?: string\n  assets?: Array<Asset>\n  status: MetadataStatus\n}\n\nexport interface Asset {\n  id: number\n  collectionId: number\n  tokenId: bigint\n  url?: string\n  metadataField: string\n  name?: string\n  filesize?: number\n  mimeType?: string\n  width?: number\n  height?: number\n  updatedAt?: string\n}\n\nexport interface CreateCollectionRequest {\n  chainId: string\n  projectId: number\n  contractAddress: string\n}\n\nexport interface CreateCollectionResponse {\n  collection: Collection\n}\n\nexport interface GetCollectionRequest {\n  chainId: string\n  projectId: number\n  contractAddress: string\n}\n\nexport interface GetCollectionResponse {\n  collection: Collection\n}\n\nexport interface UpdateCollectionRequest {\n  chainId: string\n  collection: Collection\n}\n\nexport interface UpdateCollectionResponse {\n  collection: Collection\n}\n\nexport interface ListCollectionsRequest {\n  chainId: string\n  projectId: number\n  page?: Page\n}\n\nexport interface ListCollectionsResponse {\n  collections: Array<Collection>\n  page?: Page\n}\n\nexport interface DeleteCollectionRequest {\n  chainId: string\n  projectId: number\n  contractAddress: string\n}\n\nexport interface DeleteCollectionResponse {\n  collection: Collection\n}\n\nexport interface SyncCollectionRequest {\n  chainId: string\n  contractAddress: string\n}\n\nexport interface SyncCollectionResponse {\n}\n\nexport interface CreatePrimarySaleContractRequest {\n  chainId: string\n  projectId: number\n  primarySaleContractAddress: string\n  itemsContractAddress: string\n}\n\nexport interface CreatePrimarySaleContractResponse {\n  primarySaleContract: PrimarySaleContract\n}\n\nexport interface DeletePrimarySaleContractRequest {\n  chainId: string\n  projectId: number\n  primarySaleContractAddress: string\n}\n\nexport interface DeletePrimarySaleContractResponse {\n}\n\nexport interface CreateCurrencyRequest {\n  chainId: string\n  currency: Currency\n}\n\nexport interface CreateCurrencyResponse {\n  currency: Currency\n}\n\nexport interface CreateCurrenciesRequest {\n  chainId: string\n  currencies: Array<Currency>\n}\n\nexport interface CreateCurrenciesResponse {\n  currency: {[key: string]: Currency}\n}\n\nexport interface UpdateCurrencyRequest {\n  chainId: string\n  currency: Currency\n}\n\nexport interface UpdateCurrencyResponse {\n  currency: Currency\n}\n\nexport interface ListCurrenciesRequest {\n  chainId: string\n}\n\nexport interface ListCurrenciesResponse {\n  currencies: Array<Currency>\n}\n\nexport interface DeleteCurrencyRequest {\n  chainId: string\n  contractAddress: string\n}\n\nexport interface DeleteCurrencyResponse {\n  currency: Currency\n}\n\nexport interface AddCollectiblesRequest {\n  chainId: string\n  itemsContractAddress: string\n  tokenIds: Array<bigint>\n}\n\nexport interface AddCollectiblesResponse {\n}\n\nexport interface ListCurrenciesRequest {\n  chainId: string\n}\n\nexport interface ListCurrenciesResponse {\n  currencies: Array<Currency>\n}\n\nexport interface GetCollectionDetailRequest {\n  chainId: string\n  contractAddress: string\n}\n\nexport interface GetCollectionDetailResponse {\n  collection: Collection\n}\n\nexport interface GetCollectionActiveListingsCurrenciesRequest {\n  chainId: string\n  contractAddress: string\n}\n\nexport interface GetCollectionActiveListingsCurrenciesResponse {\n  currencies: Array<Currency>\n}\n\nexport interface GetCollectionActiveOffersCurrenciesRequest {\n  chainId: string\n  contractAddress: string\n}\n\nexport interface GetCollectionActiveOffersCurrenciesResponse {\n  currencies: Array<Currency>\n}\n\nexport interface GetCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n}\n\nexport interface GetCollectibleResponse {\n  metadata: TokenMetadata\n}\n\nexport interface GetLowestPriceOfferForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetLowestPriceOfferForCollectibleResponse {\n  order: Order\n}\n\nexport interface GetHighestPriceOfferForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetHighestPriceOfferForCollectibleResponse {\n  order: Order\n}\n\nexport interface GetLowestPriceListingForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetLowestPriceListingForCollectibleResponse {\n  order: Order\n}\n\nexport interface GetHighestPriceListingForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetHighestPriceListingForCollectibleResponse {\n  order: Order\n}\n\nexport interface ListListingsForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n  page?: Page\n}\n\nexport interface ListListingsForCollectibleResponse {\n  listings: Array<Order>\n  page?: Page\n}\n\nexport interface ListOffersForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n  page?: Page\n}\n\nexport interface ListOffersForCollectibleResponse {\n  offers: Array<Order>\n  page?: Page\n}\n\nexport interface ListOrdersWithCollectiblesRequest {\n  chainId: string\n  side: OrderSide\n  contractAddress: string\n  filter?: OrdersFilter\n  page?: Page\n}\n\nexport interface ListOrdersWithCollectiblesResponse {\n  collectibles: Array<CollectibleOrder>\n  page?: Page\n}\n\nexport interface GetCountOfAllOrdersRequest {\n  chainId: string\n  side: OrderSide\n  contractAddress: string\n}\n\nexport interface GetCountOfAllOrdersResponse {\n  count: number\n}\n\nexport interface GetCountOfFilteredOrdersRequest {\n  chainId: string\n  side: OrderSide\n  contractAddress: string\n  filter?: OrdersFilter\n}\n\nexport interface GetCountOfFilteredOrdersResponse {\n  count: number\n}\n\nexport interface ListListingsRequest {\n  chainId: string\n  contractAddress: string\n  filter?: OrderFilter\n  page?: Page\n}\n\nexport interface ListListingsResponse {\n  listings: Array<Order>\n  page?: Page\n}\n\nexport interface ListOffersRequest {\n  chainId: string\n  contractAddress: string\n  filter?: OrderFilter\n  page?: Page\n}\n\nexport interface ListOffersResponse {\n  offers: Array<Order>\n  page?: Page\n}\n\nexport interface GetCountOfListingsForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetCountOfListingsForCollectibleResponse {\n  count: number\n}\n\nexport interface GetCountOfOffersForCollectibleRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetCountOfOffersForCollectibleResponse {\n  count: number\n}\n\nexport interface GetCollectibleLowestOfferRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetCollectibleLowestOfferResponse {\n  order?: Order\n}\n\nexport interface GetCollectibleHighestOfferRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetCollectibleHighestOfferResponse {\n  order?: Order\n}\n\nexport interface GetCollectibleLowestListingRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetCollectibleLowestListingResponse {\n  order?: Order\n}\n\nexport interface GetCollectibleHighestListingRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n}\n\nexport interface GetCollectibleHighestListingResponse {\n  order?: Order\n}\n\nexport interface ListCollectibleListingsRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n  page?: Page\n}\n\nexport interface ListCollectibleListingsResponse {\n  listings: Array<Order>\n  page?: Page\n}\n\nexport interface ListCollectibleOffersRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  filter?: OrderFilter\n  page?: Page\n}\n\nexport interface ListCollectibleOffersResponse {\n  offers: Array<Order>\n  page?: Page\n}\n\nexport interface GenerateBuyTransactionRequest {\n  chainId: string\n  collectionAddress: string\n  buyer: string\n  marketplace: MarketplaceKind\n  ordersData: Array<OrderData>\n  additionalFees: Array<AdditionalFee>\n  walletType?: WalletKind\n}\n\nexport interface GenerateBuyTransactionResponse {\n  steps: Array<Step>\n}\n\nexport interface GenerateSellTransactionRequest {\n  chainId: string\n  collectionAddress: string\n  seller: string\n  marketplace: MarketplaceKind\n  ordersData: Array<OrderData>\n  additionalFees: Array<AdditionalFee>\n  walletType?: WalletKind\n}\n\nexport interface GenerateSellTransactionResponse {\n  steps: Array<Step>\n}\n\nexport interface GenerateListingTransactionRequest {\n  chainId: string\n  collectionAddress: string\n  owner: string\n  contractType: ContractType\n  orderbook: OrderbookKind\n  listing: CreateReq\n  additionalFees: Array<AdditionalFee>\n  walletType?: WalletKind\n}\n\nexport interface GenerateListingTransactionResponse {\n  steps: Array<Step>\n}\n\nexport interface GenerateOfferTransactionRequest {\n  chainId: string\n  collectionAddress: string\n  maker: string\n  contractType: ContractType\n  orderbook: OrderbookKind\n  offer: CreateReq\n  additionalFees: Array<AdditionalFee>\n  walletType?: WalletKind\n  offerType: OfferType\n}\n\nexport interface GenerateOfferTransactionResponse {\n  steps: Array<Step>\n}\n\nexport interface GenerateCancelTransactionRequest {\n  chainId: string\n  collectionAddress: string\n  maker: string\n  marketplace: MarketplaceKind\n  orderId: string\n}\n\nexport interface GenerateCancelTransactionResponse {\n  steps: Array<Step>\n}\n\nexport interface ExecuteRequest {\n  params: ExecuteInput\n  chainId?: string\n  signature?: string\n  method?: string\n  endpoint?: string\n  executeType?: ExecuteType\n  body?: any\n}\n\nexport interface ExecuteResponse {\n  orderId: string\n}\n\nexport interface ListCollectiblesRequest {\n  chainId: string\n  side: OrderSide\n  contractAddress: string\n  filter?: CollectiblesFilter\n  page?: Page\n}\n\nexport interface ListCollectiblesResponse {\n  collectibles: Array<CollectibleOrder>\n  page?: Page\n}\n\nexport interface GetCountOfAllCollectiblesRequest {\n  chainId: string\n  contractAddress: string\n}\n\nexport interface GetCountOfAllCollectiblesResponse {\n  count: number\n}\n\nexport interface GetCountOfFilteredCollectiblesRequest {\n  chainId: string\n  side: OrderSide\n  contractAddress: string\n  filter?: CollectiblesFilter\n}\n\nexport interface GetCountOfFilteredCollectiblesResponse {\n  count: number\n}\n\nexport interface GetFloorOrderRequest {\n  chainId: string\n  contractAddress: string\n  filter?: CollectiblesFilter\n}\n\nexport interface GetFloorOrderResponse {\n  collectible: CollectibleOrder\n}\n\nexport interface ListCollectionActivitiesRequest {\n  chainId: string\n  contractAddress: string\n  page?: Page\n}\n\nexport interface ListCollectionActivitiesResponse {\n  activities: Array<Activity>\n  page?: Page\n}\n\nexport interface ListCollectibleActivitiesRequest {\n  chainId: string\n  contractAddress: string\n  tokenId: bigint\n  page?: Page\n}\n\nexport interface ListCollectibleActivitiesResponse {\n  activities: Array<Activity>\n  page?: Page\n}\n\nexport interface ListCollectiblesWithLowestListingRequest {\n  chainId: string\n  contractAddress: string\n  filter?: CollectiblesFilter\n  page?: Page\n}\n\nexport interface ListCollectiblesWithLowestListingResponse {\n  collectibles: Array<CollectibleOrder>\n  page?: Page\n}\n\nexport interface ListCollectiblesWithHighestOfferRequest {\n  chainId: string\n  contractAddress: string\n  filter?: CollectiblesFilter\n  page?: Page\n}\n\nexport interface ListCollectiblesWithHighestOfferResponse {\n  collectibles: Array<CollectibleOrder>\n  page?: Page\n}\n\nexport interface SyncOrderRequest {\n  chainId: string\n  order: Order\n}\n\nexport interface SyncOrderResponse {\n}\n\nexport interface SyncOrdersRequest {\n  chainId: string\n  orders: Array<Order>\n}\n\nexport interface SyncOrdersResponse {\n}\n\nexport interface GetOrdersRequest {\n  chainId: string\n  input: Array<GetOrdersInput>\n  page?: Page\n}\n\nexport interface GetOrdersResponse {\n  orders: Array<Order>\n  page?: Page\n}\n\nexport interface CheckoutOptionsMarketplaceRequest {\n  chainId: string\n  wallet: string\n  orders: Array<CheckoutOptionsMarketplaceOrder>\n  additionalFee: number\n}\n\nexport interface CheckoutOptionsMarketplaceResponse {\n  options: CheckoutOptions\n}\n\nexport interface CheckoutOptionsSalesContractRequest {\n  chainId: string\n  wallet: string\n  contractAddress: string\n  collectionAddress: string\n  items: Array<CheckoutOptionsItem>\n}\n\nexport interface CheckoutOptionsSalesContractResponse {\n  options: CheckoutOptions\n}\n\nexport interface SupportedMarketplacesRequest {\n  chainId: string\n}\n\nexport interface SupportedMarketplacesResponse {\n  marketplaces: Array<MarketplaceKind>\n}\n\nexport interface GetPrimarySaleItemRequest {\n  chainId: string\n  primarySaleContractAddress: string\n  tokenId: bigint\n}\n\nexport interface GetPrimarySaleItemResponse {\n  item: CollectiblePrimarySaleItem\n}\n\nexport interface ListPrimarySaleItemsRequest {\n  chainId: string\n  primarySaleContractAddress: string\n  filter?: PrimarySaleItemsFilter\n  page?: Page\n}\n\nexport interface ListPrimarySaleItemsResponse {\n  primarySaleItems: Array<CollectiblePrimarySaleItem>\n  page?: Page\n}\n\nexport interface GetCountOfPrimarySaleItemsRequest {\n  chainId: string\n  primarySaleContractAddress: string\n  filter?: PrimarySaleItemsFilter\n}\n\nexport interface GetCountOfPrimarySaleItemsResponse {\n  count: number\n}\n\n//\n// Client\n//\n\nexport class Admin implements AdminClient {\n  protected hostname: string\n  protected fetch: Fetch\n  protected path = '/rpc/Admin/'\n\n  constructor(hostname: string, fetch: Fetch) {\n    this.hostname = hostname.replace(/\\/*$/, '')\n    this.fetch = (input: RequestInfo, init?: RequestInit) => fetch(input, init)\n  }\n\n  private url(name: string): string {\n    return this.hostname + this.path + name\n  }\n  \n  queryKey = {\n    createCollection: (req: CreateCollectionRequest) => ['Admin', 'createCollection', req] as const,\n    getCollection: (req: GetCollectionRequest) => ['Admin', 'getCollection', req] as const,\n    updateCollection: (req: UpdateCollectionRequest) => ['Admin', 'updateCollection', req] as const,\n    listCollections: (req: ListCollectionsRequest) => ['Admin', 'listCollections', req] as const,\n    deleteCollection: (req: DeleteCollectionRequest) => ['Admin', 'deleteCollection', req] as const,\n    syncCollection: (req: SyncCollectionRequest) => ['Admin', 'syncCollection', req] as const,\n    createPrimarySaleContract: (req: CreatePrimarySaleContractRequest) => ['Admin', 'createPrimarySaleContract', req] as const,\n    deletePrimarySaleContract: (req: DeletePrimarySaleContractRequest) => ['Admin', 'deletePrimarySaleContract', req] as const,\n    createCurrency: (req: CreateCurrencyRequest) => ['Admin', 'createCurrency', req] as const,\n    createCurrencies: (req: CreateCurrenciesRequest) => ['Admin', 'createCurrencies', req] as const,\n    updateCurrency: (req: UpdateCurrencyRequest) => ['Admin', 'updateCurrency', req] as const,\n    listCurrencies: (req: ListCurrenciesRequest) => ['Admin', 'listCurrencies', req] as const,\n    deleteCurrency: (req: DeleteCurrencyRequest) => ['Admin', 'deleteCurrency', req] as const,\n    addCollectibles: (req: AddCollectiblesRequest) => ['Admin', 'addCollectibles', req] as const,\n  }\n\n  createCollection = (req: CreateCollectionRequest, headers?: object, signal?: AbortSignal): Promise<CreateCollectionResponse> => {\n    return this.fetch(\n      this.url('CreateCollection'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<CreateCollectionResponse>(_data, 'CreateCollectionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollection = (req: GetCollectionRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionResponse> => {\n    return this.fetch(\n      this.url('GetCollection'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectionResponse>(_data, 'GetCollectionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  updateCollection = (req: UpdateCollectionRequest, headers?: object, signal?: AbortSignal): Promise<UpdateCollectionResponse> => {\n    return this.fetch(\n      this.url('UpdateCollection'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<UpdateCollectionResponse>(_data, 'UpdateCollectionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollections = (req: ListCollectionsRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectionsResponse> => {\n    return this.fetch(\n      this.url('ListCollections'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectionsResponse>(_data, 'ListCollectionsResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  deleteCollection = (req: DeleteCollectionRequest, headers?: object, signal?: AbortSignal): Promise<DeleteCollectionResponse> => {\n    return this.fetch(\n      this.url('DeleteCollection'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<DeleteCollectionResponse>(_data, 'DeleteCollectionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  syncCollection = (req: SyncCollectionRequest, headers?: object, signal?: AbortSignal): Promise<SyncCollectionResponse> => {\n    return this.fetch(\n      this.url('SyncCollection'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<SyncCollectionResponse>(_data, 'SyncCollectionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  createPrimarySaleContract = (req: CreatePrimarySaleContractRequest, headers?: object, signal?: AbortSignal): Promise<CreatePrimarySaleContractResponse> => {\n    return this.fetch(\n      this.url('CreatePrimarySaleContract'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<CreatePrimarySaleContractResponse>(_data, 'CreatePrimarySaleContractResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  deletePrimarySaleContract = (req: DeletePrimarySaleContractRequest, headers?: object, signal?: AbortSignal): Promise<DeletePrimarySaleContractResponse> => {\n    return this.fetch(\n      this.url('DeletePrimarySaleContract'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<DeletePrimarySaleContractResponse>(_data, 'DeletePrimarySaleContractResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  createCurrency = (req: CreateCurrencyRequest, headers?: object, signal?: AbortSignal): Promise<CreateCurrencyResponse> => {\n    return this.fetch(\n      this.url('CreateCurrency'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<CreateCurrencyResponse>(_data, 'CreateCurrencyResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  createCurrencies = (req: CreateCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<CreateCurrenciesResponse> => {\n    return this.fetch(\n      this.url('CreateCurrencies'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<CreateCurrenciesResponse>(_data, 'CreateCurrenciesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  updateCurrency = (req: UpdateCurrencyRequest, headers?: object, signal?: AbortSignal): Promise<UpdateCurrencyResponse> => {\n    return this.fetch(\n      this.url('UpdateCurrency'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<UpdateCurrencyResponse>(_data, 'UpdateCurrencyResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCurrencies = (req: ListCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<ListCurrenciesResponse> => {\n    return this.fetch(\n      this.url('ListCurrencies'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCurrenciesResponse>(_data, 'ListCurrenciesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  deleteCurrency = (req: DeleteCurrencyRequest, headers?: object, signal?: AbortSignal): Promise<DeleteCurrencyResponse> => {\n    return this.fetch(\n      this.url('DeleteCurrency'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<DeleteCurrencyResponse>(_data, 'DeleteCurrencyResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  addCollectibles = (req: AddCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<AddCollectiblesResponse> => {\n    return this.fetch(\n      this.url('AddCollectibles'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<AddCollectiblesResponse>(_data, 'AddCollectiblesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n}\nexport class Marketplace implements MarketplaceClient {\n  protected hostname: string\n  protected fetch: Fetch\n  protected path = '/rpc/Marketplace/'\n\n  constructor(hostname: string, fetch: Fetch) {\n    this.hostname = hostname.replace(/\\/*$/, '')\n    this.fetch = (input: RequestInfo, init?: RequestInit) => fetch(input, init)\n  }\n\n  private url(name: string): string {\n    return this.hostname + this.path + name\n  }\n  \n  queryKey = {\n    listCurrencies: (req: ListCurrenciesRequest) => ['Marketplace', 'listCurrencies', req] as const,\n    getCollectionDetail: (req: GetCollectionDetailRequest) => ['Marketplace', 'getCollectionDetail', req] as const,\n    getCollectionActiveListingsCurrencies: (req: GetCollectionActiveListingsCurrenciesRequest) => ['Marketplace', 'getCollectionActiveListingsCurrencies', req] as const,\n    getCollectionActiveOffersCurrencies: (req: GetCollectionActiveOffersCurrenciesRequest) => ['Marketplace', 'getCollectionActiveOffersCurrencies', req] as const,\n    getCollectible: (req: GetCollectibleRequest) => ['Marketplace', 'getCollectible', req] as const,\n    getLowestPriceOfferForCollectible: (req: GetLowestPriceOfferForCollectibleRequest) => ['Marketplace', 'getLowestPriceOfferForCollectible', req] as const,\n    getHighestPriceOfferForCollectible: (req: GetHighestPriceOfferForCollectibleRequest) => ['Marketplace', 'getHighestPriceOfferForCollectible', req] as const,\n    getLowestPriceListingForCollectible: (req: GetLowestPriceListingForCollectibleRequest) => ['Marketplace', 'getLowestPriceListingForCollectible', req] as const,\n    getHighestPriceListingForCollectible: (req: GetHighestPriceListingForCollectibleRequest) => ['Marketplace', 'getHighestPriceListingForCollectible', req] as const,\n    listListingsForCollectible: (req: ListListingsForCollectibleRequest) => ['Marketplace', 'listListingsForCollectible', req] as const,\n    listOffersForCollectible: (req: ListOffersForCollectibleRequest) => ['Marketplace', 'listOffersForCollectible', req] as const,\n    listOrdersWithCollectibles: (req: ListOrdersWithCollectiblesRequest) => ['Marketplace', 'listOrdersWithCollectibles', req] as const,\n    getCountOfAllOrders: (req: GetCountOfAllOrdersRequest) => ['Marketplace', 'getCountOfAllOrders', req] as const,\n    getCountOfFilteredOrders: (req: GetCountOfFilteredOrdersRequest) => ['Marketplace', 'getCountOfFilteredOrders', req] as const,\n    listListings: (req: ListListingsRequest) => ['Marketplace', 'listListings', req] as const,\n    listOffers: (req: ListOffersRequest) => ['Marketplace', 'listOffers', req] as const,\n    getCountOfListingsForCollectible: (req: GetCountOfListingsForCollectibleRequest) => ['Marketplace', 'getCountOfListingsForCollectible', req] as const,\n    getCountOfOffersForCollectible: (req: GetCountOfOffersForCollectibleRequest) => ['Marketplace', 'getCountOfOffersForCollectible', req] as const,\n    getCollectibleLowestOffer: (req: GetCollectibleLowestOfferRequest) => ['Marketplace', 'getCollectibleLowestOffer', req] as const,\n    getCollectibleHighestOffer: (req: GetCollectibleHighestOfferRequest) => ['Marketplace', 'getCollectibleHighestOffer', req] as const,\n    getCollectibleLowestListing: (req: GetCollectibleLowestListingRequest) => ['Marketplace', 'getCollectibleLowestListing', req] as const,\n    getCollectibleHighestListing: (req: GetCollectibleHighestListingRequest) => ['Marketplace', 'getCollectibleHighestListing', req] as const,\n    listCollectibleListings: (req: ListCollectibleListingsRequest) => ['Marketplace', 'listCollectibleListings', req] as const,\n    listCollectibleOffers: (req: ListCollectibleOffersRequest) => ['Marketplace', 'listCollectibleOffers', req] as const,\n    generateBuyTransaction: (req: GenerateBuyTransactionRequest) => ['Marketplace', 'generateBuyTransaction', req] as const,\n    generateSellTransaction: (req: GenerateSellTransactionRequest) => ['Marketplace', 'generateSellTransaction', req] as const,\n    generateListingTransaction: (req: GenerateListingTransactionRequest) => ['Marketplace', 'generateListingTransaction', req] as const,\n    generateOfferTransaction: (req: GenerateOfferTransactionRequest) => ['Marketplace', 'generateOfferTransaction', req] as const,\n    generateCancelTransaction: (req: GenerateCancelTransactionRequest) => ['Marketplace', 'generateCancelTransaction', req] as const,\n    execute: (req: ExecuteRequest) => ['Marketplace', 'execute', req] as const,\n    listCollectibles: (req: ListCollectiblesRequest) => ['Marketplace', 'listCollectibles', req] as const,\n    getCountOfAllCollectibles: (req: GetCountOfAllCollectiblesRequest) => ['Marketplace', 'getCountOfAllCollectibles', req] as const,\n    getCountOfFilteredCollectibles: (req: GetCountOfFilteredCollectiblesRequest) => ['Marketplace', 'getCountOfFilteredCollectibles', req] as const,\n    getFloorOrder: (req: GetFloorOrderRequest) => ['Marketplace', 'getFloorOrder', req] as const,\n    listCollectionActivities: (req: ListCollectionActivitiesRequest) => ['Marketplace', 'listCollectionActivities', req] as const,\n    listCollectibleActivities: (req: ListCollectibleActivitiesRequest) => ['Marketplace', 'listCollectibleActivities', req] as const,\n    listCollectiblesWithLowestListing: (req: ListCollectiblesWithLowestListingRequest) => ['Marketplace', 'listCollectiblesWithLowestListing', req] as const,\n    listCollectiblesWithHighestOffer: (req: ListCollectiblesWithHighestOfferRequest) => ['Marketplace', 'listCollectiblesWithHighestOffer', req] as const,\n    syncOrder: (req: SyncOrderRequest) => ['Marketplace', 'syncOrder', req] as const,\n    syncOrders: (req: SyncOrdersRequest) => ['Marketplace', 'syncOrders', req] as const,\n    getOrders: (req: GetOrdersRequest) => ['Marketplace', 'getOrders', req] as const,\n    checkoutOptionsMarketplace: (req: CheckoutOptionsMarketplaceRequest) => ['Marketplace', 'checkoutOptionsMarketplace', req] as const,\n    checkoutOptionsSalesContract: (req: CheckoutOptionsSalesContractRequest) => ['Marketplace', 'checkoutOptionsSalesContract', req] as const,\n    supportedMarketplaces: (req: SupportedMarketplacesRequest) => ['Marketplace', 'supportedMarketplaces', req] as const,\n    getPrimarySaleItem: (req: GetPrimarySaleItemRequest) => ['Marketplace', 'getPrimarySaleItem', req] as const,\n    listPrimarySaleItems: (req: ListPrimarySaleItemsRequest) => ['Marketplace', 'listPrimarySaleItems', req] as const,\n    getCountOfPrimarySaleItems: (req: GetCountOfPrimarySaleItemsRequest) => ['Marketplace', 'getCountOfPrimarySaleItems', req] as const,\n  }\n\n  listCurrencies = (req: ListCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<ListCurrenciesResponse> => {\n    return this.fetch(\n      this.url('ListCurrencies'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCurrenciesResponse>(_data, 'ListCurrenciesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectionDetail = (req: GetCollectionDetailRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionDetailResponse> => {\n    return this.fetch(\n      this.url('GetCollectionDetail'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectionDetailResponse>(_data, 'GetCollectionDetailResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectionActiveListingsCurrencies = (req: GetCollectionActiveListingsCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionActiveListingsCurrenciesResponse> => {\n    return this.fetch(\n      this.url('GetCollectionActiveListingsCurrencies'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectionActiveListingsCurrenciesResponse>(_data, 'GetCollectionActiveListingsCurrenciesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectionActiveOffersCurrencies = (req: GetCollectionActiveOffersCurrenciesRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectionActiveOffersCurrenciesResponse> => {\n    return this.fetch(\n      this.url('GetCollectionActiveOffersCurrencies'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectionActiveOffersCurrenciesResponse>(_data, 'GetCollectionActiveOffersCurrenciesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectible = (req: GetCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectibleResponse>(_data, 'GetCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getLowestPriceOfferForCollectible = (req: GetLowestPriceOfferForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetLowestPriceOfferForCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetLowestPriceOfferForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetLowestPriceOfferForCollectibleResponse>(_data, 'GetLowestPriceOfferForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getHighestPriceOfferForCollectible = (req: GetHighestPriceOfferForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetHighestPriceOfferForCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetHighestPriceOfferForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetHighestPriceOfferForCollectibleResponse>(_data, 'GetHighestPriceOfferForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getLowestPriceListingForCollectible = (req: GetLowestPriceListingForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetLowestPriceListingForCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetLowestPriceListingForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetLowestPriceListingForCollectibleResponse>(_data, 'GetLowestPriceListingForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getHighestPriceListingForCollectible = (req: GetHighestPriceListingForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetHighestPriceListingForCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetHighestPriceListingForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetHighestPriceListingForCollectibleResponse>(_data, 'GetHighestPriceListingForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listListingsForCollectible = (req: ListListingsForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<ListListingsForCollectibleResponse> => {\n    return this.fetch(\n      this.url('ListListingsForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListListingsForCollectibleResponse>(_data, 'ListListingsForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listOffersForCollectible = (req: ListOffersForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<ListOffersForCollectibleResponse> => {\n    return this.fetch(\n      this.url('ListOffersForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListOffersForCollectibleResponse>(_data, 'ListOffersForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listOrdersWithCollectibles = (req: ListOrdersWithCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<ListOrdersWithCollectiblesResponse> => {\n    return this.fetch(\n      this.url('ListOrdersWithCollectibles'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListOrdersWithCollectiblesResponse>(_data, 'ListOrdersWithCollectiblesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfAllOrders = (req: GetCountOfAllOrdersRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfAllOrdersResponse> => {\n    return this.fetch(\n      this.url('GetCountOfAllOrders'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfAllOrdersResponse>(_data, 'GetCountOfAllOrdersResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfFilteredOrders = (req: GetCountOfFilteredOrdersRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfFilteredOrdersResponse> => {\n    return this.fetch(\n      this.url('GetCountOfFilteredOrders'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfFilteredOrdersResponse>(_data, 'GetCountOfFilteredOrdersResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listListings = (req: ListListingsRequest, headers?: object, signal?: AbortSignal): Promise<ListListingsResponse> => {\n    return this.fetch(\n      this.url('ListListings'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListListingsResponse>(_data, 'ListListingsResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listOffers = (req: ListOffersRequest, headers?: object, signal?: AbortSignal): Promise<ListOffersResponse> => {\n    return this.fetch(\n      this.url('ListOffers'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListOffersResponse>(_data, 'ListOffersResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfListingsForCollectible = (req: GetCountOfListingsForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfListingsForCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetCountOfListingsForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfListingsForCollectibleResponse>(_data, 'GetCountOfListingsForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfOffersForCollectible = (req: GetCountOfOffersForCollectibleRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfOffersForCollectibleResponse> => {\n    return this.fetch(\n      this.url('GetCountOfOffersForCollectible'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfOffersForCollectibleResponse>(_data, 'GetCountOfOffersForCollectibleResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectibleLowestOffer = (req: GetCollectibleLowestOfferRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleLowestOfferResponse> => {\n    return this.fetch(\n      this.url('GetCollectibleLowestOffer'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectibleLowestOfferResponse>(_data, 'GetCollectibleLowestOfferResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectibleHighestOffer = (req: GetCollectibleHighestOfferRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleHighestOfferResponse> => {\n    return this.fetch(\n      this.url('GetCollectibleHighestOffer'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectibleHighestOfferResponse>(_data, 'GetCollectibleHighestOfferResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectibleLowestListing = (req: GetCollectibleLowestListingRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleLowestListingResponse> => {\n    return this.fetch(\n      this.url('GetCollectibleLowestListing'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectibleLowestListingResponse>(_data, 'GetCollectibleLowestListingResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCollectibleHighestListing = (req: GetCollectibleHighestListingRequest, headers?: object, signal?: AbortSignal): Promise<GetCollectibleHighestListingResponse> => {\n    return this.fetch(\n      this.url('GetCollectibleHighestListing'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCollectibleHighestListingResponse>(_data, 'GetCollectibleHighestListingResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectibleListings = (req: ListCollectibleListingsRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectibleListingsResponse> => {\n    return this.fetch(\n      this.url('ListCollectibleListings'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectibleListingsResponse>(_data, 'ListCollectibleListingsResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectibleOffers = (req: ListCollectibleOffersRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectibleOffersResponse> => {\n    return this.fetch(\n      this.url('ListCollectibleOffers'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectibleOffersResponse>(_data, 'ListCollectibleOffersResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  generateBuyTransaction = (req: GenerateBuyTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateBuyTransactionResponse> => {\n    return this.fetch(\n      this.url('GenerateBuyTransaction'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GenerateBuyTransactionResponse>(_data, 'GenerateBuyTransactionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  generateSellTransaction = (req: GenerateSellTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateSellTransactionResponse> => {\n    return this.fetch(\n      this.url('GenerateSellTransaction'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GenerateSellTransactionResponse>(_data, 'GenerateSellTransactionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  generateListingTransaction = (req: GenerateListingTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateListingTransactionResponse> => {\n    return this.fetch(\n      this.url('GenerateListingTransaction'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GenerateListingTransactionResponse>(_data, 'GenerateListingTransactionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  generateOfferTransaction = (req: GenerateOfferTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateOfferTransactionResponse> => {\n    return this.fetch(\n      this.url('GenerateOfferTransaction'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GenerateOfferTransactionResponse>(_data, 'GenerateOfferTransactionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  generateCancelTransaction = (req: GenerateCancelTransactionRequest, headers?: object, signal?: AbortSignal): Promise<GenerateCancelTransactionResponse> => {\n    return this.fetch(\n      this.url('GenerateCancelTransaction'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GenerateCancelTransactionResponse>(_data, 'GenerateCancelTransactionResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  execute = (req: ExecuteRequest, headers?: object, signal?: AbortSignal): Promise<ExecuteResponse> => {\n    return this.fetch(\n      this.url('Execute'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ExecuteResponse>(_data, 'ExecuteResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectibles = (req: ListCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectiblesResponse> => {\n    return this.fetch(\n      this.url('ListCollectibles'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectiblesResponse>(_data, 'ListCollectiblesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfAllCollectibles = (req: GetCountOfAllCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfAllCollectiblesResponse> => {\n    return this.fetch(\n      this.url('GetCountOfAllCollectibles'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfAllCollectiblesResponse>(_data, 'GetCountOfAllCollectiblesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfFilteredCollectibles = (req: GetCountOfFilteredCollectiblesRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfFilteredCollectiblesResponse> => {\n    return this.fetch(\n      this.url('GetCountOfFilteredCollectibles'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfFilteredCollectiblesResponse>(_data, 'GetCountOfFilteredCollectiblesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getFloorOrder = (req: GetFloorOrderRequest, headers?: object, signal?: AbortSignal): Promise<GetFloorOrderResponse> => {\n    return this.fetch(\n      this.url('GetFloorOrder'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetFloorOrderResponse>(_data, 'GetFloorOrderResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectionActivities = (req: ListCollectionActivitiesRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectionActivitiesResponse> => {\n    return this.fetch(\n      this.url('ListCollectionActivities'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectionActivitiesResponse>(_data, 'ListCollectionActivitiesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectibleActivities = (req: ListCollectibleActivitiesRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectibleActivitiesResponse> => {\n    return this.fetch(\n      this.url('ListCollectibleActivities'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectibleActivitiesResponse>(_data, 'ListCollectibleActivitiesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectiblesWithLowestListing = (req: ListCollectiblesWithLowestListingRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectiblesWithLowestListingResponse> => {\n    return this.fetch(\n      this.url('ListCollectiblesWithLowestListing'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectiblesWithLowestListingResponse>(_data, 'ListCollectiblesWithLowestListingResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listCollectiblesWithHighestOffer = (req: ListCollectiblesWithHighestOfferRequest, headers?: object, signal?: AbortSignal): Promise<ListCollectiblesWithHighestOfferResponse> => {\n    return this.fetch(\n      this.url('ListCollectiblesWithHighestOffer'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListCollectiblesWithHighestOfferResponse>(_data, 'ListCollectiblesWithHighestOfferResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  syncOrder = (req: SyncOrderRequest, headers?: object, signal?: AbortSignal): Promise<SyncOrderResponse> => {\n    return this.fetch(\n      this.url('SyncOrder'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<SyncOrderResponse>(_data, 'SyncOrderResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  syncOrders = (req: SyncOrdersRequest, headers?: object, signal?: AbortSignal): Promise<SyncOrdersResponse> => {\n    return this.fetch(\n      this.url('SyncOrders'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<SyncOrdersResponse>(_data, 'SyncOrdersResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getOrders = (req: GetOrdersRequest, headers?: object, signal?: AbortSignal): Promise<GetOrdersResponse> => {\n    return this.fetch(\n      this.url('GetOrders'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetOrdersResponse>(_data, 'GetOrdersResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  checkoutOptionsMarketplace = (req: CheckoutOptionsMarketplaceRequest, headers?: object, signal?: AbortSignal): Promise<CheckoutOptionsMarketplaceResponse> => {\n    return this.fetch(\n      this.url('CheckoutOptionsMarketplace'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<CheckoutOptionsMarketplaceResponse>(_data, 'CheckoutOptionsMarketplaceResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  checkoutOptionsSalesContract = (req: CheckoutOptionsSalesContractRequest, headers?: object, signal?: AbortSignal): Promise<CheckoutOptionsSalesContractResponse> => {\n    return this.fetch(\n      this.url('CheckoutOptionsSalesContract'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<CheckoutOptionsSalesContractResponse>(_data, 'CheckoutOptionsSalesContractResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  supportedMarketplaces = (req: SupportedMarketplacesRequest, headers?: object, signal?: AbortSignal): Promise<SupportedMarketplacesResponse> => {\n    return this.fetch(\n      this.url('SupportedMarketplaces'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<SupportedMarketplacesResponse>(_data, 'SupportedMarketplacesResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getPrimarySaleItem = (req: GetPrimarySaleItemRequest, headers?: object, signal?: AbortSignal): Promise<GetPrimarySaleItemResponse> => {\n    return this.fetch(\n      this.url('GetPrimarySaleItem'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetPrimarySaleItemResponse>(_data, 'GetPrimarySaleItemResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  listPrimarySaleItems = (req: ListPrimarySaleItemsRequest, headers?: object, signal?: AbortSignal): Promise<ListPrimarySaleItemsResponse> => {\n    return this.fetch(\n      this.url('ListPrimarySaleItems'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<ListPrimarySaleItemsResponse>(_data, 'ListPrimarySaleItemsResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n  getCountOfPrimarySaleItems = (req: GetCountOfPrimarySaleItemsRequest, headers?: object, signal?: AbortSignal): Promise<GetCountOfPrimarySaleItemsResponse> => {\n    return this.fetch(\n      this.url('GetCountOfPrimarySaleItems'),\n      createHttpRequest(JsonEncode(req), headers, signal)).then((res) => {\n      return buildResponse(res).then(_data => {\n        return JsonDecode<GetCountOfPrimarySaleItemsResponse>(_data, 'GetCountOfPrimarySaleItemsResponse')\n      })\n    }, (error) => {\n      throw WebrpcRequestFailedError.new({ cause: `fetch(): ${error instanceof Error ? error.message : String(error)}` })\n    })\n  }\n\n}\n\nconst createHttpRequest = (body: string = '{}', headers: object = {}, signal: AbortSignal | null = null): object => {\n  const reqHeaders: { [key: string]: string } = { ...headers, 'Content-Type': 'application/json', [WebrpcHeader]: WebrpcHeaderValue }\n  return { method: 'POST', headers: reqHeaders, body, signal }\n}\n\nconst buildResponse = (res: Response): Promise<any> => {\n  return res.text().then(text => {\n    let data\n    try {\n      data = JSON.parse(text)\n    } catch(error) {\n      throw WebrpcBadResponseError.new({\n        status: res.status,\n        cause: `JSON.parse(): ${error instanceof Error ? error.message : String(error)}: response text: ${text}`},\n      )\n    }\n    if (!res.ok) {\n      const code: number = (typeof data.code === 'number') ? data.code : 0\n      throw (webrpcErrorByCode[code] || WebrpcError).new(data)\n    }\n    return data\n  })\n}\n\nexport type Fetch = (input: RequestInfo, init?: RequestInit) => Promise<Response>\n\n//\n// BigInt helpers\n//\n\nconst BIG_INT_FIELDS: { [typ: string]: (string | [string, string])[] } = {\n  Activity: ['tokenId', 'quantity', 'priceAmount'],\n  AddCollectiblesRequest: ['tokenIds[]'],\n  AdditionalFee: ['amount'],\n  Asset: ['tokenId'],\n  CheckoutOptionsItem: ['tokenId', 'quantity'],\n  CheckoutOptionsSalesContractRequest: [['items', 'CheckoutOptionsItem[]']],\n  Collectible: ['tokenId'],\n  CollectibleOrder: [['metadata', 'TokenMetadata'], ['order', 'Order'], ['listing', 'Order'], ['offer', 'Order']],\n  CollectiblePrimarySaleItem: [['metadata', 'TokenMetadata'], ['primarySaleItem', 'PrimarySaleItem']],\n  CollectiblesFilter: [['prices', 'PriceFilter[]']],\n  CreateReq: ['tokenId', 'quantity', 'pricePerToken'],\n  GenerateBuyTransactionRequest: [['ordersData', 'OrderData[]'], ['additionalFees', 'AdditionalFee[]']],\n  GenerateBuyTransactionResponse: [['steps', 'Step[]']],\n  GenerateCancelTransactionResponse: [['steps', 'Step[]']],\n  GenerateListingTransactionRequest: [['listing', 'CreateReq'], ['additionalFees', 'AdditionalFee[]']],\n  GenerateListingTransactionResponse: [['steps', 'Step[]']],\n  GenerateOfferTransactionRequest: [['offer', 'CreateReq'], ['additionalFees', 'AdditionalFee[]']],\n  GenerateOfferTransactionResponse: [['steps', 'Step[]']],\n  GenerateSellTransactionRequest: [['ordersData', 'OrderData[]'], ['additionalFees', 'AdditionalFee[]']],\n  GenerateSellTransactionResponse: [['steps', 'Step[]']],\n  GetCollectibleHighestListingRequest: ['tokenId'],\n  GetCollectibleHighestListingResponse: [['order', 'Order']],\n  GetCollectibleHighestOfferRequest: ['tokenId'],\n  GetCollectibleHighestOfferResponse: [['order', 'Order']],\n  GetCollectibleLowestListingRequest: ['tokenId'],\n  GetCollectibleLowestListingResponse: [['order', 'Order']],\n  GetCollectibleLowestOfferRequest: ['tokenId'],\n  GetCollectibleLowestOfferResponse: [['order', 'Order']],\n  GetCollectibleRequest: ['tokenId'],\n  GetCollectibleResponse: [['metadata', 'TokenMetadata']],\n  GetCountOfFilteredCollectiblesRequest: [['filter', 'CollectiblesFilter']],\n  GetCountOfFilteredOrdersRequest: [['filter', 'OrdersFilter']],\n  GetCountOfListingsForCollectibleRequest: ['tokenId'],\n  GetCountOfOffersForCollectibleRequest: ['tokenId'],\n  GetFloorOrderRequest: [['filter', 'CollectiblesFilter']],\n  GetFloorOrderResponse: [['collectible', 'CollectibleOrder']],\n  GetHighestPriceListingForCollectibleRequest: ['tokenId'],\n  GetHighestPriceListingForCollectibleResponse: [['order', 'Order']],\n  GetHighestPriceOfferForCollectibleRequest: ['tokenId'],\n  GetHighestPriceOfferForCollectibleResponse: [['order', 'Order']],\n  GetLowestPriceListingForCollectibleRequest: ['tokenId'],\n  GetLowestPriceListingForCollectibleResponse: [['order', 'Order']],\n  GetLowestPriceOfferForCollectibleRequest: ['tokenId'],\n  GetLowestPriceOfferForCollectibleResponse: [['order', 'Order']],\n  GetOrdersResponse: [['orders', 'Order[]']],\n  GetPrimarySaleItemRequest: ['tokenId'],\n  GetPrimarySaleItemResponse: [['item', 'CollectiblePrimarySaleItem']],\n  ListCollectibleActivitiesRequest: ['tokenId'],\n  ListCollectibleActivitiesResponse: [['activities', 'Activity[]']],\n  ListCollectibleListingsRequest: ['tokenId'],\n  ListCollectibleListingsResponse: [['listings', 'Order[]']],\n  ListCollectibleOffersRequest: ['tokenId'],\n  ListCollectibleOffersResponse: [['offers', 'Order[]']],\n  ListCollectiblesRequest: [['filter', 'CollectiblesFilter']],\n  ListCollectiblesResponse: [['collectibles', 'CollectibleOrder[]']],\n  ListCollectiblesWithHighestOfferRequest: [['filter', 'CollectiblesFilter']],\n  ListCollectiblesWithHighestOfferResponse: [['collectibles', 'CollectibleOrder[]']],\n  ListCollectiblesWithLowestListingRequest: [['filter', 'CollectiblesFilter']],\n  ListCollectiblesWithLowestListingResponse: [['collectibles', 'CollectibleOrder[]']],\n  ListCollectionActivitiesResponse: [['activities', 'Activity[]']],\n  ListListingsForCollectibleRequest: ['tokenId'],\n  ListListingsForCollectibleResponse: [['listings', 'Order[]']],\n  ListListingsResponse: [['listings', 'Order[]']],\n  ListOffersForCollectibleRequest: ['tokenId'],\n  ListOffersForCollectibleResponse: [['offers', 'Order[]']],\n  ListOffersResponse: [['offers', 'Order[]']],\n  ListOrdersWithCollectiblesRequest: [['filter', 'OrdersFilter']],\n  ListOrdersWithCollectiblesResponse: [['collectibles', 'CollectibleOrder[]']],\n  ListPrimarySaleItemsResponse: [['primarySaleItems', 'CollectiblePrimarySaleItem[]']],\n  Order: ['tokenId', 'priceAmount', 'priceAmountNet', 'quantityInitial', 'quantityRemaining', 'quantityAvailable'],\n  OrderData: ['quantity', 'tokenId'],\n  OrdersFilter: [['prices', 'PriceFilter[]']],\n  PriceFilter: ['min', 'max'],\n  PrimarySaleItem: ['tokenId', 'priceAmount', 'supply', 'supplyCap'],\n  Step: ['value', 'price'],\n  SyncOrderRequest: [['order', 'Order']],\n  SyncOrdersRequest: [['orders', 'Order[]']],\n  TokenMetadata: ['tokenId', ['assets', 'Asset[]']]\n}\n\n// Decode in-place: mutate object graph; throw if expected numeric string is invalid.\nfunction decodeType(typ: string, obj: any): any {\n  if (obj == null || typeof obj !== 'object') return obj\n  const descs = BIG_INT_FIELDS[typ] || []\n  if (!descs.length) return obj\n  for (const d of descs) {\n    if (Array.isArray(d)) {\n      const [fieldName, nestedType] = d\n      if (fieldName.endsWith('[]')) {\n        const base = fieldName.slice(0, -2)\n        const arr = obj[base]\n        if (Array.isArray(arr)) {\n          for (let i = 0; i < arr.length; i++) arr[i] = decodeType(nestedType, arr[i])\n        }\n      } else if (obj[fieldName]) {\n        // Handle nestedType that might be an array type like 'Message[]'\n        if (nestedType.endsWith('[]')) {\n          const baseType = nestedType.slice(0, -2)\n          const arr = obj[fieldName]\n          if (Array.isArray(arr)) {\n            for (let i = 0; i < arr.length; i++) arr[i] = decodeType(baseType, arr[i])\n          }\n        } else {\n          obj[fieldName] = decodeType(nestedType, obj[fieldName])\n        }\n      }\n      continue\n    }\n    if (d.endsWith('[]')) {\n      const base = d.slice(0, -2)\n      const arr = obj[base]\n      if (Array.isArray(arr)) {\n        for (let i = 0; i < arr.length; i++) {\n          const v = arr[i]\n          if (typeof v === 'string') {\n            try { arr[i] = BigInt(v) } catch (e) { throw WebrpcBadResponseError.new({ cause: `Invalid bigint value for ${base}[${i}]: ${v}` }) }\n          }\n        }\n      }\n      continue\n    }\n    const v = obj[d]\n    if (typeof v === 'string') {\n      try { obj[d] = BigInt(v) } catch (e) { throw WebrpcBadResponseError.new({ cause: `Invalid bigint value for ${d}: ${v}` }) }\n    }\n  }\n  return obj\n}\n\n// Encode object to JSON with BigInts converted to decimal strings.\nexport const JsonEncode = <T = any>(obj: T): string => {\n  return JSON.stringify(obj, (_key, value) =>\n    typeof value === 'bigint' ? value.toString() : value\n  )\n}\n\n// Decode data (JSON string or already-parsed object) and convert declared BigInt string fields back to BigInt.\nexport const JsonDecode = <T = any>(data: string | any, typ: string = ''): T => {\n  let parsed: any = data\n  if (typeof data === 'string') {\n    try { parsed = JSON.parse(data) } catch (err) {\n      throw WebrpcBadResponseError.new({ cause: `JsonDecode: JSON.parse failed: ${(err as Error).message}` })\n    }\n  }\n  return decodeType(typ, parsed) as T\n}\n\n//\n// Errors\n//\n\ntype WebrpcErrorParams = { name?: string, code?: number, message?: string, status?: number, cause?: string }\n\nexport class WebrpcError extends Error {\n  code: number\n  status: number\n\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error.message)\n    this.name = error.name || 'WebrpcEndpointError'\n    this.code = typeof error.code === 'number' ? error.code : 0\n    this.message = error.message || `endpoint error`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcError.prototype)\n  }\n\n  static new(payload: any): WebrpcError {\n    return new this({ message: payload.message, code: payload.code, status: payload.status, cause: payload.cause })\n  }\n}\n\nexport class WebrpcEndpointError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcEndpoint'\n    this.code = typeof error.code === 'number' ? error.code : 0\n    this.message = error.message || `endpoint error`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcEndpointError.prototype)\n  }\n}\n\nexport class WebrpcRequestFailedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcRequestFailed'\n    this.code = typeof error.code === 'number' ? error.code : -1\n    this.message = error.message || `request failed`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcRequestFailedError.prototype)\n  }\n}\n\nexport class WebrpcBadRouteError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcBadRoute'\n    this.code = typeof error.code === 'number' ? error.code : -2\n    this.message = error.message || `bad route`\n    this.status = typeof error.status === 'number' ? error.status : 404\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcBadRouteError.prototype)\n  }\n}\n\nexport class WebrpcBadMethodError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcBadMethod'\n    this.code = typeof error.code === 'number' ? error.code : -3\n    this.message = error.message || `bad method`\n    this.status = typeof error.status === 'number' ? error.status : 405\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcBadMethodError.prototype)\n  }\n}\n\nexport class WebrpcBadRequestError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcBadRequest'\n    this.code = typeof error.code === 'number' ? error.code : -4\n    this.message = error.message || `bad request`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcBadRequestError.prototype)\n  }\n}\n\nexport class WebrpcBadResponseError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcBadResponse'\n    this.code = typeof error.code === 'number' ? error.code : -5\n    this.message = error.message || `bad response`\n    this.status = typeof error.status === 'number' ? error.status : 500\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcBadResponseError.prototype)\n  }\n}\n\nexport class WebrpcServerPanicError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcServerPanic'\n    this.code = typeof error.code === 'number' ? error.code : -6\n    this.message = error.message || `server panic`\n    this.status = typeof error.status === 'number' ? error.status : 500\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcServerPanicError.prototype)\n  }\n}\n\nexport class WebrpcInternalErrorError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcInternalError'\n    this.code = typeof error.code === 'number' ? error.code : -7\n    this.message = error.message || `internal error`\n    this.status = typeof error.status === 'number' ? error.status : 500\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcInternalErrorError.prototype)\n  }\n}\n\nexport class WebrpcClientAbortedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcClientAborted'\n    this.code = typeof error.code === 'number' ? error.code : -8\n    this.message = error.message || `request aborted by client`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcClientAbortedError.prototype)\n  }\n}\n\nexport class WebrpcStreamLostError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcStreamLost'\n    this.code = typeof error.code === 'number' ? error.code : -9\n    this.message = error.message || `stream lost`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcStreamLostError.prototype)\n  }\n}\n\nexport class WebrpcStreamFinishedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'WebrpcStreamFinished'\n    this.code = typeof error.code === 'number' ? error.code : -10\n    this.message = error.message || `stream finished`\n    this.status = typeof error.status === 'number' ? error.status : 200\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, WebrpcStreamFinishedError.prototype)\n  }\n}\n\n//\n// Schema errors\n//\n\nexport class UnauthorizedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'Unauthorized'\n    this.code = typeof error.code === 'number' ? error.code : 1000\n    this.message = error.message || `Unauthorized access`\n    this.status = typeof error.status === 'number' ? error.status : 401\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, UnauthorizedError.prototype)\n  }\n}\n\nexport class PermissionDeniedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'PermissionDenied'\n    this.code = typeof error.code === 'number' ? error.code : 1001\n    this.message = error.message || `Permission denied`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, PermissionDeniedError.prototype)\n  }\n}\n\nexport class SessionExpiredError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'SessionExpired'\n    this.code = typeof error.code === 'number' ? error.code : 1002\n    this.message = error.message || `Session expired`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, SessionExpiredError.prototype)\n  }\n}\n\nexport class MethodNotFoundError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'MethodNotFound'\n    this.code = typeof error.code === 'number' ? error.code : 1003\n    this.message = error.message || `Method not found`\n    this.status = typeof error.status === 'number' ? error.status : 404\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, MethodNotFoundError.prototype)\n  }\n}\n\nexport class RequestConflictError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'RequestConflict'\n    this.code = typeof error.code === 'number' ? error.code : 1004\n    this.message = error.message || `Conflict with target resource`\n    this.status = typeof error.status === 'number' ? error.status : 409\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, RequestConflictError.prototype)\n  }\n}\n\nexport class AbortedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'Aborted'\n    this.code = typeof error.code === 'number' ? error.code : 1005\n    this.message = error.message || `Request aborted`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, AbortedError.prototype)\n  }\n}\n\nexport class GeoblockedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'Geoblocked'\n    this.code = typeof error.code === 'number' ? error.code : 1006\n    this.message = error.message || `Geoblocked region`\n    this.status = typeof error.status === 'number' ? error.status : 451\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, GeoblockedError.prototype)\n  }\n}\n\nexport class RateLimitedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'RateLimited'\n    this.code = typeof error.code === 'number' ? error.code : 1007\n    this.message = error.message || `Rate-limited. Please slow down.`\n    this.status = typeof error.status === 'number' ? error.status : 429\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, RateLimitedError.prototype)\n  }\n}\n\nexport class ProjectNotFoundError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'ProjectNotFound'\n    this.code = typeof error.code === 'number' ? error.code : 1008\n    this.message = error.message || `Project not found`\n    this.status = typeof error.status === 'number' ? error.status : 401\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, ProjectNotFoundError.prototype)\n  }\n}\n\nexport class SecretKeyCorsDisallowedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'SecretKeyCorsDisallowed'\n    this.code = typeof error.code === 'number' ? error.code : 1009\n    this.message = error.message || `CORS disallowed. Admin API Secret Key can't be used from a web app.`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, SecretKeyCorsDisallowedError.prototype)\n  }\n}\n\nexport class AccessKeyNotFoundError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'AccessKeyNotFound'\n    this.code = typeof error.code === 'number' ? error.code : 1101\n    this.message = error.message || `Access key not found`\n    this.status = typeof error.status === 'number' ? error.status : 401\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, AccessKeyNotFoundError.prototype)\n  }\n}\n\nexport class AccessKeyMismatchError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'AccessKeyMismatch'\n    this.code = typeof error.code === 'number' ? error.code : 1102\n    this.message = error.message || `Access key mismatch`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, AccessKeyMismatchError.prototype)\n  }\n}\n\nexport class InvalidOriginError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'InvalidOrigin'\n    this.code = typeof error.code === 'number' ? error.code : 1103\n    this.message = error.message || `Invalid origin for Access Key`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, InvalidOriginError.prototype)\n  }\n}\n\nexport class InvalidServiceError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'InvalidService'\n    this.code = typeof error.code === 'number' ? error.code : 1104\n    this.message = error.message || `Service not enabled for Access key`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, InvalidServiceError.prototype)\n  }\n}\n\nexport class UnauthorizedUserError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'UnauthorizedUser'\n    this.code = typeof error.code === 'number' ? error.code : 1105\n    this.message = error.message || `Unauthorized user`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, UnauthorizedUserError.prototype)\n  }\n}\n\nexport class InvalidChainError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'InvalidChain'\n    this.code = typeof error.code === 'number' ? error.code : 1106\n    this.message = error.message || `Network not enabled for Access key`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, InvalidChainError.prototype)\n  }\n}\n\nexport class QuotaExceededError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'QuotaExceeded'\n    this.code = typeof error.code === 'number' ? error.code : 1200\n    this.message = error.message || `Quota request exceeded`\n    this.status = typeof error.status === 'number' ? error.status : 429\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, QuotaExceededError.prototype)\n  }\n}\n\nexport class QuotaRateLimitError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'QuotaRateLimit'\n    this.code = typeof error.code === 'number' ? error.code : 1201\n    this.message = error.message || `Quota rate limit exceeded`\n    this.status = typeof error.status === 'number' ? error.status : 429\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, QuotaRateLimitError.prototype)\n  }\n}\n\nexport class NoDefaultKeyError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'NoDefaultKey'\n    this.code = typeof error.code === 'number' ? error.code : 1300\n    this.message = error.message || `No default access key found`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, NoDefaultKeyError.prototype)\n  }\n}\n\nexport class MaxAccessKeysError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'MaxAccessKeys'\n    this.code = typeof error.code === 'number' ? error.code : 1301\n    this.message = error.message || `Access keys limit reached`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, MaxAccessKeysError.prototype)\n  }\n}\n\nexport class AtLeastOneKeyError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'AtLeastOneKey'\n    this.code = typeof error.code === 'number' ? error.code : 1302\n    this.message = error.message || `You need at least one Access Key`\n    this.status = typeof error.status === 'number' ? error.status : 403\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, AtLeastOneKeyError.prototype)\n  }\n}\n\nexport class TimeoutError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'Timeout'\n    this.code = typeof error.code === 'number' ? error.code : 1900\n    this.message = error.message || `Request timed out`\n    this.status = typeof error.status === 'number' ? error.status : 408\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, TimeoutError.prototype)\n  }\n}\n\nexport class NotFoundError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'NotFound'\n    this.code = typeof error.code === 'number' ? error.code : 2000\n    this.message = error.message || `Resource not found`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, NotFoundError.prototype)\n  }\n}\n\nexport class InvalidArgumentError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'InvalidArgument'\n    this.code = typeof error.code === 'number' ? error.code : 2001\n    this.message = error.message || `Invalid argument`\n    this.status = typeof error.status === 'number' ? error.status : 400\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, InvalidArgumentError.prototype)\n  }\n}\n\nexport class NotImplementedError extends WebrpcError {\n  constructor(error: WebrpcErrorParams = {}) {\n    super(error)\n    this.name = error.name || 'NotImplemented'\n    this.code = typeof error.code === 'number' ? error.code : 9999\n    this.message = error.message || `Not Implemented`\n    this.status = typeof error.status === 'number' ? error.status : 500\n    if (error.cause !== undefined) this.cause = error.cause\n    Object.setPrototypeOf(this, NotImplementedError.prototype)\n  }\n}\n\nexport enum errors {\n  WebrpcEndpoint = 'WebrpcEndpoint',\n  WebrpcRequestFailed = 'WebrpcRequestFailed',\n  WebrpcBadRoute = 'WebrpcBadRoute',\n  WebrpcBadMethod = 'WebrpcBadMethod',\n  WebrpcBadRequest = 'WebrpcBadRequest',\n  WebrpcBadResponse = 'WebrpcBadResponse',\n  WebrpcServerPanic = 'WebrpcServerPanic',\n  WebrpcInternalError = 'WebrpcInternalError',\n  WebrpcClientAborted = 'WebrpcClientAborted',\n  WebrpcStreamLost = 'WebrpcStreamLost',\n  WebrpcStreamFinished = 'WebrpcStreamFinished',\n  Unauthorized = 'Unauthorized',\n  PermissionDenied = 'PermissionDenied',\n  SessionExpired = 'SessionExpired',\n  MethodNotFound = 'MethodNotFound',\n  RequestConflict = 'RequestConflict',\n  Aborted = 'Aborted',\n  Geoblocked = 'Geoblocked',\n  RateLimited = 'RateLimited',\n  ProjectNotFound = 'ProjectNotFound',\n  SecretKeyCorsDisallowed = 'SecretKeyCorsDisallowed',\n  AccessKeyNotFound = 'AccessKeyNotFound',\n  AccessKeyMismatch = 'AccessKeyMismatch',\n  InvalidOrigin = 'InvalidOrigin',\n  InvalidService = 'InvalidService',\n  UnauthorizedUser = 'UnauthorizedUser',\n  InvalidChain = 'InvalidChain',\n  QuotaExceeded = 'QuotaExceeded',\n  QuotaRateLimit = 'QuotaRateLimit',\n  NoDefaultKey = 'NoDefaultKey',\n  MaxAccessKeys = 'MaxAccessKeys',\n  AtLeastOneKey = 'AtLeastOneKey',\n  Timeout = 'Timeout',\n  NotFound = 'NotFound',\n  InvalidArgument = 'InvalidArgument',\n  NotImplemented = 'NotImplemented',\n}\n\nexport enum WebrpcErrorCodes {\n  WebrpcEndpoint = 0,\n  WebrpcRequestFailed = -1,\n  WebrpcBadRoute = -2,\n  WebrpcBadMethod = -3,\n  WebrpcBadRequest = -4,\n  WebrpcBadResponse = -5,\n  WebrpcServerPanic = -6,\n  WebrpcInternalError = -7,\n  WebrpcClientAborted = -8,\n  WebrpcStreamLost = -9,\n  WebrpcStreamFinished = -10,\n  Unauthorized = 1000,\n  PermissionDenied = 1001,\n  SessionExpired = 1002,\n  MethodNotFound = 1003,\n  RequestConflict = 1004,\n  Aborted = 1005,\n  Geoblocked = 1006,\n  RateLimited = 1007,\n  ProjectNotFound = 1008,\n  SecretKeyCorsDisallowed = 1009,\n  AccessKeyNotFound = 1101,\n  AccessKeyMismatch = 1102,\n  InvalidOrigin = 1103,\n  InvalidService = 1104,\n  UnauthorizedUser = 1105,\n  InvalidChain = 1106,\n  QuotaExceeded = 1200,\n  QuotaRateLimit = 1201,\n  NoDefaultKey = 1300,\n  MaxAccessKeys = 1301,\n  AtLeastOneKey = 1302,\n  Timeout = 1900,\n  NotFound = 2000,\n  InvalidArgument = 2001,\n  NotImplemented = 9999,\n}\n\nexport const webrpcErrorByCode: { [code: number]: any } = {\n  [0]: WebrpcEndpointError,\n  [-1]: WebrpcRequestFailedError,\n  [-2]: WebrpcBadRouteError,\n  [-3]: WebrpcBadMethodError,\n  [-4]: WebrpcBadRequestError,\n  [-5]: WebrpcBadResponseError,\n  [-6]: WebrpcServerPanicError,\n  [-7]: WebrpcInternalErrorError,\n  [-8]: WebrpcClientAbortedError,\n  [-9]: WebrpcStreamLostError,\n  [-10]: WebrpcStreamFinishedError,\n  [1000]: UnauthorizedError,\n  [1001]: PermissionDeniedError,\n  [1002]: SessionExpiredError,\n  [1003]: MethodNotFoundError,\n  [1004]: RequestConflictError,\n  [1005]: AbortedError,\n  [1006]: GeoblockedError,\n  [1007]: RateLimitedError,\n  [1008]: ProjectNotFoundError,\n  [1009]: SecretKeyCorsDisallowedError,\n  [1101]: AccessKeyNotFoundError,\n  [1102]: AccessKeyMismatchError,\n  [1103]: InvalidOriginError,\n  [1104]: InvalidServiceError,\n  [1105]: UnauthorizedUserError,\n  [1106]: InvalidChainError,\n  [1200]: QuotaExceededError,\n  [1201]: QuotaRateLimitError,\n  [1300]: NoDefaultKeyError,\n  [1301]: MaxAccessKeysError,\n  [1302]: AtLeastOneKeyError,\n  [1900]: TimeoutError,\n  [2000]: NotFoundError,\n  [2001]: InvalidArgumentError,\n  [9999]: NotImplementedError,\n}\n\n//\n// Webrpc\n//\n\nexport const WebrpcHeader = \"Webrpc\"\n\nexport const WebrpcHeaderValue = \"webrpc@v0.31.1;gen-typescript@v0.23.1;api-client@v0-25.11.10+051e186\"\n\ntype WebrpcGenVersions = {\n  WebrpcGenVersion: string;\n  codeGenName: string;\n  codeGenVersion: string;\n  schemaName: string;\n  schemaVersion: string;\n};\n\nexport function VersionFromHeader(headers: Headers): WebrpcGenVersions {\n  const headerValue = headers.get(WebrpcHeader)\n  if (!headerValue) {\n    return {\n      WebrpcGenVersion: \"\",\n      codeGenName: \"\",\n      codeGenVersion: \"\",\n      schemaName: \"\",\n      schemaVersion: \"\",\n    };\n  }\n\n  return parseWebrpcGenVersions(headerValue)\n}\n\nfunction parseWebrpcGenVersions(header: string): WebrpcGenVersions {\n  const versions = header.split(\";\")\n  if (versions.length < 3) {\n    return {\n      WebrpcGenVersion: \"\",\n      codeGenName: \"\",\n      codeGenVersion: \"\",\n      schemaName: \"\",\n      schemaVersion: \"\",\n    };\n  }\n\n  const [_, WebrpcGenVersion] = versions[0]!.split(\"@\")\n  const [codeGenName, codeGenVersion] = versions[1]!.split(\"@\")\n  const [schemaName, schemaVersion] = versions[2]!.split(\"@\")\n\n  return {\n    WebrpcGenVersion: WebrpcGenVersion ?? \"\",\n    codeGenName: codeGenName ?? \"\",\n    codeGenVersion: codeGenVersion ?? \"\",\n    schemaName: schemaName ?? \"\",\n    schemaVersion: schemaVersion ?? \"\",\n  };\n}\n","import { decodeFunctionData, erc20Abi, type Hex } from 'viem';\n\ninterface DecodedApprovalData {\n\tspender: string;\n\tvalue: bigint;\n}\n\nexport function decodeERC20Approval(calldata: Hex): DecodedApprovalData {\n\tconst decoded = decodeFunctionData({\n\t\tabi: erc20Abi,\n\t\tdata: calldata,\n\t});\n\n\tif (decoded.functionName !== 'approve') {\n\t\tthrow new Error('Not an ERC20 approval transaction');\n\t}\n\n\tconst [spender, value] = decoded.args;\n\n\treturn {\n\t\tspender,\n\t\tvalue,\n\t};\n}\n","import type { Step } from '@0xsequence/api-client';\nimport type {\n\tSelectPaymentSettings,\n\tTransactionOnRampProvider,\n} from '@0xsequence/checkout';\nimport { skipToken, useQuery } from '@tanstack/react-query';\nimport type { Address, Hex } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { StepType } from '../../../../../../../../api/src/adapters/marketplace/marketplace.gen';\nimport type { CheckoutMode, MarketplaceKind } from '../../../../../../types';\nimport { decodeERC20Approval } from '../../../../../../utils/decode/erc20';\nimport { getQueryClient } from '../../../../../_internal';\nimport type { ActionButton } from '../../../_internal/types';\nimport { useBuyModalContext } from '../../internal/buyModalContext';\nimport {\n\tbuyModalStore,\n\tisMarketProps,\n\tuseBuyAnalyticsId,\n\tuseBuyModalProps,\n} from '../../store';\n\ninterface GetBuyCollectableParams {\n\taddress: Address;\n\tchainId: number;\n\tcollectionAddress: string;\n\ttokenId: bigint | undefined;\n\tmarketplaceKind: MarketplaceKind | undefined;\n\torderId: string;\n\tquantity: number;\n\tpriceCurrencyAddress: string;\n\tcustomCreditCardProviderCallback: ((buyStep: Step) => void) | undefined;\n\tskipNativeBalanceCheck: boolean | undefined;\n\tnativeTokenAddress: string | undefined;\n\tbuyAnalyticsId: string;\n\tonRampProvider: TransactionOnRampProvider | undefined;\n\tcheckoutMode: CheckoutMode | undefined;\n\tsteps: Step[] | undefined;\n\tmarketplaceType: 'market' | 'shop';\n\tsuccessActionButtons?: ActionButton[];\n}\n\nexport const getBuyCollectableParams = async ({\n\taddress,\n\tchainId,\n\tcollectionAddress,\n\ttokenId,\n\tsuccessActionButtons,\n\tpriceCurrencyAddress,\n\tcustomCreditCardProviderCallback,\n\tmarketplaceKind,\n\torderId,\n\tquantity,\n\tskipNativeBalanceCheck,\n\tnativeTokenAddress,\n\tbuyAnalyticsId,\n\tonRampProvider,\n\tcheckoutMode,\n\tsteps,\n\tmarketplaceType,\n}: GetBuyCollectableParams) => {\n\tconst checkoutOptions =\n\t\ttypeof checkoutMode === 'object' ? checkoutMode.options : undefined;\n\n\tconst buyStep = steps?.find((step) => step.id === StepType.buy);\n\tconst approveStep = steps?.find((step) => step.id === StepType.tokenApproval);\n\n\tconst approvedSpenderAddress = approveStep\n\t\t? decodeERC20Approval(approveStep.data as Hex).spender\n\t\t: undefined;\n\n\tif (!buyStep) {\n\t\tthrow new Error('Buy step not found');\n\t}\n\n\tconst creditCardProviders = customCreditCardProviderCallback\n\t\t? ['custom']\n\t\t: checkoutOptions?.nftCheckout || [];\n\n\tconst supplementaryAnalyticsInfo = (\n\t\tmarketplaceType === 'market'\n\t\t\t? {\n\t\t\t\t\trequestId: orderId,\n\t\t\t\t\t...(marketplaceKind && { marketplaceKind }),\n\t\t\t\t\tbuyAnalyticsId,\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\tmarketplaceType: 'shop',\n\t\t\t\t}\n\t) as Record<string, string>;\n\n\tconst totalPrice = BigInt(buyStep.price) * BigInt(quantity);\n\n\treturn {\n\t\tchain: chainId,\n\t\tcollectibles: [\n\t\t\t{\n\t\t\t\ttokenId: tokenId?.toString() ?? '',\n\t\t\t\tquantity: quantity.toString(),\n\t\t\t},\n\t\t],\n\t\tcurrencyAddress: priceCurrencyAddress,\n\t\tprice: totalPrice.toString(),\n\t\ttargetContractAddress: buyStep.to,\n\t\tapprovedSpenderAddress,\n\t\ttxData: buyStep.data as Hex,\n\t\tcollectionAddress,\n\t\trecipientAddress: address,\n\t\tcreditCardProviders,\n\t\tsupplementaryAnalyticsInfo,\n\t\tonClose: () => {\n\t\t\tconst queryClient = getQueryClient();\n\t\t\tqueryClient.invalidateQueries({\n\t\t\t\tpredicate: (query) => !query.meta?.persistent,\n\t\t\t});\n\t\t\tbuyModalStore.send({ type: 'close' });\n\t\t},\n\t\tskipNativeBalanceCheck,\n\t\tnativeTokenAddress,\n\t\t...(customCreditCardProviderCallback && {\n\t\t\tcustomProviderCallback: () => {\n\t\t\t\tcustomCreditCardProviderCallback(buyStep as Step);\n\t\t\t\tbuyModalStore.send({ type: 'close' });\n\t\t\t},\n\t\t}),\n\t\tonRampProvider,\n\t\tsuccessActionButtons,\n\t} satisfies SelectPaymentSettings;\n};\n\ninterface usePaymentModalParams {\n\tquantity: number | undefined;\n\tmarketplaceKind: MarketplaceKind | undefined;\n\tpriceCurrencyAddress: string | undefined;\n\tsteps: Step[] | undefined;\n\tmarketplaceType: 'market' | 'shop';\n}\n\nexport const usePaymentModalParams = (args: usePaymentModalParams) => {\n\tconst {\n\t\tmarketplaceKind,\n\t\tpriceCurrencyAddress,\n\t\tquantity,\n\t\tsteps,\n\t\tmarketplaceType,\n\t} = args;\n\n\tconst buyModalProps = useBuyModalProps();\n\tconst { checkoutMode } = useBuyModalContext();\n\tconst {\n\t\tchainId,\n\t\tcollectionAddress,\n\t\tskipNativeBalanceCheck,\n\t\tnativeTokenAddress,\n\t\tonRampProvider,\n\t\tsuccessActionButtons,\n\t} = buyModalProps;\n\n\t// Extract Marketplace-specific properties using type guard\n\tconst tokenId = isMarketProps(buyModalProps)\n\t\t? buyModalProps.tokenId\n\t\t: buyModalProps.items[0].tokenId;\n\tconst orderId = isMarketProps(buyModalProps) ? buyModalProps.orderId : '';\n\tconst customCreditCardProviderCallback = isMarketProps(buyModalProps)\n\t\t? buyModalProps.customCreditCardProviderCallback\n\t\t: undefined;\n\n\tconst buyAnalyticsId = useBuyAnalyticsId();\n\tconst { address } = useAccount();\n\n\tconst queryEnabled =\n\t\t!!address &&\n\t\t!!priceCurrencyAddress &&\n\t\t!!quantity &&\n\t\t!!steps &&\n\t\t(marketplaceType === 'market' ? !!marketplaceKind : true);\n\n\treturn useQuery({\n\t\tqueryKey: ['buyCollectableParams', buyModalProps, args],\n\t\tqueryFn: queryEnabled\n\t\t\t? () =>\n\t\t\t\t\tgetBuyCollectableParams({\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\taddress,\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t\tmarketplaceKind,\n\t\t\t\t\t\torderId,\n\t\t\t\t\t\tquantity,\n\t\t\t\t\t\tpriceCurrencyAddress,\n\t\t\t\t\t\tsuccessActionButtons,\n\t\t\t\t\t\tcustomCreditCardProviderCallback,\n\t\t\t\t\t\tskipNativeBalanceCheck,\n\t\t\t\t\t\tnativeTokenAddress,\n\t\t\t\t\t\tbuyAnalyticsId,\n\t\t\t\t\t\tonRampProvider,\n\t\t\t\t\t\tcheckoutMode,\n\t\t\t\t\t\tsteps,\n\t\t\t\t\t\tmarketplaceType,\n\t\t\t\t\t})\n\t\t\t: skipToken,\n\t\tretry: false,\n\t});\n};\n","'use client';\n\nimport {\n\ttype SelectPaymentSettings,\n\tuseSelectPaymentModal,\n} from '@0xsequence/checkout';\nimport { Spinner, Text } from '@0xsequence/design-system';\nimport { useEffect } from 'react';\nimport { ContractType, type Step } from '../../../../../_internal';\nimport { useOrders } from '../../../../../hooks/data/orders/useOrders';\nimport { ActionModal } from '../../../_internal/components/baseModal';\nimport {\n\tbuyModalStore,\n\tisMarketProps,\n\tisShopProps,\n\tuseBuyModalProps,\n\tusePaymentModalState,\n\tuseQuantity,\n} from '../../store';\nimport { ERC1155QuantityModal } from './ERC1155QuantityModal';\nimport { usePaymentModalParams } from './usePaymentModalParams';\n\ntype SequenceCheckoutProps = {\n\tsteps: Step[] | undefined;\n\tcontractType: ContractType;\n};\n\nconst SequenceCheckout = ({ steps, contractType }: SequenceCheckoutProps) => {\n\tconst modalProps = useBuyModalProps();\n\tconst isMarket = isMarketProps(modalProps);\n\tconst isShop = isShopProps(modalProps);\n\tconst paymentModalState = usePaymentModalState();\n\n\tconst { chainId, collectionAddress, hideQuantitySelector } = modalProps;\n\tconst orderId = isMarket ? modalProps.orderId : '';\n\tconst marketplaceKind = isMarket ? modalProps.marketplace : undefined;\n\n\tconst { data: marketOrders } = useOrders({\n\t\tchainId,\n\t\tinput: [\n\t\t\t{\n\t\t\t\tcontractAddress: collectionAddress,\n\t\t\t\torderId,\n\t\t\t\tmarketplace: marketplaceKind!,\n\t\t\t},\n\t\t],\n\t\tquery: {\n\t\t\tenabled: isMarket && !!orderId,\n\t\t},\n\t});\n\tconst marketOrder = marketOrders?.orders[0];\n\n\tconst quantity = useQuantity();\n\tconst priceCurrencyAddress = isMarket\n\t\t? marketOrder?.priceCurrencyAddress\n\t\t: modalProps.salePrice.currencyAddress;\n\n\tconst paymentModalParams = usePaymentModalParams({\n\t\tquantity,\n\t\tmarketplaceKind,\n\t\tpriceCurrencyAddress,\n\t\tsteps,\n\t\tmarketplaceType: isMarket ? 'market' : 'shop',\n\t});\n\n\tif (\n\t\t!hideQuantitySelector &&\n\t\tcontractType === ContractType.ERC1155 &&\n\t\tpaymentModalState === 'idle'\n\t) {\n\t\tconst quantityRemaining = isMarket\n\t\t\t? marketOrder?.quantityRemaining\n\t\t\t: modalProps.quantityRemaining;\n\t\tconst unlimitedSupply =\n\t\t\tisShop && modalProps.unlimitedSupply ? modalProps.unlimitedSupply : false;\n\n\t\treturn (\n\t\t\t<ERC1155QuantityModal\n\t\t\t\torder={marketOrder}\n\t\t\t\tcardType={isMarket ? 'market' : 'shop'}\n\t\t\t\tsalePrice={isShop ? modalProps.salePrice : undefined}\n\t\t\t\tquantityRemaining={quantityRemaining ?? 0n}\n\t\t\t\tunlimitedSupply={unlimitedSupply}\n\t\t\t\tchainId={chainId}\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (paymentModalState === 'closed') {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ActionModal\n\t\t\tonClose={() => {\n\t\t\t\tbuyModalStore.send({ type: 'close' });\n\t\t\t}}\n\t\t\ttype=\"buy\"\n\t\t\tchainId={chainId}\n\t\t\tqueries={{ paymentModalParams }}\n\t\t\ttitle=\"Checkout\"\n\t\t\tonErrorDismiss={() => {\n\t\t\t\tbuyModalStore.send({ type: 'close' });\n\t\t\t}}\n\t\t\tonErrorAction={() => {\n\t\t\t\tbuyModalStore.send({ type: 'close' });\n\t\t\t}}\n\t\t>\n\t\t\t{({ paymentModalParams }) => {\n\t\t\t\tif (!steps)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"flex h-24 items-center justify-center gap-4\">\n\t\t\t\t\t\t\t<Spinner size=\"lg\" />\n\t\t\t\t\t\t\t<Text className=\"pulse\">Loading checkout</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\n\t\t\t\treturn <PaymentModalOpener paymentModalParams={paymentModalParams} />;\n\t\t\t}}\n\t\t</ActionModal>\n\t);\n};\n\nconst PaymentModalOpener = ({\n\tpaymentModalParams,\n}: {\n\tpaymentModalParams: SelectPaymentSettings;\n}) => {\n\tconst { openSelectPaymentModal } = useSelectPaymentModal();\n\n\tuseEffect(() => {\n\t\tif (paymentModalParams) {\n\t\t\topenSelectPaymentModal(paymentModalParams);\n\t\t\tbuyModalStore.send({ type: 'openPaymentModal' });\n\t\t}\n\t}, [paymentModalParams, openSelectPaymentModal]);\n\n\treturn null;\n};\n\nexport default SequenceCheckout;\n","export const TRAILS_CUSTOM_CSS = `\n:host,\n*,\n[data-theme=\"dark\"],\n[data-theme=dark] {\n  --trails-bg-primary: #000 !important;\n  --trails-bg-secondary: #181818 !important;\n  --trails-bg-tertiary: #ffffff0d !important;\n  --trails-bg-card: #363636b3 !important;\n  --trails-bg-overlay: #000000b3 !important;\n  \n  --trails-text-primary: #fff !important;\n  --trails-text-secondary: #fffc !important;\n  --trails-text-tertiary: #ffffff80 !important;\n  --trails-text-muted: #ffffff80 !important;\n  --trails-text-inverse: #000 !important;\n  \n  --trails-border-primary: #ffffff40 !important;\n  --trails-border-secondary: #ffffff80 !important;\n  --trails-border-tertiary: #ffffff1a !important;\n  \n  --trails-hover-bg: #ffffff40 !important;\n  --trails-hover-text: #fff !important;\n  \n  --trails-input-bg: #ffffff1a !important;\n  --trails-input-border: #ffffff40 !important;\n  --trails-input-text: #fff !important;\n  --trails-input-placeholder: #ffffff80 !important;\n  --trails-input-focus-border: #ffffff80 !important;\n  \n  --trails-dropdown-bg: #363636b3 !important;\n  --trails-dropdown-border: #ffffff40 !important;\n  --trails-dropdown-text: #fff !important;\n  --trails-dropdown-hover-bg: #ffffff40 !important;\n  --trails-dropdown-selected-bg: #ffffff26 !important;\n  --trails-dropdown-selected-text: #fff !important;\n  --trails-dropdown-focus-border: #ffffff80 !important;\n  \n  --trails-modal-button-bg: #ffffff26 !important;\n  --trails-modal-button-hover-bg: #ffffff40 !important;\n  --trails-modal-button-text: #fff !important;\n  --trails-modal-button-shadow: 0 1px 2px 0 #0000001a !important;\n  \n  --trails-list-bg: #ffffff1a !important;\n  --trails-list-border: #ffffff40 !important;\n  --trails-list-hover-bg: #ffffff40 !important;\n  \n  --trails-widget-border: none !important;\n  --trails-border-radius-widget: 32px !important;\n  --trails-border-radius-button: 32px !important;\n  --trails-border-radius-input: 32px !important;\n  --trails-border-radius-dropdown: 32px !important;\n  --trails-border-radius-container: 8px !important;\n  --trails-border-radius-list: 8px !important;\n  --trails-border-radius-list-button: 12px !important;\n  --trails-border-radius-large-button: 16px !important;\n  \n  --trails-success-bg: #1fc26633 !important;\n  --trails-success-text: #1fc266 !important;\n  --trails-success-border: #1fc2664d !important;\n  \n  --trails-warning-bg: #f4b03e33 !important;\n  --trails-warning-text: #f4b03e !important;\n  --trails-warning-border: #f4b03e4d !important;\n  \n  --trails-error-bg: #c2501f33 !important;\n  --trails-error-text: #c2501f !important;\n  --trails-error-border: #c2501f4d !important;\n  \n  --trails-shadow: 0 1px 3px 0 #0000004d, 0 1px 2px -1px #0000004d !important;\n  \n  --trails-gradient-primary: linear-gradient(89.69deg, #4411e1 .27%, #7537f9 99.73%) !important;\n  --trails-gradient-secondary: linear-gradient(32.51deg, #951990 -15.23%, #3a35b1 48.55%, #20a8b0 100%) !important;\n  --trails-gradient-backdrop: linear-gradient(243.18deg, #5634bdd9 0%, #3129dfd9 63.54%, #076295d9 100%) !important;\n}`;\n","'use client';\n\nimport type { ContractType } from '@0xsequence/api-client';\nimport { Modal, Spinner, Text } from '@0xsequence/design-system';\nimport { TrailsWidget } from '0xtrails/widget';\nimport { MODAL_OVERLAY_PROPS } from '../../_internal/components/consts';\nimport { useBuyModalContext } from '../internal/buyModalContext';\nimport { CryptoPaymentModal } from './CryptoPaymentModal';\nimport SequenceCheckout from './sequence-checkout/SequenceCheckoutNew';\nimport { TRAILS_CUSTOM_CSS } from './TrailsCss';\n\nexport const BuyModalContent = () => {\n\tconst {\n\t\tconfig,\n\t\tmodalProps,\n\t\tclose,\n\t\tsteps,\n\t\tbuyStep,\n\t\tisLoading,\n\t\tcollection,\n\t\tcheckoutMode,\n\t\tformattedAmount,\n\t\tcurrencyAddress,\n\t\thandleTrailsSuccess,\n\t\thandleTransactionSuccess,\n\t} = useBuyModalContext();\n\n\tif (\n\t\ttypeof checkoutMode === 'object' &&\n\t\tcheckoutMode.mode === 'sequence-checkout'\n\t) {\n\t\treturn (\n\t\t\t<SequenceCheckout\n\t\t\t\tsteps={steps}\n\t\t\t\tcontractType={collection?.type as ContractType}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tisDismissible\n\t\t\tonClose={close}\n\t\t\toverlayProps={MODAL_OVERLAY_PROPS}\n\t\t\tcontentProps={{\n\t\t\t\tstyle: {\n\t\t\t\t\twidth: '450px',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t},\n\t\t\t\tclassName: 'overflow-y-auto',\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"relative flex grow flex-col items-center gap-4 p-6\">\n\t\t\t\t<Text className=\"w-full text-center font-body font-bold text-large text-text-100\">\n\t\t\t\t\tComplete Your Purchase\n\t\t\t\t</Text>\n\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<div className=\"flex w-full items-center justify-center py-8\">\n\t\t\t\t\t\t<div className=\"flex flex-col items-center gap-4\">\n\t\t\t\t\t\t\t<Spinner size=\"lg\" />\n\t\t\t\t\t\t\t<Text className=\"text-text-80\">Loading payment options...</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{checkoutMode === 'trails' && buyStep && (\n\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t<TrailsWidget\n\t\t\t\t\t\t\tapiKey={config.projectAccessKey}\n\t\t\t\t\t\t\ttoChainId={modalProps.chainId}\n\t\t\t\t\t\t\ttoAddress={buyStep.to}\n\t\t\t\t\t\t\ttoToken={currencyAddress}\n\t\t\t\t\t\t\ttoCalldata={buyStep.data}\n\t\t\t\t\t\t\ttoAmount={formattedAmount}\n\t\t\t\t\t\t\trenderInline={true}\n\t\t\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\t\t\tmode=\"pay\"\n\t\t\t\t\t\t\tcustomCss={TRAILS_CUSTOM_CSS}\n\t\t\t\t\t\t\tonDestinationConfirmation={handleTrailsSuccess}\n\t\t\t\t\t\t\tpayMessage=\"{TO_TOKEN_IMAGE}{TO_AMOUNT}{TO_TOKEN_SYMBOL}{TO_AMOUNT_USD}\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{checkoutMode === 'crypto' && steps && (\n\t\t\t\t\t<CryptoPaymentModal\n\t\t\t\t\t\tchainId={modalProps.chainId}\n\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\tonSuccess={handleTransactionSuccess}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","'use client';\n\nimport { useIsOpen } from '../store';\nimport { BuyModalContent } from './BuyModalContent';\n\nexport const BuyModal = () => {\n\tconst isOpen = useIsOpen();\n\n\tif (!isOpen) {\n\t\treturn null;\n\t}\n\n\treturn <BuyModalContent />;\n};\n","'use client';\n\nimport { Button, Text } from '@0xsequence/design-system';\nimport type { Hex } from 'viem';\nimport type { Price } from '../../../../../../types';\nimport {\n\tuseCollectibleMarketLowestListing,\n\tuseCurrencyComparePrices,\n} from '../../../../../hooks';\n\nexport default function FloorPriceText({\n\tchainId,\n\tcollectionAddress,\n\ttokenId,\n\tprice,\n\tonBuyNow,\n}: {\n\tchainId: number;\n\tcollectionAddress: Hex;\n\ttokenId: bigint;\n\tprice: Price;\n\tonBuyNow?: () => void;\n}) {\n\tconst { data: listing, isLoading: listingLoading } =\n\t\tuseCollectibleMarketLowestListing({\n\t\t\ttokenId,\n\t\t\tchainId,\n\t\t\tcollectionAddress,\n\t\t\tfilter: {\n\t\t\t\tcurrencies: [price.currency.contractAddress],\n\t\t\t},\n\t\t});\n\n\tconst floorPriceRaw = listing?.priceAmount;\n\tconst floorPriceFormatted = listing?.priceAmountFormatted;\n\n\tconst { data: priceComparison, isLoading: comparisonLoading } =\n\t\tuseCurrencyComparePrices({\n\t\t\tchainId,\n\t\t\tpriceAmountRaw: price.amountRaw?.toString() || '0',\n\t\t\tpriceCurrencyAddress: price.currency.contractAddress,\n\t\t\tcompareToPriceAmountRaw: floorPriceRaw?.toString() || '0',\n\t\t\tcompareToPriceCurrencyAddress:\n\t\t\t\tlisting?.priceCurrencyAddress || price.currency.contractAddress,\n\t\t\tquery: {\n\t\t\t\tenabled: !!floorPriceRaw && !listingLoading && price.amountRaw !== 0n,\n\t\t\t},\n\t\t});\n\n\tif (\n\t\t!floorPriceRaw ||\n\t\tlistingLoading ||\n\t\tprice.amountRaw === 0n ||\n\t\tcomparisonLoading\n\t) {\n\t\treturn null;\n\t}\n\n\tlet floorPriceDifferenceText = 'Same as floor price';\n\tlet showBuyNowButton = false;\n\n\tif (priceComparison) {\n\t\tif (priceComparison.status === 'same') {\n\t\t\tfloorPriceDifferenceText = 'Same as floor price';\n\t\t\tshowBuyNowButton = true;\n\t\t} else if (priceComparison.status === 'below') {\n\t\t\tfloorPriceDifferenceText = `${priceComparison.percentageDifferenceFormatted}% below floor price`;\n\t\t} else {\n\t\t\tfloorPriceDifferenceText = `${priceComparison.percentageDifferenceFormatted}% above floor price`;\n\t\t\tshowBuyNowButton = true;\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"flex w-full flex-wrap items-center justify-between gap-2\">\n\t\t\t<Text className=\"text-left font-body font-medium text-muted text-xs\">\n\t\t\t\t{floorPriceDifferenceText}\n\t\t\t</Text>\n\n\t\t\t{showBuyNowButton && onBuyNow && (\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\tclassName=\"text-indigo-400 text-xs\"\n\t\t\t\t\tonClick={onBuyNow}\n\t\t\t\t>\n\t\t\t\t\tBuy for {floorPriceFormatted} {price.currency.symbol}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","'use client';\n\nimport {\n\tButton,\n\tChevronDownIcon,\n\tDropdownMenu,\n\tDropdownMenuCheckboxItem,\n\tDropdownMenuContent,\n\tDropdownMenuPortal,\n\tDropdownMenuTrigger,\n\tText,\n} from '@0xsequence/design-system';\nimport { type ReactNode, useState } from 'react';\n\nexport interface SelectItem {\n\tvalue: string;\n\tcontent: ReactNode;\n\tdisabled?: boolean;\n}\n\ninterface CustomSelectProps {\n\titems: SelectItem[];\n\tonValueChange?: (value: string) => void;\n\tdefaultValue?: SelectItem;\n\tplaceholder?: string;\n\tdisabled?: boolean;\n\tbackgroundColor?: string;\n\tclassName?: string;\n\ttestId?: string;\n}\n\nexport const CustomSelect = ({\n\titems,\n\tonValueChange,\n\tdefaultValue,\n\tplaceholder = 'Select an option',\n\tdisabled = false,\n\tclassName,\n\ttestId = 'custom-select',\n}: CustomSelectProps) => {\n\tconst [selectedItem, setSelectedItem] = useState<SelectItem | undefined>(\n\t\tdefaultValue,\n\t);\n\n\tconst handleValueChange = (item: SelectItem) => {\n\t\tsetSelectedItem(item);\n\t\tonValueChange?.(item.value);\n\t};\n\n\treturn (\n\t\t<DropdownMenu>\n\t\t\t<DropdownMenuTrigger asChild disabled={disabled}>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\tclassName={`py-1.5 pl-3 hover:bg-overlay-light ${className || ''}`}\n\t\t\t\t\tdata-testid={`${testId}-trigger`}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"flex items-center justify-center gap-1 truncate pr-3\">\n\t\t\t\t\t\t<Text variant=\"xsmall\" color=\"text100\" fontWeight=\"bold\">\n\t\t\t\t\t\t\t{selectedItem ? selectedItem.content : placeholder}\n\t\t\t\t\t\t</Text>\n\n\t\t\t\t\t\t<ChevronDownIcon size=\"xs\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Button>\n\t\t\t</DropdownMenuTrigger>\n\n\t\t\t<DropdownMenuPortal>\n\t\t\t\t<DropdownMenuContent\n\t\t\t\t\talign=\"end\"\n\t\t\t\t\tside=\"bottom\"\n\t\t\t\t\tsideOffset={8}\n\t\t\t\t\tclassName=\"z-[1000] overflow-hidden rounded-xl border border-border-base bg-color-overlay-glass shadow-lg backdrop-blur-md\"\n\t\t\t\t\tdata-testid={`${testId}-content`}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"max-h-[240px] overflow-auto\">\n\t\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t\t<DropdownMenuCheckboxItem\n\t\t\t\t\t\t\t\tkey={item.value}\n\t\t\t\t\t\t\t\tchecked={selectedItem?.value === item.value}\n\t\t\t\t\t\t\t\tonCheckedChange={() => handleValueChange(item)}\n\t\t\t\t\t\t\t\tdisabled={item.disabled}\n\t\t\t\t\t\t\t\tclassName=\"group relative flex cursor-pointer select-none items-center rounded-lg px-2 py-1.5 outline-none transition-colors hover:bg-background-hover data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>span[data-state='checked']]:hidden\"\n\t\t\t\t\t\t\t\tdata-testid={`${testId}-option-${item.value}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"flex w-full items-center justify-between\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 truncate\">\n\t\t\t\t\t\t\t\t\t\t{typeof item.content === 'string' ? (\n\t\t\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem?.value === item.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text100'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'text80'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`truncate ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem?.value === item.value ? 'font-bold' : ''\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-testid={`${testId}-option-text-${item.value}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.content}\n\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-testid={`${testId}-option-content-${item.value}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.content}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DropdownMenuCheckboxItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</DropdownMenuContent>\n\t\t\t</DropdownMenuPortal>\n\t\t</DropdownMenu>\n\t);\n};\n","/**\n * OpenSea supported chains and their currency configurations\n */\n\nimport type { Address } from 'viem';\n\nexport interface ChainCurrency {\n\tchainId: number | null;\n\topenseaId: string;\n\tname: string;\n\tnativeCurrency: {\n\t\tsymbol: string;\n\t\taddress: Address;\n\t};\n\twrappedNativeCurrency: {\n\t\taddress: Address;\n\t};\n\tofferCurrency: {\n\t\tsymbol: string;\n\t\taddress: Address;\n\t};\n\tlistingCurrency: {\n\t\tsymbol: string;\n\t\taddress: Address;\n\t};\n}\n\nexport const OPENSEA_CHAIN_CURRENCIES: Record<string, ChainCurrency> = {\n\t// Ethereum\n\t'1': {\n\t\tchainId: 1,\n\t\topenseaId: 'ethereum',\n\t\tname: 'Ethereum',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Optimism\n\t'10': {\n\t\tchainId: 10,\n\t\topenseaId: 'optimism',\n\t\tname: 'Optimism',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t'137': {\n\t\tchainId: 137,\n\t\topenseaId: 'matic',\n\t\tname: 'Polygon',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'POL',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x7ceb23fd6bc0add59e62ac25578270cff1b9f619',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x7ceb23fd6bc0add59e62ac25578270cff1b9f619',\n\t\t},\n\t},\n\t// Shape\n\t'360': {\n\t\tchainId: 360,\n\t\topenseaId: 'shape',\n\t\tname: 'Shape',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// HyperEVM\n\t'998': {\n\t\tchainId: 998,\n\t\topenseaId: 'hyperevm',\n\t\tname: 'HyperEVM',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'HYPE',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x5555555555555555555555555555555555555555',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WHYPE',\n\t\t\taddress: '0x5555555555555555555555555555555555555555',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'HYPE',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Unichain\n\t'130': {\n\t\tchainId: 130,\n\t\topenseaId: 'unichain',\n\t\tname: 'Unichain',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Sei\n\t'1329': {\n\t\tchainId: 1329,\n\t\topenseaId: 'sei',\n\t\tname: 'Sei',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'SEI',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WSEI',\n\t\t\taddress: '0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'SEI',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Soneium\n\t'1868': {\n\t\tchainId: 1868,\n\t\topenseaId: 'soneium',\n\t\tname: 'Soneium',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Ronin\n\t'2020': {\n\t\tchainId: 2020,\n\t\topenseaId: 'ronin',\n\t\tname: 'Ronin',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'RON',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0xe514d9deb7966c8be0ca922de8a064264ea6bcd4',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WRON',\n\t\t\taddress: '0xe514d9deb7966c8be0ca922de8a064264ea6bcd4',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'RON',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Abstract\n\t'2741': {\n\t\tchainId: 2741,\n\t\topenseaId: 'abstract',\n\t\tname: 'Abstract',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x3439153eb7af838ad19d56e1571fbd09333c2809',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x3439153eb7af838ad19d56e1571fbd09333c2809',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// B3\n\t'8333': {\n\t\tchainId: 8333,\n\t\topenseaId: 'b3',\n\t\tname: 'B3',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Base\n\t'8453': {\n\t\tchainId: 8453,\n\t\topenseaId: 'base',\n\t\tname: 'Base',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// ApeChain\n\t'33139': {\n\t\tchainId: 33139,\n\t\topenseaId: 'ape_chain',\n\t\tname: 'ApeChain',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'APE',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x48b62137edfa95a428d35c09e44256a739f6b557',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WAPE',\n\t\t\taddress: '0x48b62137edfa95a428d35c09e44256a739f6b557',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'APE',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Arbitrum One\n\t'42161': {\n\t\tchainId: 42161,\n\t\topenseaId: 'arbitrum',\n\t\tname: 'Arbitrum',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x82af49447d8a07e3bd95bd0d56f35241523fbab1',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x82af49447d8a07e3bd95bd0d56f35241523fbab1',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Arbitrum Nova\n\t'42170': {\n\t\tchainId: 42170,\n\t\topenseaId: 'arbitrum_nova',\n\t\tname: 'Arbitrum Nova',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x722e8bdd2ce80a4422e880164f2079488e115365',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x722e8bdd2ce80a4422e880164f2079488e115365',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Avalanche C-Chain\n\t'43114': {\n\t\tchainId: 43114,\n\t\topenseaId: 'avalanche',\n\t\tname: 'Avalanche',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'AVAX',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WAVAX',\n\t\t\taddress: '0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'AVAX',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// GUNZ\n\t'43419': {\n\t\tchainId: 43419,\n\t\topenseaId: 'gunzilla',\n\t\tname: 'GUNZ',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'GUN',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x5aad7bba61d95c2c4e525a35f4062040264611f1',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WGUN',\n\t\t\taddress: '0x5aad7bba61d95c2c4e525a35f4062040264611f1',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'GUN',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Somnia\n\t'50311': {\n\t\tchainId: 50311,\n\t\topenseaId: 'somnia',\n\t\tname: 'Somnia',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'SOMI',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x046ede9564a72571df6f5e44d0405360c0f4dcab',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WSOMI',\n\t\t\taddress: '0x046ede9564a72571df6f5e44d0405360c0f4dcab',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'SOMI',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Berachain mainnet\n\t'80094': {\n\t\tchainId: 80094,\n\t\topenseaId: 'bera_chain',\n\t\tname: 'Berachain',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'BERA',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x6969696969696969696969696969696969696969',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WBERA',\n\t\t\taddress: '0x6969696969696969696969696969696969696969',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'BERA',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Blast\n\t'81457': {\n\t\tchainId: 81457,\n\t\topenseaId: 'blast',\n\t\tname: 'Blast',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4300000000000000000000000000000000000004',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4300000000000000000000000000000000000004',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n\t// Zora\n\t'7777777': {\n\t\tchainId: 7777777,\n\t\topenseaId: 'zora',\n\t\tname: 'Zora',\n\t\tnativeCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t\twrappedNativeCurrency: {\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tofferCurrency: {\n\t\t\tsymbol: 'WETH',\n\t\t\taddress: '0x4200000000000000000000000000000000000006',\n\t\t},\n\t\tlistingCurrency: {\n\t\t\tsymbol: 'ETH',\n\t\t\taddress: '0x0000000000000000000000000000000000000000',\n\t\t},\n\t},\n};\n\nexport function getOpenseaCurrencyForChain(\n\tchainId: number,\n\tmodalType: 'listing' | 'offer',\n): { symbol: string; address: Address } | undefined {\n\tconst config = OPENSEA_CHAIN_CURRENCIES[chainId.toString()];\n\tif (!config) {\n\t\treturn undefined;\n\t}\n\n\treturn modalType === 'listing'\n\t\t? config.listingCurrency\n\t\t: config.offerCurrency;\n}\n","'use client';\n\nimport { Skeleton } from '@0xsequence/design-system';\nimport { useEffect } from 'react';\nimport type { Address } from 'viem';\nimport { compareAddress } from '../../../../../../utils';\nimport { type Currency, OrderbookKind } from '../../../../../_internal';\nimport { useCurrencyList } from '../../../../../hooks';\nimport {\n\tCustomSelect,\n\ttype SelectItem,\n} from '../../../../components/_internals/custom-select/CustomSelect';\nimport { getOpenseaCurrencyForChain } from '../../constants/opensea-currencies';\n\ntype CurrencyOptionsSelectProps = {\n\tcollectionAddress: Address;\n\tchainId: number;\n\tselectedCurrency?: Currency | null;\n\tonCurrencyChange: (currency: Currency) => void;\n\tsecondCurrencyAsDefault?: boolean;\n\tincludeNativeCurrency?: boolean;\n\torderbookKind?: OrderbookKind;\n\tmodalType?: 'listing' | 'offer';\n};\n\nfunction CurrencyOptionsSelect({\n\tchainId,\n\tcollectionAddress,\n\tsecondCurrencyAsDefault,\n\tselectedCurrency,\n\tonCurrencyChange,\n\tincludeNativeCurrency,\n\torderbookKind,\n\tmodalType,\n}: CurrencyOptionsSelectProps) {\n\tconst { data: currencies, isLoading: currenciesLoading } = useCurrencyList({\n\t\tchainId,\n\t\tcollectionAddress,\n\t\tincludeNativeCurrency,\n\t});\n\n\t// Filter currencies for OpenSea\n\tlet filteredCurrencies = currencies;\n\tif (currencies && orderbookKind === OrderbookKind.opensea && modalType) {\n\t\tconst openseaCurrency = getOpenseaCurrencyForChain(chainId, modalType);\n\t\tif (openseaCurrency) {\n\t\t\t// Filter to only show the OpenSea-supported currency\n\t\t\tfilteredCurrencies = currencies.filter((currency) =>\n\t\t\t\tcompareAddress(currency.contractAddress, openseaCurrency.address),\n\t\t\t);\n\t\t}\n\t}\n\n\t// set default currency\n\tuseEffect(() => {\n\t\tif (\n\t\t\tfilteredCurrencies &&\n\t\t\tfilteredCurrencies.length > 0 &&\n\t\t\t!selectedCurrency?.contractAddress\n\t\t) {\n\t\t\t// We dont support native currency listings for any marketplace other than Sequence Marketplace v2\n\t\t\t// So we need to set the set another currency as the default\n\t\t\tif (secondCurrencyAsDefault && filteredCurrencies.length > 1) {\n\t\t\t\tonCurrencyChange(filteredCurrencies[1] as Currency);\n\t\t\t} else {\n\t\t\t\tonCurrencyChange(filteredCurrencies[0] as Currency);\n\t\t\t}\n\t\t}\n\t}, [\n\t\tfilteredCurrencies,\n\t\tselectedCurrency?.contractAddress,\n\t\tsecondCurrencyAsDefault,\n\t\tonCurrencyChange,\n\t]);\n\n\tif (!filteredCurrencies || currenciesLoading || !selectedCurrency?.symbol) {\n\t\treturn <Skeleton className=\"mr-0 h-6 w-20 rounded-2xl\" />;\n\t}\n\n\tconst options = filteredCurrencies.map(\n\t\t(currency) =>\n\t\t\t({\n\t\t\t\tlabel: currency.symbol,\n\t\t\t\tvalue: currency.contractAddress,\n\t\t\t\tcontent: currency.symbol,\n\t\t\t}) as SelectItem,\n\t);\n\n\tconst onChange = (value: string) => {\n\t\tconst selectedCurrency = filteredCurrencies.find(\n\t\t\t(currency) => currency.contractAddress === value,\n\t\t);\n\t\tif (selectedCurrency) {\n\t\t\tonCurrencyChange(selectedCurrency as Currency);\n\t\t}\n\t};\n\n\treturn (\n\t\t<CustomSelect\n\t\t\titems={options}\n\t\t\tonValueChange={onChange}\n\t\t\tdefaultValue={{\n\t\t\t\tvalue: selectedCurrency.contractAddress,\n\t\t\t\tcontent: selectedCurrency.symbol,\n\t\t\t}}\n\t\t\ttestId=\"currency-select\"\n\t\t/>\n\t);\n}\n\nexport default CurrencyOptionsSelect;\n","'use client';\n\nimport { OrderbookKind } from '@0xsequence/api-client';\nimport {\n\tField,\n\tFieldLabel,\n\tInfoIcon,\n\tNumericInput,\n\tText,\n\tTooltip,\n} from '@0xsequence/design-system';\nimport { useEffect, useRef, useState } from 'react';\nimport { type Address, formatUnits, parseUnits } from 'viem';\nimport { useAccount } from 'wagmi';\nimport type { Currency, Price } from '../../../../../../types';\nimport { calculateTotalOfferCost, cn } from '../../../../../../utils';\nimport { validateOpenseaOfferDecimals } from '../../../../../../utils/price';\nimport {\n\tuseConvertPriceToUSD,\n\tuseTokenCurrencyBalance,\n} from '../../../../../hooks';\nimport CurrencyImage from '../currencyImage';\nimport CurrencyOptionsSelect from '../currencyOptionsSelect';\n\ntype PriceInputProps = {\n\tcollectionAddress: Address;\n\tchainId: number;\n\tsecondCurrencyAsDefault?: boolean;\n\tprice: Price | undefined;\n\tincludeNativeCurrency?: boolean;\n\tonPriceChange?: (price: Price) => void;\n\tonCurrencyChange?: (currency: Currency) => void;\n\tcheckBalance?: {\n\t\tenabled: boolean;\n\t\tcallback: (state: boolean) => void;\n\t};\n\tdisabled?: boolean;\n\torderbookKind?: OrderbookKind;\n\tsetOpenseaLowestPriceCriteriaMet?: (state: boolean) => void;\n\tmodalType?: 'listing' | 'offer';\n\t// Fee data for enhanced balance checking in offers\n\tfeeData?: {\n\t\troyaltyPercentage?: number;\n\t};\n};\n\nexport default function PriceInput({\n\tchainId,\n\tcollectionAddress,\n\tprice,\n\tonPriceChange,\n\tonCurrencyChange,\n\tcheckBalance,\n\tsecondCurrencyAsDefault,\n\tincludeNativeCurrency,\n\tdisabled,\n\torderbookKind,\n\tsetOpenseaLowestPriceCriteriaMet,\n\tmodalType,\n\tfeeData,\n}: PriceInputProps) {\n\tconst { address: accountAddress } = useAccount();\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\tconst currency = price?.currency;\n\tconst currencyDecimals = price?.currency?.decimals;\n\tconst currencyAddress = price?.currency?.contractAddress;\n\tconst priceAmountRaw = price?.amountRaw;\n\n\tconst handleCurrencyChange = (newCurrency: Currency) => {\n\t\tif (price && onCurrencyChange) {\n\t\t\tonCurrencyChange(newCurrency);\n\t\t}\n\t};\n\n\tconst { data: conversion, isLoading: isConversionLoading } =\n\t\tuseConvertPriceToUSD({\n\t\t\tchainId,\n\t\t\tcurrencyAddress:\n\t\t\t\tcurrencyAddress ??\n\t\t\t\t('0x0000000000000000000000000000000000000000' as Address),\n\t\t\tamountRaw: priceAmountRaw?.toString(),\n\t\t\tquery: {\n\t\t\t\tenabled:\n\t\t\t\t\torderbookKind === OrderbookKind.opensea &&\n\t\t\t\t\t!!currencyAddress &&\n\t\t\t\t\t!!priceAmountRaw &&\n\t\t\t\t\t!!setOpenseaLowestPriceCriteriaMet,\n\t\t\t},\n\t\t});\n\n\tuseEffect(() => {\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, []);\n\n\tconst { data: balance, isSuccess: isBalanceSuccess } =\n\t\tuseTokenCurrencyBalance({\n\t\t\tcurrencyAddress,\n\t\t\tchainId,\n\t\t\tuserAddress: accountAddress,\n\t\t});\n\tconst getTotalRequiredBalance = () => {\n\t\tif (!priceAmountRaw || !currencyDecimals) return BigInt(0);\n\n\t\tconst offerAmountRaw = BigInt(priceAmountRaw);\n\n\t\t// For offers, include fees in balance calculation\n\t\tif (modalType === 'offer' && feeData) {\n\t\t\treturn calculateTotalOfferCost(\n\t\t\t\tofferAmountRaw,\n\t\t\t\tcurrencyDecimals,\n\t\t\t\tfeeData.royaltyPercentage || 0,\n\t\t\t);\n\t\t}\n\n\t\treturn offerAmountRaw;\n\t};\n\n\tconst balanceError =\n\t\t!!checkBalance?.enabled &&\n\t\t!!isBalanceSuccess &&\n\t\t!!priceAmountRaw &&\n\t\t!!currencyDecimals &&\n\t\tgetTotalRequiredBalance() > (balance?.value || 0n);\n\n\tconst hasEnoughForBaseOffer =\n\t\t!!isBalanceSuccess &&\n\t\t!!priceAmountRaw &&\n\t\tBigInt(priceAmountRaw) <= (balance?.value || 0n);\n\n\tconst getRoyaltyFeeAmount = () => {\n\t\tif (!priceAmountRaw || !currencyDecimals || !feeData?.royaltyPercentage) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst offerAmount = BigInt(priceAmountRaw);\n\t\tconst royaltyFeeAmount =\n\t\t\t(offerAmount * BigInt(Math.round(feeData.royaltyPercentage * 100))) /\n\t\t\tBigInt(10000);\n\n\t\treturn formatUnits(royaltyFeeAmount, currencyDecimals);\n\t};\n\n\tconst royaltyFeeFormatted = getRoyaltyFeeAmount();\n\n\tconst RoyaltyFeeTooltip = ({ children }: { children: React.ReactNode }) => (\n\t\t<Tooltip\n\t\t\tmessage={\n\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t<Text className=\"font-body font-medium text-xs\">\n\t\t\t\t\t\tA royalty fee is a percentage of each resale\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text className=\"font-body font-medium text-xs\">\n\t\t\t\t\t\tprice that automatically compensates the original\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text className=\"font-body font-medium text-xs\">\n\t\t\t\t\t\tcreator every time their collectible changes hands.\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n\n\tconst openseaLowestPriceCriteriaMet =\n\t\torderbookKind === OrderbookKind.opensea &&\n\t\t!!conversion?.usdAmount &&\n\t\tconversion.usdAmount >= 0.01;\n\n\tif (checkBalance?.enabled) {\n\t\tcheckBalance.callback(balanceError);\n\t}\n\n\tif (setOpenseaLowestPriceCriteriaMet) {\n\t\tsetOpenseaLowestPriceCriteriaMet(openseaLowestPriceCriteriaMet);\n\t}\n\n\tconst [value, setValue] = useState('0');\n\tconst prevCurrencyDecimals = useRef(currencyDecimals);\n\tconst [openseaDecimalError, setOpenseaDecimalError] = useState<string | null>(\n\t\tnull,\n\t);\n\n\t// Handle currency changes and adjust the raw amount accordingly\n\tuseEffect(() => {\n\t\tif (\n\t\t\tprevCurrencyDecimals.current !== currencyDecimals &&\n\t\t\tvalue !== '0' &&\n\t\t\tprice &&\n\t\t\tonPriceChange\n\t\t) {\n\t\t\ttry {\n\t\t\t\t// If the user has entered a value and the currency decimals have changed,\n\t\t\t\t// we need to adjust the raw amount to maintain the same displayed value\n\t\t\t\tconst parsedAmount = parseUnits(value, Number(currencyDecimals));\n\t\t\t\tconst updatedPrice = { ...price, amountRaw: parsedAmount };\n\n\t\t\t\tonPriceChange(updatedPrice);\n\t\t\t} catch {\n\t\t\t\tconst updatedPrice = { ...price, amountRaw: 0n };\n\t\t\t\tonPriceChange(updatedPrice);\n\t\t\t}\n\t\t}\n\n\t\tprevCurrencyDecimals.current = currencyDecimals;\n\t}, [currencyDecimals, price, value, onPriceChange]);\n\n\tconst handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst newValue = event.target.value;\n\t\tsetValue(newValue);\n\n\t\tif (!price || !onPriceChange) return;\n\n\t\t// Validate OpenSea decimal constraints for offers\n\t\tif (orderbookKind === OrderbookKind.opensea && modalType === 'offer') {\n\t\t\tconst validation = validateOpenseaOfferDecimals(newValue);\n\t\t\tif (!validation.isValid) {\n\t\t\t\tsetOpenseaDecimalError(validation.errorMessage || null);\n\t\t\t\ttry {\n\t\t\t\t\tconst parsedAmount = parseUnits(newValue, Number(currencyDecimals));\n\t\t\t\t\tconst updatedPrice = { ...price, amountRaw: parsedAmount };\n\t\t\t\t\tonPriceChange(updatedPrice);\n\t\t\t\t} catch {\n\t\t\t\t\tconst updatedPrice = { ...price, amountRaw: 0n };\n\t\t\t\t\tonPriceChange(updatedPrice);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetOpenseaDecimalError(null);\n\t\t}\n\n\t\ttry {\n\t\t\tconst parsedAmount = parseUnits(newValue, Number(currencyDecimals));\n\t\t\tconst updatedPrice = { ...price, amountRaw: parsedAmount };\n\n\t\t\tonPriceChange(updatedPrice);\n\t\t} catch {\n\t\t\tconst updatedPrice = { ...price, amountRaw: 0n };\n\t\t\tonPriceChange(updatedPrice);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t'price-input relative flex w-full flex-col',\n\t\t\t\tdisabled && 'pointer-events-none opacity-50',\n\t\t\t)}\n\t\t>\n\t\t\t<Field className=\"[&>div>div]:pr-0\">\n\t\t\t\t<FieldLabel htmlFor=\"price-input\" className=\"text-xs\">\n\t\t\t\t\tEnter price\n\t\t\t\t</FieldLabel>\n\t\t\t\t<NumericInput\n\t\t\t\t\taria-label=\"Enter price\"\n\t\t\t\t\tref={inputRef}\n\t\t\t\t\tclassName=\"h-9 w-full rounded-sm px-2 pl-3 [&>input]:text-xs\"\n\t\t\t\t\tname=\"price-input\"\n\t\t\t\t\tdecimals={currencyDecimals}\n\t\t\t\t\tcontrols={\n\t\t\t\t\t\t<CurrencyOptionsSelect\n\t\t\t\t\t\t\tselectedCurrency={currency}\n\t\t\t\t\t\t\tonCurrencyChange={handleCurrencyChange}\n\t\t\t\t\t\t\tcollectionAddress={collectionAddress}\n\t\t\t\t\t\t\tchainId={chainId}\n\t\t\t\t\t\t\tsecondCurrencyAsDefault={secondCurrencyAsDefault}\n\t\t\t\t\t\t\tincludeNativeCurrency={includeNativeCurrency}\n\t\t\t\t\t\t\torderbookKind={orderbookKind}\n\t\t\t\t\t\t\tmodalType={modalType}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</Field>\n\n\t\t\t<div className=\"absolute top-8 left-2 flex items-center\">\n\t\t\t\t<CurrencyImage price={price} />\n\t\t\t</div>\n\n\t\t\t{balanceError && (\n\t\t\t\t<Text className=\"mt-1.5 font-body font-medium text-amber-500 text-xs\">\n\t\t\t\t\t{modalType === 'offer' &&\n\t\t\t\t\thasEnoughForBaseOffer &&\n\t\t\t\t\troyaltyFeeFormatted &&\n\t\t\t\t\tNumber(royaltyFeeFormatted) > 0 ? (\n\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t<RoyaltyFeeTooltip>\n\t\t\t\t\t\t\t\t<InfoIcon className=\"h-4 w-4 text-negative\" />\n\t\t\t\t\t\t\t</RoyaltyFeeTooltip>\n\n\t\t\t\t\t\t\t<Text className=\"font-body font-medium text-xs\" color=\"negative\">\n\t\t\t\t\t\t\t\tYou need {royaltyFeeFormatted} {currency?.symbol} for royalty\n\t\t\t\t\t\t\t\tfees\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t'Insufficient balance'\n\t\t\t\t\t)}\n\t\t\t\t</Text>\n\t\t\t)}\n\n\t\t\t{!balanceError &&\n\t\t\t\tmodalType === 'offer' &&\n\t\t\t\troyaltyFeeFormatted &&\n\t\t\t\tNumber(royaltyFeeFormatted) > 0 && (\n\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t<RoyaltyFeeTooltip>\n\t\t\t\t\t\t\t\t<InfoIcon className=\"h-4 w-4 text-text-50\" />\n\t\t\t\t\t\t\t</RoyaltyFeeTooltip>\n\n\t\t\t\t\t\t\t<Text className=\"font-body font-medium text-xs\" color=\"text50\">\n\t\t\t\t\t\t\t\tTotal:{' '}\n\t\t\t\t\t\t\t\t{(Number(value) + Number(royaltyFeeFormatted))\n\t\t\t\t\t\t\t\t\t.toFixed(6)\n\t\t\t\t\t\t\t\t\t.replace(/\\.?0+$/, '')}{' '}\n\t\t\t\t\t\t\t\t{currency?.symbol} (includes {royaltyFeeFormatted}{' '}\n\t\t\t\t\t\t\t\t{currency?.symbol} royalty fee)\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t{!balanceError &&\n\t\t\t\tpriceAmountRaw !== 0n &&\n\t\t\t\t!openseaLowestPriceCriteriaMet &&\n\t\t\t\torderbookKind === OrderbookKind.opensea &&\n\t\t\t\t!isConversionLoading &&\n\t\t\t\tmodalType === 'offer' &&\n\t\t\t\t!openseaDecimalError && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tclassName=\"-bottom-5 absolute font-body font-medium text-xs\"\n\t\t\t\t\t\tcolor=\"negative\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLowest price must be at least $0.01\n\t\t\t\t\t</Text>\n\t\t\t\t)}\n\n\t\t\t{!balanceError &&\n\t\t\t\topenseaDecimalError &&\n\t\t\t\torderbookKind === OrderbookKind.opensea &&\n\t\t\t\tmodalType === 'offer' && (\n\t\t\t\t\t<Text className=\"font-body font-medium text-xs\" color=\"negative\">\n\t\t\t\t\t\t{openseaDecimalError}\n\t\t\t\t\t</Text>\n\t\t\t\t)}\n\t\t</div>\n\t);\n}\n","import { type Address, zeroAddress } from 'viem';\nimport { OrderbookKind } from '../../../../../types';\nimport { compareAddress } from '../../../../../utils';\nimport type { Currency } from '../../../../_internal';\nimport { getOpenseaCurrencyForChain } from '../../_internal/constants/opensea-currencies';\n\nexport function filterCurrenciesForOrderbook(\n\tcurrencies: Currency[],\n\torderbookKind: OrderbookKind | undefined,\n\tchainId: number,\n): Currency[] {\n\tif (!currencies || currencies.length === 0) return [];\n\n\tif (orderbookKind === OrderbookKind.opensea) {\n\t\tconst openseaCurrency = getOpenseaCurrencyForChain(chainId, 'listing');\n\t\tif (openseaCurrency) {\n\t\t\treturn currencies.filter((currency) =>\n\t\t\t\tcompareAddress(\n\t\t\t\t\tcurrency.contractAddress,\n\t\t\t\t\topenseaCurrency.address as Address,\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\t}\n\n\treturn currencies;\n}\n\nexport function getDefaultCurrency(\n\tcurrencies: Currency[],\n\torderbookKind: OrderbookKind | undefined,\n\tmodalType: 'listing' | 'offer',\n): Currency | null {\n\tif (currencies.length === 0) return null;\n\n\tif (modalType === 'listing') {\n\t\treturn currencies[0];\n\t}\n\n\tconst shouldSkipNative =\n\t\torderbookKind !== OrderbookKind.sequence_marketplace_v2 &&\n\t\tcurrencies.length > 1;\n\n\treturn shouldSkipNative ? currencies[1] : currencies[0];\n}\n\nexport function isNativeCurrency(currency: Currency): boolean {\n\treturn currency.contractAddress === zeroAddress;\n}\n\nexport function isCurrencySupported(\n\tcurrency: Currency,\n\tavailableCurrencies: Currency[],\n): boolean {\n\treturn availableCurrencies.some((c) =>\n\t\tcompareAddress(c.contractAddress, currency.contractAddress),\n\t);\n}\n","import * as dnum from 'dnum';\n\nexport function parseInput(input: string, decimals: number): dnum.Dnum {\n\tif (!input || input === '') {\n\t\treturn [0n, decimals];\n\t}\n\n\ttry {\n\t\treturn dnum.from(input, decimals);\n\t} catch {\n\t\treturn [0n, decimals];\n\t}\n}\n\nexport function isZero(value: dnum.Dnum): boolean {\n\treturn value[0] === 0n;\n}\n\nexport function isPositive(value: dnum.Dnum): boolean {\n\treturn value[0] > 0n;\n}\n\nexport function toBigIntString(value: dnum.Dnum): string {\n\treturn value[0].toString();\n}\n\nexport function fromBigIntString(\n\tbigIntString: string,\n\tdecimals: number,\n): dnum.Dnum {\n\ttry {\n\t\tconst value = BigInt(bigIntString);\n\t\treturn [value, decimals];\n\t} catch {\n\t\treturn [0n, decimals];\n\t}\n}\n\n// Re-export commonly used dnum functions for convenience\nexport { equal, greaterThan, lessThan, toNumber } from 'dnum';\n","import { type Dnum, greaterThan } from 'dnum';\nimport { isPositive } from '../../../_internal/helpers/dnum-utils';\n\nexport type FieldValidation = {\n\tisValid: boolean;\n\terror: string | null;\n};\n\nexport type ListingValidation = {\n\tprice: FieldValidation;\n\tquantity: FieldValidation;\n\tbalance?: FieldValidation;\n};\n\nexport function validateListingForm({\n\tprice,\n\tquantity,\n\tbalance,\n}: {\n\tprice: Dnum;\n\tquantity: Dnum;\n\tbalance?: Dnum;\n}): ListingValidation {\n\tconst validation: ListingValidation = {\n\t\tprice: { isValid: true, error: null },\n\t\tquantity: { isValid: true, error: null },\n\t};\n\n\t// Price validation\n\tif (!isPositive(price)) {\n\t\tvalidation.price = {\n\t\t\tisValid: false,\n\t\t\terror: 'Price must be greater than 0',\n\t\t};\n\t}\n\n\t// Quantity validation\n\tif (!isPositive(quantity)) {\n\t\tvalidation.quantity = {\n\t\t\tisValid: false,\n\t\t\terror: 'Quantity must be greater than 0',\n\t\t};\n\t}\n\n\t// Balance validation (for ERC1155)\n\tif (balance && greaterThan(quantity, balance)) {\n\t\tvalidation.balance = {\n\t\t\tisValid: false,\n\t\t\terror: 'Insufficient balance for this quantity',\n\t\t};\n\t}\n\n\treturn validation;\n}\n\nexport function isFormValid(validation: ListingValidation): boolean {\n\treturn (\n\t\tvalidation.price.isValid &&\n\t\tvalidation.quantity.isValid &&\n\t\t(validation.balance?.isValid ?? true)\n\t);\n}\n\nexport function getValidationErrors(validation: ListingValidation): string[] {\n\tconst errors: string[] = [];\n\n\tif (validation.price.error) errors.push(validation.price.error);\n\tif (validation.quantity.error) errors.push(validation.quantity.error);\n\tif (validation.balance?.error) errors.push(validation.balance.error);\n\n\treturn errors;\n}\n\nexport function getFirstValidationError(\n\tvalidation: ListingValidation,\n): string | null {\n\tconst errors = getValidationErrors(validation);\n\treturn errors.length > 0 ? errors[0] : null;\n}\n","import type { Address } from 'viem';\nimport {\n\tSEQUENCE_MARKET_V1_ADDRESS,\n\tSEQUENCE_MARKET_V2_ADDRESS,\n} from '../consts';\nimport { OrderbookKind } from '../types';\n\n/**\n * OpenSea Conduit address\n * https://etherscan.io/address/0x1e0049783f008a0085193e00003d00cd54003c71\n */\nexport const OPENSEA_SEAPORT_CONDUIT_ADDRESS =\n\t'0x1E0049783F008A0085193E00003D00cd54003c71' as Address;\n\n/**\n * Magic Eden Conduit address\n * https://etherscan.io/address/0x2052f8A2Ff46283B30084e5d84c89A2fdBE7f74b\n */\nexport const MAGICEDEN_CONDUIT_ADDRESS =\n\t'0x2052f8A2Ff46283B30084e5d84c89A2fdBE7f74b' as Address;\n\nexport function getConduitAddressForOrderbook(\n\torderbookKind: OrderbookKind | undefined,\n): Address | undefined {\n\tswitch (orderbookKind) {\n\t\tcase OrderbookKind.sequence_marketplace_v1:\n\t\t\treturn SEQUENCE_MARKET_V1_ADDRESS as Address;\n\t\tcase OrderbookKind.sequence_marketplace_v2:\n\t\t\treturn SEQUENCE_MARKET_V2_ADDRESS as Address;\n\t\tcase OrderbookKind.opensea:\n\t\t\treturn OPENSEA_SEAPORT_CONDUIT_ADDRESS;\n\t\tcase OrderbookKind.magic_eden:\n\t\t\treturn MAGICEDEN_CONDUIT_ADDRESS;\n\t\tdefault:\n\t\t\t// Default to v2 for unknown orderbooks\n\t\t\treturn SEQUENCE_MARKET_V2_ADDRESS as Address;\n\t}\n}\n","import {\n\ttype Address,\n\ttype Hex,\n\ttype PublicClient,\n\tparseEventLogs,\n} from 'viem';\nimport { SequenceMarketplaceV1_ABI } from '..';\n\nexport const getSequenceMarketplaceRequestId = async (\n\thash: Hex,\n\tpublicClient: PublicClient,\n\twalletAddress: Address,\n) => {\n\ttry {\n\t\tconst receipt = await publicClient.getTransactionReceipt({\n\t\t\thash,\n\t\t});\n\n\t\tconst logs = parseEventLogs({\n\t\t\tabi: SequenceMarketplaceV1_ABI,\n\t\t\teventName: 'RequestCreated',\n\t\t\targs: {\n\t\t\t\tcreator: walletAddress,\n\t\t\t},\n\t\t\tlogs: receipt.logs,\n\t\t});\n\n\t\treturn logs[0].args.requestId.toString();\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n","import { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { Address } from 'viem';\nimport { OrderbookKind } from '../../../../../types';\n\nexport type OpenCreateListingModalArgs = {\n\tcollectionAddress: Address;\n\tchainId: number;\n\ttokenId: bigint;\n\torderbookKind?: OrderbookKind;\n};\n\ntype CreateListingModalState = OpenCreateListingModalArgs & {\n\tisOpen: boolean;\n\tpriceInput: string;\n\tcurrencyAddress?: Address;\n\tquantityInput: string;\n\texpiryDays: number;\n\tisPriceTouched: boolean;\n\tisQuantityTouched: boolean;\n};\n\nconst initialContext: CreateListingModalState = {\n\tisOpen: false,\n\tcollectionAddress: '' as Address,\n\tchainId: 0,\n\ttokenId: 0n,\n\torderbookKind: OrderbookKind.sequence_marketplace_v2,\n\tpriceInput: '',\n\tcurrencyAddress: undefined,\n\tquantityInput: '1',\n\texpiryDays: 7,\n\tisPriceTouched: false,\n\tisQuantityTouched: false,\n};\n\nexport const createListingModalStore = createStore({\n\tcontext: { ...initialContext },\n\ton: {\n\t\topen: (_context, event: OpenCreateListingModalArgs) => ({\n\t\t\t...initialContext,\n\t\t\tisOpen: true,\n\t\t\t...event,\n\t\t\texpiryDays: 7,\n\t\t\tpriceInput: '',\n\t\t\tquantityInput: '1',\n\t\t\tisPriceTouched: false,\n\t\t\tisQuantityTouched: false,\n\t\t}),\n\t\tclose: () => ({ ...initialContext }),\n\n\t\tupdatePrice: (context, event: { value: string }) => {\n\t\t\tconst isBlurNormalization =\n\t\t\t\tcontext.priceInput === '' && event.value === '0';\n\t\t\tconst valueChanged = context.priceInput !== event.value;\n\t\t\tconst shouldMarkTouched = valueChanged && !isBlurNormalization;\n\n\t\t\treturn {\n\t\t\t\t...context,\n\t\t\t\tpriceInput: event.value,\n\t\t\t\tisPriceTouched: shouldMarkTouched ? true : context.isPriceTouched,\n\t\t\t};\n\t\t},\n\t\ttouchPrice: (context) => ({\n\t\t\t...context,\n\t\t\tisPriceTouched: true,\n\t\t}),\n\t\tselectCurrency: (context, event: { address: Address }) => ({\n\t\t\t...context,\n\t\t\tcurrencyAddress: event.address,\n\t\t}),\n\t\tupdateQuantity: (context, event: { value: string }) => ({\n\t\t\t...context,\n\t\t\tquantityInput: event.value,\n\t\t\tisQuantityTouched: true,\n\t\t}),\n\t\ttouchQuantity: (context) => ({\n\t\t\t...context,\n\t\t\tisQuantityTouched: true,\n\t\t}),\n\t\tupdateExpiryDays: (context, event: { days: number }) => ({\n\t\t\t...context,\n\t\t\texpiryDays: event.days,\n\t\t}),\n\t},\n});\n\nexport const useCreateListingModal = () => {\n\tconst state = useSelector(createListingModalStore, (state) => state.context);\n\n\treturn {\n\t\t...state,\n\t\tshow: (args: OpenCreateListingModalArgs) =>\n\t\t\tcreateListingModalStore.send({ type: 'open', ...args }),\n\t\tclose: () => createListingModalStore.send({ type: 'close' }),\n\t};\n};\n\nexport const useCreateListingModalState = () => {\n\tconst {\n\t\tisOpen,\n\t\ttokenId,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\torderbookKind,\n\t\tpriceInput,\n\t\tcurrencyAddress,\n\t\tquantityInput,\n\t\texpiryDays,\n\t\tisPriceTouched,\n\t\tisQuantityTouched,\n\t} = useSelector(createListingModalStore, (state) => state.context);\n\n\tconst closeModal = () => createListingModalStore.send({ type: 'close' });\n\tconst updatePriceInput = (value: string) =>\n\t\tcreateListingModalStore.send({ type: 'updatePrice', value });\n\tconst touchPriceInput = () =>\n\t\tcreateListingModalStore.send({ type: 'touchPrice' });\n\tconst updateCurrency = (address: Address) =>\n\t\tcreateListingModalStore.send({ type: 'selectCurrency', address });\n\tconst updateQuantityInput = (value: string) =>\n\t\tcreateListingModalStore.send({ type: 'updateQuantity', value });\n\tconst touchQuantityInput = () =>\n\t\tcreateListingModalStore.send({ type: 'touchQuantity' });\n\tconst updateExpiryDays = (days: number) =>\n\t\tcreateListingModalStore.send({ type: 'updateExpiryDays', days });\n\n\treturn {\n\t\tisOpen,\n\t\ttokenId,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\torderbookKind,\n\t\tpriceInput,\n\t\tcurrencyAddress,\n\t\tquantityInput,\n\t\texpiryDays,\n\t\tisPriceTouched,\n\t\tisQuantityTouched,\n\t\tcloseModal,\n\t\tupdatePriceInput,\n\t\ttouchPriceInput,\n\t\tupdateCurrency,\n\t\tupdateQuantityInput,\n\t\ttouchQuantityInput,\n\t\tupdateExpiryDays,\n\t};\n};\n","import { useMutation } from '@tanstack/react-query';\nimport { toNumber } from 'dnum';\nimport { useMemo } from 'react';\nimport type { Address, Hex } from 'viem';\nimport { useAccount, usePublicClient } from 'wagmi';\nimport { OrderbookKind } from '../../../../../types';\nimport { getConduitAddressForOrderbook } from '../../../../../utils/getConduitAddressForOrderbook';\nimport { getSequenceMarketplaceRequestId } from '../../../../../utils/getSequenceMarketRequestId';\nimport {\n\ttype ContractType,\n\ttype CreateReq,\n\ttype GenerateListingTransactionRequest,\n\tgetMarketplaceClient,\n\ttype Step,\n\tStepType,\n\tTransactionType,\n} from '../../../../_internal';\nimport { useAnalytics } from '../../../../_internal/databeat';\nimport {\n\tuseConfig,\n\tuseConnectorMetadata,\n\tuseCurrency,\n\tuseProcessStep,\n} from '../../../../hooks';\nimport { waitForTransactionReceipt } from '../../../../utils';\nimport { useTransactionStatusModal } from '../../_internal/components/transactionStatusModal';\nimport { fromBigIntString } from '../../_internal/helpers/dnum-utils';\nimport { useCollectibleApproval } from './hooks/use-collectible-approval';\nimport { useCreateListingModalState } from './store';\n\nexport type ProcessStepResult =\n\t| { type: 'transaction'; hash: Hex }\n\t| { type: 'signature'; orderId?: string; signature?: Hex };\n\nexport interface ListingParams {\n\ttokenId: bigint;\n\tquantity: bigint;\n\texpiry: string;\n\tcurrencyAddress: Address;\n\tpricePerToken: bigint;\n}\n\nexport interface UseListingMutationsArgs {\n\tchainId: number;\n\tcollectionAddress: Address;\n\tcontractType: ContractType | undefined;\n\torderbookKind: OrderbookKind | undefined;\n\tlisting: ListingParams;\n\tcurrencyDecimals: number;\n\t// NFT approval check should be independent of form validation\n\tnftApprovalEnabled?: boolean;\n}\n\nexport const useListingMutations = ({\n\tchainId,\n\tcollectionAddress,\n\tcontractType,\n\torderbookKind,\n\tlisting,\n\tcurrencyDecimals,\n\tnftApprovalEnabled = true,\n}: UseListingMutationsArgs) => {\n\tconst sdkConfig = useConfig();\n\tconst { address: ownerAddress } = useAccount();\n\tconst publicClient = usePublicClient();\n\tconst { show: showTxModal } = useTransactionStatusModal();\n\tconst analytics = useAnalytics();\n\tconst state = useCreateListingModalState();\n\tconst { processStep } = useProcessStep();\n\tconst { walletKind, isSequence } = useConnectorMetadata();\n\tconst { data: currency } = useCurrency({\n\t\tchainId,\n\t\tcurrencyAddress: listing.currencyAddress,\n\t});\n\n\tasync function executeStepAndWait(step: Step) {\n\t\tconst res = await processStep(step, chainId);\n\t\tif (res.type === 'transaction' && res.hash) {\n\t\t\tawait waitForTransactionReceipt({\n\t\t\t\ttxHash: res.hash,\n\t\t\t\tchainId,\n\t\t\t\tsdkConfig,\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tasync function generateListingSteps(): Promise<Step[]> {\n\t\tif (!contractType) {\n\t\t\tthrow new Error('Contract type is required to generate listing steps');\n\t\t}\n\t\tif (!ownerAddress) {\n\t\t\tthrow new Error('Wallet not connected');\n\t\t}\n\t\tif (!orderbookKind) {\n\t\t\tthrow new Error('Orderbook kind is required');\n\t\t}\n\n\t\tconst marketplaceClient = getMarketplaceClient(sdkConfig);\n\n\t\tconst request: GenerateListingTransactionRequest = {\n\t\t\tchainId,\n\t\t\tcollectionAddress,\n\t\t\towner: ownerAddress,\n\t\t\twalletType: walletKind,\n\t\t\tcontractType,\n\t\t\torderbook: orderbookKind,\n\t\t\tlisting: {\n\t\t\t\ttokenId: listing.tokenId,\n\t\t\t\tquantity: listing.quantity,\n\t\t\t\texpiry: listing.expiry,\n\t\t\t\tcurrencyAddress: listing.currencyAddress,\n\t\t\t\tpricePerToken: listing.pricePerToken,\n\t\t\t} satisfies CreateReq,\n\t\t\tadditionalFees: [],\n\t\t};\n\n\t\tconst response =\n\t\t\tawait marketplaceClient.generateListingTransaction(request);\n\t\tconst steps = response.steps;\n\n\t\tif (steps.length === 0) {\n\t\t\tthrow new Error('No steps generated');\n\t\t}\n\n\t\treturn steps;\n\t}\n\n\tconst spenderAddress = getConduitAddressForOrderbook(orderbookKind);\n\n\tconst collectibleApprovalQuery = useCollectibleApproval({\n\t\tcollectionAddress,\n\t\tspenderAddress,\n\t\tchainId,\n\t\tcontractType,\n\t\tenabled:\n\t\t\tnftApprovalEnabled &&\n\t\t\t!isSequence &&\n\t\t\t!!ownerAddress &&\n\t\t\t!!contractType &&\n\t\t\t!!orderbookKind &&\n\t\t\t!!spenderAddress,\n\t});\n\n\tconst needsApproval = useMemo(() => {\n\t\tif (isSequence) return false;\n\t\tif (collectibleApprovalQuery.isApproved === undefined) return true;\n\n\t\treturn !collectibleApprovalQuery.isApproved;\n\t}, [collectibleApprovalQuery.isApproved, isSequence]);\n\n\tconst approve = useMutation({\n\t\tmutationFn: async () => {\n\t\t\t// Generate listing steps to extract approval step\n\t\t\tconst steps = await generateListingSteps();\n\t\t\tconst approvalStep = steps.find(\n\t\t\t\t(step) => step.id === StepType.tokenApproval,\n\t\t\t);\n\n\t\t\tif (!approvalStep) {\n\t\t\t\tthrow new Error('No approval step found');\n\t\t\t}\n\n\t\t\tconst result = await executeStepAndWait(approvalStep);\n\t\t\treturn result;\n\t\t},\n\t});\n\n\tconst createListing = useMutation({\n\t\tmutationFn: async () => {\n\t\t\t// Generate steps via API only when user clicks Create Listing\n\t\t\tconst steps = await generateListingSteps();\n\n\t\t\t// Filter out approval step if it exists (we handle it separately)\n\t\t\tconst listingSteps = steps.filter(\n\t\t\t\t(step) => step.id !== StepType.tokenApproval,\n\t\t\t);\n\n\t\t\tif (listingSteps.length === 0) {\n\t\t\t\tthrow new Error('No listing steps found');\n\t\t\t}\n\n\t\t\t// Execute all listing steps\n\t\t\tlet hash: Hex | undefined;\n\t\t\tlet orderId: string | undefined;\n\n\t\t\tfor (const step of listingSteps) {\n\t\t\t\tconst res = await executeStepAndWait(step);\n\t\t\t\tif (res.type === 'transaction') {\n\t\t\t\t\thash = res.hash;\n\t\t\t\t} else if (res.type === 'signature') {\n\t\t\t\t\torderId = res.orderId;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (currency) {\n\t\t\t\tconst currencyValueRaw = Number(listing.pricePerToken.toString());\n\t\t\t\tconst priceDnum = fromBigIntString(\n\t\t\t\t\tlisting.pricePerToken.toString(),\n\t\t\t\t\tcurrencyDecimals,\n\t\t\t\t);\n\t\t\t\tconst currencyValueDecimal = toNumber(priceDnum);\n\n\t\t\t\tlet requestId: string | undefined = orderId;\n\n\t\t\t\tif (\n\t\t\t\t\thash &&\n\t\t\t\t\t(orderbookKind === OrderbookKind.sequence_marketplace_v1 ||\n\t\t\t\t\t\torderbookKind === OrderbookKind.sequence_marketplace_v2) &&\n\t\t\t\t\tpublicClient\n\t\t\t\t) {\n\t\t\t\t\trequestId = await getSequenceMarketplaceRequestId(\n\t\t\t\t\t\thash,\n\t\t\t\t\t\tpublicClient,\n\t\t\t\t\t\townerAddress!,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tanalytics.trackCreateListing({\n\t\t\t\t\tprops: {\n\t\t\t\t\t\torderbookKind:\n\t\t\t\t\t\t\torderbookKind || OrderbookKind.sequence_marketplace_v2,\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tcurrencyAddress: listing.currencyAddress,\n\t\t\t\t\t\tcurrencySymbol: currency.symbol || '',\n\t\t\t\t\t\ttokenId: listing.tokenId.toString(),\n\t\t\t\t\t\trequestId: requestId || '',\n\t\t\t\t\t\tchainId: chainId.toString(),\n\t\t\t\t\t\ttxnHash: hash || '',\n\t\t\t\t\t},\n\t\t\t\t\tnums: {\n\t\t\t\t\t\tcurrencyValueDecimal,\n\t\t\t\t\t\tcurrencyValueRaw,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn { hash, orderId };\n\t\t},\n\t\tonSuccess: (res) => {\n\t\t\tstate.closeModal();\n\t\t\tshowTxModal({\n\t\t\t\ttype: TransactionType.LISTING,\n\t\t\t\tchainId,\n\t\t\t\thash: res.hash,\n\t\t\t\torderId: res.orderId,\n\t\t\t\tcollectionAddress,\n\t\t\t\ttokenId: state.tokenId,\n\t\t\t\tqueriesToInvalidate: [\n\t\t\t\t\t['collectible', 'market-lowest-listing'],\n\t\t\t\t\t['collectible', 'market-list-listings'],\n\t\t\t\t\t['collectible', 'market-count-listings'],\n\t\t\t\t\t['token', 'balances'],\n\t\t\t\t],\n\t\t\t});\n\t\t},\n\t});\n\n\treturn {\n\t\tapprove,\n\t\tcreateListing,\n\t\tneedsApproval,\n\t\tnftApprovalQuery: collectibleApprovalQuery,\n\t};\n};\n","import type { Dnum } from 'dnum';\nimport { useMemo } from 'react';\nimport type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { dateToUnixTime } from '../../../../../utils/date';\nimport type { ContractType } from '../../../../_internal';\nimport {\n\tuseCollectibleBalance,\n\tuseCollectibleMetadata,\n\tuseCollectionMetadata,\n\tuseConfig,\n\tuseConnectorMetadata,\n\tuseCurrencyList,\n} from '../../../../hooks';\nimport { useWaasFeeOptions } from '../../../../hooks/utils/useWaasFeeOptions';\nimport { useSelectWaasFeeOptionsStore } from '../../_internal/components/selectWaasFeeOptions/store';\nimport {\n\tfilterCurrenciesForOrderbook,\n\tgetDefaultCurrency,\n} from '../../_internal/helpers/currency';\nimport { computeFlowState } from '../../_internal/helpers/flow-state';\nimport {\n\tcreateApprovalGuard,\n\tcreateFinalTransactionGuard,\n} from '../../_internal/helpers/step-guards';\nimport type {\n\tApprovalStep,\n\tFeeStep,\n\tTransactionStep,\n} from '../../_internal/types/steps';\nimport { isFormValid, validateListingForm } from './helpers/validation';\nimport { useListingMutations } from './listing-mutations';\nimport { useCreateListingModalState } from './store';\n\nexport type CreateListingModalSteps = {\n\tfee?: FeeStep;\n\tapproval?: ApprovalStep;\n\tlisting: TransactionStep;\n};\n\nexport function useCreateListingModalContext() {\n\tconst state = useCreateListingModalState();\n\tconst { address } = useAccount();\n\tconst config = useConfig();\n\n\tconst collectibleQuery = useCollectibleMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\ttokenId: state.tokenId,\n\t});\n\n\tconst collectionQuery = useCollectionMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t});\n\n\tconst currenciesQuery = useCurrencyList({\n\t\tchainId: state.chainId,\n\t\tincludeNativeCurrency: true,\n\t});\n\n\tconst collectibleBalanceQuery = useCollectibleBalance({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\ttokenId: state.tokenId,\n\t\tuserAddress: address ?? undefined,\n\t\tquery: {\n\t\t\tenabled: !!address && collectionQuery.data?.type === 'ERC1155',\n\t\t},\n\t});\n\n\tconst { isWaaS, isSequence } = useConnectorMetadata();\n\n\tconst availableCurrencies = useMemo(() => {\n\t\tif (!currenciesQuery.data) return [];\n\t\treturn filterCurrenciesForOrderbook(\n\t\t\tcurrenciesQuery.data,\n\t\t\tstate.orderbookKind,\n\t\t\tstate.chainId,\n\t\t);\n\t}, [currenciesQuery.data, state.orderbookKind, state.chainId]);\n\n\tconst selectedCurrency = useMemo(() => {\n\t\tif (state.currencyAddress) {\n\t\t\treturn (\n\t\t\t\tavailableCurrencies.find(\n\t\t\t\t\t(c) => c.contractAddress === state.currencyAddress,\n\t\t\t\t) || null\n\t\t\t);\n\t\t}\n\t\treturn getDefaultCurrency(\n\t\t\tavailableCurrencies,\n\t\t\tstate.orderbookKind,\n\t\t\t'listing',\n\t\t);\n\t}, [state.currencyAddress, availableCurrencies, state.orderbookKind]);\n\n\tconst expiryDate = useMemo(\n\t\t() => new Date(Date.now() + state.expiryDays * 24 * 60 * 60 * 1000),\n\t\t[state.expiryDays],\n\t);\n\n\tconst priceDnum: Dnum = useMemo(() => {\n\t\tif (!state.priceInput || state.priceInput === '') {\n\t\t\treturn [0n, selectedCurrency?.decimals ?? 18];\n\t\t}\n\t\ttry {\n\t\t\treturn [\n\t\t\t\tBigInt(state.priceInput),\n\t\t\t\tselectedCurrency?.decimals ?? 18,\n\t\t\t] as Dnum;\n\t\t} catch {\n\t\t\treturn [0n, selectedCurrency?.decimals ?? 18];\n\t\t}\n\t}, [state.priceInput, selectedCurrency?.decimals]);\n\tconst priceRaw = priceDnum[0];\n\n\tconst quantityDnum: Dnum = useMemo(() => {\n\t\tif (!state.quantityInput || state.quantityInput === '') {\n\t\t\treturn [0n, collectibleQuery.data?.decimals ?? 0];\n\t\t}\n\t\ttry {\n\t\t\treturn [\n\t\t\t\tBigInt(state.quantityInput),\n\t\t\t\tcollectibleQuery.data?.decimals ?? 0,\n\t\t\t] as Dnum;\n\t\t} catch {\n\t\t\treturn [0n, collectibleQuery.data?.decimals ?? 0];\n\t\t}\n\t}, [state.quantityInput, collectibleQuery.data?.decimals]);\n\tconst quantityRaw = quantityDnum[0];\n\n\tconst balanceDnum: Dnum | undefined = useMemo(() => {\n\t\tif (\n\t\t\tcollectibleBalanceQuery.data?.balance !== undefined &&\n\t\t\tcollectibleQuery.data?.decimals !== undefined\n\t\t) {\n\t\t\treturn [\n\t\t\t\tBigInt(collectibleBalanceQuery.data.balance),\n\t\t\t\tcollectibleQuery.data.decimals,\n\t\t\t];\n\t\t}\n\t\treturn undefined;\n\t}, [collectibleBalanceQuery.data?.balance, collectibleQuery.data?.decimals]);\n\n\tconst validation = useMemo(\n\t\t() =>\n\t\t\tvalidateListingForm({\n\t\t\t\tprice: priceDnum,\n\t\t\t\tquantity: quantityDnum,\n\t\t\t\tbalance: balanceDnum,\n\t\t\t}),\n\t\t[priceDnum, quantityDnum, balanceDnum],\n\t);\n\n\tconst formIsValid = isFormValid(validation);\n\n\tconst { approve, createListing, needsApproval, nftApprovalQuery } =\n\t\tuseListingMutations({\n\t\t\tchainId: state.chainId,\n\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\tcontractType: collectionQuery.data?.type as ContractType | undefined,\n\t\t\torderbookKind: state.orderbookKind,\n\t\t\tlisting: {\n\t\t\t\ttokenId: state.tokenId,\n\t\t\t\tquantity: quantityRaw,\n\t\t\t\texpiry: dateToUnixTime(expiryDate).toString(),\n\t\t\t\tcurrencyAddress:\n\t\t\t\t\tselectedCurrency?.contractAddress ??\n\t\t\t\t\t('0x0000000000000000000000000000000000000000' as Address),\n\t\t\t\tpricePerToken: priceRaw,\n\t\t\t},\n\t\t\tcurrencyDecimals: selectedCurrency?.decimals ?? 18,\n\t\t\tnftApprovalEnabled:\n\t\t\t\t!!address &&\n\t\t\t\t!!collectionQuery.data?.type &&\n\t\t\t\t!!state.orderbookKind &&\n\t\t\t\tstate.isOpen &&\n\t\t\t\t!isSequence,\n\t\t});\n\n\tconst waas = useSelectWaasFeeOptionsStore();\n\tconst { pendingFeeOptionConfirmation, rejectPendingFeeOption } =\n\t\tuseWaasFeeOptions(state.chainId, config);\n\tconst isSponsored = pendingFeeOptionConfirmation?.options?.length === 0;\n\tconst isFeeSelectionVisible =\n\t\twaas.isVisible || (!isSponsored && !!pendingFeeOptionConfirmation?.options);\n\n\tconst steps: CreateListingModalSteps = {} as CreateListingModalSteps;\n\n\tif (isWaaS) {\n\t\tconst feeSelected = isSponsored || !!waas.selectedFeeOption;\n\n\t\tsteps.fee = {\n\t\t\tlabel: 'Select Fee',\n\t\t\tstatus: feeSelected\n\t\t\t\t? 'success'\n\t\t\t\t: isFeeSelectionVisible\n\t\t\t\t\t? 'selecting'\n\t\t\t\t\t: 'idle',\n\t\t\tisSponsored,\n\t\t\tisSelecting: isFeeSelectionVisible,\n\t\t\tselectedOption: waas.selectedFeeOption,\n\t\t\tshow: () => waas.show(),\n\t\t\tcancel: () => waas.hide(),\n\t\t};\n\t}\n\n\tconst approveData = approve.data;\n\tconst approveTransactionHash =\n\t\tapproveData && 'type' in approveData && approveData.type === 'transaction'\n\t\t\t? approveData.hash\n\t\t\t: undefined;\n\n\tif (needsApproval && !approve.isSuccess) {\n\t\tconst approvalGuard = createApprovalGuard({\n\t\t\tisFormValid: formIsValid,\n\t\t\ttxReady: true,\n\t\t\twalletConnected: !!address,\n\t\t});\n\t\tconst guardResult = approvalGuard();\n\n\t\tsteps.approval = {\n\t\t\tlabel: 'Approve',\n\t\t\tstatus: approve.isSuccess\n\t\t\t\t? 'success'\n\t\t\t\t: approve.isPending\n\t\t\t\t\t? 'pending'\n\t\t\t\t\t: approve.error\n\t\t\t\t\t\t? 'error'\n\t\t\t\t\t\t: 'idle',\n\t\t\tisPending: approve.isPending,\n\t\t\tisSuccess: approve.isSuccess,\n\t\t\tisDisabled: !guardResult.canProceed,\n\t\t\tdisabledReason: guardResult.error?.message || null,\n\t\t\terror: approve.error,\n\t\t\tcanExecute: guardResult.canProceed,\n\t\t\tresult: approveTransactionHash\n\t\t\t\t? { type: 'transaction', hash: approveTransactionHash }\n\t\t\t\t: null,\n\t\t\texecute: async () => {\n\t\t\t\tawait approve.mutateAsync();\n\t\t\t},\n\t\t\treset: () => approve.reset(),\n\t\t};\n\t}\n\n\tconst listingGuard = createFinalTransactionGuard({\n\t\tisFormValid: formIsValid,\n\t\ttxReady: true,\n\t\twalletConnected: !!address,\n\t\trequiresApproval: needsApproval && !approve.isSuccess,\n\t\tapprovalComplete: approve.isSuccess || !needsApproval,\n\t});\n\tconst listingGuardResult = listingGuard();\n\n\tconst listingData = createListing.data;\n\tconst listingTransactionHash = listingData?.hash;\n\tconst listingOrderId = listingData?.orderId;\n\n\tsteps.listing = {\n\t\tlabel: 'Create Listing',\n\t\tstatus: createListing.isSuccess\n\t\t\t? 'success'\n\t\t\t: createListing.isPending\n\t\t\t\t? 'pending'\n\t\t\t\t: createListing.error\n\t\t\t\t\t? 'error'\n\t\t\t\t\t: 'idle',\n\t\tisPending: createListing.isPending,\n\t\tisSuccess: createListing.isSuccess,\n\t\tisDisabled: !listingGuardResult.canProceed,\n\t\tdisabledReason: listingGuardResult.error?.message || null,\n\t\terror: createListing.error,\n\t\tcanExecute: listingGuardResult.canProceed,\n\t\tresult: listingTransactionHash\n\t\t\t? { type: 'transaction', hash: listingTransactionHash }\n\t\t\t: listingOrderId\n\t\t\t\t? { type: 'signature', orderId: listingOrderId }\n\t\t\t\t: null,\n\t\texecute: async () => {\n\t\t\tawait createListing.mutateAsync();\n\t\t},\n\t};\n\n\tconst flow = computeFlowState(steps);\n\n\tconst error =\n\t\tnftApprovalQuery.error ||\n\t\tcollectibleQuery.error ||\n\t\tcollectionQuery.error ||\n\t\tcurrenciesQuery.error ||\n\t\tcollectibleBalanceQuery.error;\n\n\tconst handleClose = () => {\n\t\tif (pendingFeeOptionConfirmation?.id) {\n\t\t\trejectPendingFeeOption(pendingFeeOptionConfirmation.id);\n\t\t}\n\t\twaas.hide();\n\t\tstate.closeModal();\n\t};\n\n\treturn {\n\t\tisOpen: state.isOpen,\n\t\tclose: handleClose,\n\n\t\titem: {\n\t\t\tchainId: state.chainId,\n\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\ttokenId: state.tokenId,\n\t\t\torderbookKind: state.orderbookKind,\n\t\t},\n\n\t\tlisting: {\n\t\t\tprice: {\n\t\t\t\tinput: state.priceInput,\n\t\t\t\tamountRaw: priceRaw,\n\t\t\t\tcurrency: selectedCurrency,\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\tinput: state.quantityInput,\n\t\t\t\tparsed: quantityRaw,\n\t\t\t},\n\t\t\texpiry: expiryDate,\n\t\t},\n\n\t\tform: {\n\t\t\tprice: {\n\t\t\t\tinput: state.priceInput,\n\t\t\t\tupdate: state.updatePriceInput,\n\t\t\t\ttouch: state.touchPriceInput,\n\t\t\t\tisTouched: state.isPriceTouched,\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\tinput: state.quantityInput,\n\t\t\t\tupdate: state.updateQuantityInput,\n\t\t\t\ttouch: state.touchQuantityInput,\n\t\t\t\tisTouched: state.isQuantityTouched,\n\t\t\t\tvalidation: validation.quantity,\n\t\t\t},\n\t\t\texpiry: {\n\t\t\t\tupdate: state.updateExpiryDays,\n\t\t\t},\n\t\t\tisValid: formIsValid,\n\t\t\tvalidation: {\n\t\t\t\tprice: validation.price,\n\t\t\t\tquantity: validation.quantity,\n\t\t\t\tbalance: validation.balance,\n\t\t\t},\n\t\t\terrors: {\n\t\t\t\tprice: state.isPriceTouched ? validation.price.error : undefined,\n\t\t\t\tquantity: state.isQuantityTouched\n\t\t\t\t\t? validation.quantity.error\n\t\t\t\t\t: undefined,\n\t\t\t\tbalance: state.isQuantityTouched\n\t\t\t\t\t? validation.balance?.error\n\t\t\t\t\t: undefined,\n\t\t\t},\n\t\t},\n\n\t\tcurrencies: {\n\t\t\tavailable: availableCurrencies,\n\t\t\tselected: selectedCurrency,\n\t\t\tselect: state.updateCurrency,\n\t\t\tisConfigured: availableCurrencies.length > 0,\n\t\t},\n\n\t\tsteps,\n\t\tflow,\n\n\t\tloading: {\n\t\t\tcollectible: collectibleQuery.isLoading,\n\t\t\tcollection: collectionQuery.isLoading,\n\t\t\tcurrencies: currenciesQuery.isLoading,\n\t\t\tcollectibleBalance: collectibleBalanceQuery.isLoading,\n\t\t\tnftApproval: nftApprovalQuery.isLoading,\n\t\t},\n\n\t\ttransactions: {\n\t\t\tapprove: approveTransactionHash,\n\t\t\tlisting: listingTransactionHash,\n\t\t},\n\n\t\terror,\n\t\tqueries: {\n\t\t\tcollectible: collectibleQuery,\n\t\t\tcollection: collectionQuery,\n\t\t\tcurrencies: currenciesQuery,\n\t\t\tcollectibleBalance: collectibleBalanceQuery,\n\t\t},\n\n\t\t// Computed helpers for simpler consumption\n\t\tget formError() {\n\t\t\tif (!this.currencies.isConfigured) {\n\t\t\t\treturn 'No ERC-20 currencies are configured for this marketplace';\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tthis.form.errors.price ||\n\t\t\t\tthis.form.errors.quantity ||\n\t\t\t\tthis.form.errors.balance\n\t\t\t);\n\t\t},\n\n\t\tget actions() {\n\t\t\tconst needsApprovalAction =\n\t\t\t\tthis.steps.approval && this.steps.approval.status !== 'success';\n\t\t\tconst currenciesBlocked = !this.currencies.isConfigured;\n\n\t\t\treturn {\n\t\t\t\tapprove: needsApprovalAction\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tlabel: this.steps.approval?.label,\n\t\t\t\t\t\t\tonClick: this.steps.approval?.execute || (() => {}),\n\t\t\t\t\t\t\tloading: this.steps.approval?.isPending,\n\t\t\t\t\t\t\tdisabled: this.steps.approval?.isDisabled || currenciesBlocked,\n\t\t\t\t\t\t\ttestid: 'create-listing-approve-button',\n\t\t\t\t\t\t}\n\t\t\t\t\t: undefined,\n\t\t\t\tlisting: {\n\t\t\t\t\tlabel: this.steps.listing.label,\n\t\t\t\t\tonClick: this.steps.listing.execute,\n\t\t\t\t\tloading: this.steps.listing.isPending,\n\t\t\t\t\tdisabled: this.steps.listing.isDisabled || currenciesBlocked,\n\t\t\t\t\tvariant: needsApprovalAction ? ('ghost' as const) : undefined,\n\t\t\t\t\ttestid: 'create-listing-submit-button',\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t};\n}\n\nexport type CreateListingModalContext = ReturnType<\n\ttypeof useCreateListingModalContext\n>;\n","'use client';\n\nimport type { Currency } from '@0xsequence/api-client';\nimport { useSelector } from '@xstate/store/react';\nimport { ActionModal } from '../_internal/components/baseModal/ActionModal';\nimport ExpirationDateSelect from '../_internal/components/expirationDateSelect';\nimport FloorPriceText from '../_internal/components/floorPriceText';\nimport PriceInput from '../_internal/components/priceInput';\nimport QuantityInput from '../_internal/components/quantityInput';\nimport SelectWaasFeeOptions from '../_internal/components/selectWaasFeeOptions';\nimport TokenPreview from '../_internal/components/tokenPreview';\nimport TransactionDetails from '../_internal/components/transactionDetails';\nimport { useCreateListingModalContext } from './internal/context';\nimport { createListingModalStore } from './internal/store';\n\nexport const CreateListingModal = () => {\n\tconst isOpen = useSelector(\n\t\tcreateListingModalStore,\n\t\t(state) => state.context.isOpen,\n\t);\n\treturn isOpen ? <Modal /> : null;\n};\n\nconst Modal = () => {\n\tconst ctx = useCreateListingModalContext();\n\n\tif (!ctx.isOpen) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ActionModal\n\t\t\tchainId={ctx.item.chainId}\n\t\t\tonClose={ctx.close}\n\t\t\ttitle=\"List item for sale\"\n\t\t\ttype=\"listing\"\n\t\t\tprimaryAction={\n\t\t\t\tctx.steps.fee?.isSelecting\n\t\t\t\t\t? undefined\n\t\t\t\t\t: (ctx.actions.approve ?? ctx.actions.listing)\n\t\t\t}\n\t\t\tsecondaryAction={\n\t\t\t\tctx.steps.fee?.isSelecting\n\t\t\t\t\t? undefined\n\t\t\t\t\t: ctx.actions.approve\n\t\t\t\t\t\t? ctx.actions.listing\n\t\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tqueries={{\n\t\t\t\tcollectible: ctx.queries.collectible,\n\t\t\t\tcollection: ctx.queries.collection,\n\t\t\t\tcurrencies: ctx.queries.currencies,\n\t\t\t\tcollectibleBalance: ctx.queries.collectibleBalance,\n\t\t\t}}\n\t\t\texternalError={ctx.error}\n\t\t>\n\t\t\t{({ collectible, collection, currencies, collectibleBalance }) => (\n\t\t\t\t<>\n\t\t\t\t\t{currencies.length === 0 && (\n\t\t\t\t\t\t<div className=\"text-center text-gray-400\">\n\t\t\t\t\t\t\tNo ERC-20s are configured for the marketplace, contact the\n\t\t\t\t\t\t\tmarketplace owners\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{currencies.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TokenPreview\n\t\t\t\t\t\t\t\tcollectionName={collection?.name}\n\t\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ctx.listing.price.currency && (\n\t\t\t\t\t\t\t\t<PriceInput\n\t\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\t\t\tprice={{\n\t\t\t\t\t\t\t\t\t\tamountRaw: ctx.listing.price.amountRaw,\n\t\t\t\t\t\t\t\t\t\tcurrency: ctx.listing.price.currency,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonPriceChange={(newPrice) => {\n\t\t\t\t\t\t\t\t\t\tctx.form.price.update(newPrice.amountRaw.toString());\n\t\t\t\t\t\t\t\t\t\tif (newPrice.currency) {\n\t\t\t\t\t\t\t\t\t\t\tctx.currencies.select(\n\t\t\t\t\t\t\t\t\t\t\t\tnewPrice.currency.contractAddress as `0x${string}`,\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonCurrencyChange={(newCurrency) => {\n\t\t\t\t\t\t\t\t\t\tctx.currencies.select(\n\t\t\t\t\t\t\t\t\t\t\tnewCurrency.contractAddress as `0x${string}`,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tincludeNativeCurrency={true}\n\t\t\t\t\t\t\t\t\torderbookKind={ctx.item.orderbookKind}\n\t\t\t\t\t\t\t\t\tmodalType=\"listing\"\n\t\t\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{ctx.form.isValid && ctx.listing.price.currency && (\n\t\t\t\t\t\t\t\t<FloorPriceText\n\t\t\t\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\t\t\tprice={{\n\t\t\t\t\t\t\t\t\t\tamountRaw: ctx.listing.price.amountRaw,\n\t\t\t\t\t\t\t\t\t\tcurrency: ctx.listing.price.currency,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{collection?.type === 'ERC1155' &&\n\t\t\t\t\t\t\t\tcollectibleBalance?.balance && (\n\t\t\t\t\t\t\t\t\t<QuantityInput\n\t\t\t\t\t\t\t\t\t\tquantity={ctx.listing.quantity.parsed}\n\t\t\t\t\t\t\t\t\t\tinvalidQuantity={!ctx.form.quantity.validation.isValid}\n\t\t\t\t\t\t\t\t\t\tonQuantityChange={(quantity) =>\n\t\t\t\t\t\t\t\t\t\t\tctx.form.quantity.update(quantity.toString())\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonInvalidQuantityChange={() => {}}\n\t\t\t\t\t\t\t\t\t\tdecimals={collectible?.decimals || 0}\n\t\t\t\t\t\t\t\t\t\tmaxQuantity={BigInt(collectibleBalance.balance)}\n\t\t\t\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<ExpirationDateSelect\n\t\t\t\t\t\t\t\tdate={ctx.listing.expiry}\n\t\t\t\t\t\t\t\tonDateChange={(date) => {\n\t\t\t\t\t\t\t\t\tconst days = Math.ceil(\n\t\t\t\t\t\t\t\t\t\t(date.getTime() - Date.now()) / (24 * 60 * 60 * 1000),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tctx.form.expiry.update(days);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<TransactionDetails\n\t\t\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\tprice={{\n\t\t\t\t\t\t\t\t\tamountRaw: ctx.listing.price.amountRaw,\n\t\t\t\t\t\t\t\t\tcurrency: ctx.listing.price.currency as Currency,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcurrencyImageUrl={ctx.listing.price.currency?.imageUrl}\n\t\t\t\t\t\t\t\tincludeMarketplaceFee={false}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ctx.steps.fee?.isSelecting && (\n\t\t\t\t\t\t\t\t<SelectWaasFeeOptions\n\t\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\t\tonCancel={ctx.steps.fee.cancel}\n\t\t\t\t\t\t\t\t\ttitleOnConfirm=\"Creating listing...\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{ctx.formError && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 text-red-500 text-sm\">{ctx.formError}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</ActionModal>\n\t);\n};\n","import { type Dnum, greaterThan } from 'dnum';\nimport { isPositive } from '../../../_internal/helpers/dnum-utils';\n\nexport type FieldValidation = {\n\tisValid: boolean;\n\terror: string | null;\n};\n\nexport type OfferValidation = {\n\tprice: FieldValidation;\n\tquantity: FieldValidation;\n\tbalance: FieldValidation;\n\topenseaCriteria?: FieldValidation;\n};\n\nexport function validateOfferForm({\n\tprice,\n\tquantity,\n\tbalance,\n\tlowestListing,\n\torderbookKind,\n}: {\n\tprice: Dnum;\n\tquantity: Dnum;\n\tbalance?: Dnum;\n\tlowestListing?: Dnum;\n\torderbookKind?: string;\n}): OfferValidation {\n\tconst validation: OfferValidation = {\n\t\tprice: { isValid: true, error: null },\n\t\tquantity: { isValid: true, error: null },\n\t\tbalance: { isValid: true, error: null },\n\t};\n\n\t// Price validation\n\tif (!isPositive(price)) {\n\t\tvalidation.price = {\n\t\t\tisValid: false,\n\t\t\terror: 'Price must be greater than 0',\n\t\t};\n\t}\n\n\t// Quantity validation\n\tif (!isPositive(quantity)) {\n\t\tvalidation.quantity = {\n\t\t\tisValid: false,\n\t\t\terror: 'Quantity must be greater than 0',\n\t\t};\n\t}\n\n\t// Balance validation\n\tif (balance && greaterThan(price, balance)) {\n\t\tvalidation.balance = {\n\t\t\tisValid: false,\n\t\t\terror: 'Insufficient balance for this offer',\n\t\t};\n\t}\n\n\t// OpenSea specific validation\n\tif (orderbookKind === 'opensea' && lowestListing) {\n\t\tconst meetsMinimum = greaterThan(price, lowestListing);\n\t\tvalidation.openseaCriteria = {\n\t\t\tisValid: meetsMinimum,\n\t\t\terror: meetsMinimum\n\t\t\t\t? null\n\t\t\t\t: 'Offer must be higher than lowest listing for OpenSea',\n\t\t};\n\t}\n\n\treturn validation;\n}\n\nexport function isFormValid(validation: OfferValidation): boolean {\n\treturn (\n\t\tvalidation.price.isValid &&\n\t\tvalidation.quantity.isValid &&\n\t\tvalidation.balance.isValid &&\n\t\t(validation.openseaCriteria?.isValid ?? true)\n\t);\n}\n\nexport function getValidationErrors(validation: OfferValidation): string[] {\n\tconst errors: string[] = [];\n\n\tif (validation.price.error) errors.push(validation.price.error);\n\tif (validation.quantity.error) errors.push(validation.quantity.error);\n\tif (validation.balance.error) errors.push(validation.balance.error);\n\tif (validation.openseaCriteria?.error)\n\t\terrors.push(validation.openseaCriteria.error);\n\n\treturn errors;\n}\n\nexport function getFirstValidationError(\n\tvalidation: OfferValidation,\n): string | null {\n\tconst errors = getValidationErrors(validation);\n\treturn errors.length > 0 ? errors[0] : null;\n}\n","import { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { Address } from 'viem';\nimport { OrderbookKind } from '../../../../../types';\n\nexport type OpenMakeOfferModalArgs = {\n\tcollectionAddress: Address;\n\tchainId: number;\n\ttokenId: bigint;\n\torderbookKind?: OrderbookKind;\n};\n\ntype MakeOfferModalState = OpenMakeOfferModalArgs & {\n\tisOpen: boolean;\n\tpriceInput: string;\n\tcurrencyAddress?: Address;\n\tquantityInput: string;\n\texpiryDays: number;\n\tisPriceTouched: boolean;\n\tisQuantityTouched: boolean;\n};\n\nconst initialContext: MakeOfferModalState = {\n\tisOpen: false,\n\tcollectionAddress: '' as Address,\n\tchainId: 0,\n\ttokenId: 0n,\n\torderbookKind: OrderbookKind.sequence_marketplace_v2,\n\tpriceInput: '',\n\tcurrencyAddress: undefined,\n\tquantityInput: '1',\n\texpiryDays: 7,\n\tisPriceTouched: false,\n\tisQuantityTouched: false,\n};\n\nexport const makeOfferModalStore = createStore({\n\tcontext: { ...initialContext },\n\ton: {\n\t\topen: (_context, event: OpenMakeOfferModalArgs) => ({\n\t\t\t...initialContext,\n\t\t\tisOpen: true,\n\t\t\t...event,\n\t\t\texpiryDays: 7,\n\t\t\tpriceInput: '',\n\t\t\tquantityInput: '1',\n\t\t\tisPriceTouched: false,\n\t\t\tisQuantityTouched: false,\n\t\t}),\n\t\tclose: () => ({ ...initialContext }),\n\n\t\tupdatePrice: (context, event: { value: string }) => {\n\t\t\tconst isBlurNormalization =\n\t\t\t\tcontext.priceInput === '' && event.value === '0';\n\t\t\tconst valueChanged = context.priceInput !== event.value;\n\t\t\tconst shouldMarkTouched = valueChanged && !isBlurNormalization;\n\n\t\t\treturn {\n\t\t\t\t...context,\n\t\t\t\tpriceInput: event.value,\n\t\t\t\tisPriceTouched: shouldMarkTouched ? true : context.isPriceTouched,\n\t\t\t};\n\t\t},\n\t\ttouchPrice: (context) => ({\n\t\t\t...context,\n\t\t\tisPriceTouched: true,\n\t\t}),\n\t\tselectCurrency: (context, event: { address: Address }) => ({\n\t\t\t...context,\n\t\t\tcurrencyAddress: event.address,\n\t\t}),\n\t\tupdateQuantity: (context, event: { value: string }) => ({\n\t\t\t...context,\n\t\t\tquantityInput: event.value,\n\t\t\tisQuantityTouched: true,\n\t\t}),\n\t\ttouchQuantity: (context) => ({\n\t\t\t...context,\n\t\t\tisQuantityTouched: true,\n\t\t}),\n\t\tupdateExpiryDays: (context, event: { days: number }) => ({\n\t\t\t...context,\n\t\t\texpiryDays: event.days,\n\t\t}),\n\t},\n});\n\nexport const useMakeOfferModal = () => {\n\tconst state = useSelector(makeOfferModalStore, (state) => state.context);\n\n\treturn {\n\t\t...state,\n\t\tshow: (args: OpenMakeOfferModalArgs) =>\n\t\t\tmakeOfferModalStore.send({ type: 'open', ...args }),\n\t\tclose: () => makeOfferModalStore.send({ type: 'close' }),\n\t};\n};\n\nexport const useMakeOfferModalState = () => {\n\tconst {\n\t\tisOpen,\n\t\ttokenId,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\torderbookKind,\n\t\tpriceInput,\n\t\tcurrencyAddress,\n\t\tquantityInput,\n\t\texpiryDays,\n\t\tisPriceTouched,\n\t\tisQuantityTouched,\n\t} = useSelector(makeOfferModalStore, (state) => state.context);\n\n\tconst closeModal = () => makeOfferModalStore.send({ type: 'close' });\n\tconst updatePriceInput = (value: string) =>\n\t\tmakeOfferModalStore.send({ type: 'updatePrice', value });\n\tconst touchPriceInput = () =>\n\t\tmakeOfferModalStore.send({ type: 'touchPrice' });\n\tconst updateCurrency = (address: Address) =>\n\t\tmakeOfferModalStore.send({ type: 'selectCurrency', address });\n\tconst updateQuantityInput = (value: string) =>\n\t\tmakeOfferModalStore.send({ type: 'updateQuantity', value });\n\tconst touchQuantityInput = () =>\n\t\tmakeOfferModalStore.send({ type: 'touchQuantity' });\n\tconst updateExpiryDays = (days: number) =>\n\t\tmakeOfferModalStore.send({ type: 'updateExpiryDays', days });\n\n\treturn {\n\t\tisOpen,\n\t\ttokenId,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\torderbookKind,\n\t\tpriceInput,\n\t\tcurrencyAddress,\n\t\tquantityInput,\n\t\texpiryDays,\n\t\tisPriceTouched,\n\t\tisQuantityTouched,\n\t\tcloseModal,\n\t\tupdatePriceInput,\n\t\ttouchPriceInput,\n\t\tupdateCurrency,\n\t\tupdateQuantityInput,\n\t\ttouchQuantityInput,\n\t\tupdateExpiryDays,\n\t};\n};\n","import { useMutation } from '@tanstack/react-query';\nimport { toNumber } from 'dnum';\nimport type { Address, Hex } from 'viem';\nimport { encodeFunctionData, maxUint256 } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { OrderbookKind } from '../../../../../types';\nimport { ERC20_ABI } from '../../../../../utils/abi';\nimport { getConduitAddressForOrderbook } from '../../../../../utils/getConduitAddressForOrderbook';\nimport {\n\ttype ContractType,\n\ttype CreateReq,\n\ttype GenerateOfferTransactionRequest,\n\tgetMarketplaceClient,\n\tOfferType,\n\ttype Step,\n\tStepType,\n\tTransactionType,\n} from '../../../../_internal';\nimport { useAnalytics } from '../../../../_internal/databeat';\nimport {\n\tuseConfig,\n\tuseConnectorMetadata,\n\tuseCurrency,\n\tuseProcessStep,\n} from '../../../../hooks';\nimport { waitForTransactionReceipt } from '../../../../utils';\nimport { useTransactionStatusModal } from '../../_internal/components/transactionStatusModal';\nimport { fromBigIntString } from '../../_internal/helpers/dnum-utils';\nimport { useMakeOfferModalState } from './store';\n\nexport type ProcessStepResult =\n\t| { type: 'transaction'; hash: Hex }\n\t| { type: 'signature'; orderId?: string; signature?: Hex };\n\nexport interface OfferParams {\n\ttokenId: bigint;\n\tquantity: bigint;\n\texpiry: string;\n\tcurrencyAddress: Address;\n\tpricePerToken: bigint;\n}\n\nexport interface UseOfferMutationsArgs {\n\tchainId: number;\n\tcollectionAddress: Address;\n\tcontractType: ContractType | undefined;\n\torderbookKind: OrderbookKind | undefined;\n\toffer: OfferParams;\n\tcurrencyDecimals: number;\n\tneedsApproval: boolean;\n}\n\nexport const useOfferMutations = ({\n\tchainId,\n\tcollectionAddress,\n\tcontractType,\n\torderbookKind,\n\toffer,\n\tcurrencyDecimals,\n\tneedsApproval,\n}: UseOfferMutationsArgs) => {\n\tconst sdkConfig = useConfig();\n\tconst { address: makerAddress } = useAccount();\n\tconst { show: showTxModal } = useTransactionStatusModal();\n\tconst analytics = useAnalytics();\n\tconst state = useMakeOfferModalState();\n\tconst { processStep } = useProcessStep();\n\tconst { walletKind } = useConnectorMetadata();\n\tconst { data: currency } = useCurrency({\n\t\tchainId,\n\t\tcurrencyAddress: offer.currencyAddress,\n\t});\n\n\tasync function executeStepAndWait(step: Step) {\n\t\tconst res = await processStep(step, chainId);\n\t\tif (res.type === 'transaction' && res.hash) {\n\t\t\tawait waitForTransactionReceipt({\n\t\t\t\ttxHash: res.hash,\n\t\t\t\tchainId,\n\t\t\t\tsdkConfig,\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\t/**\n\t * Generate the approval step on the frontend.\n\t * This approves max uint256 for the marketplace contract to spend the user's tokens.\n\t */\n\tfunction createApprovalStep(): Step {\n\t\tconst spenderAddress = getConduitAddressForOrderbook(orderbookKind);\n\t\tif (!spenderAddress) {\n\t\t\tthrow new Error(`Unknown orderbook kind: ${orderbookKind}`);\n\t\t}\n\n\t\tconst approvalCalldata = encodeFunctionData({\n\t\t\tabi: ERC20_ABI,\n\t\t\tfunctionName: 'approve',\n\t\t\targs: [spenderAddress, maxUint256],\n\t\t});\n\n\t\treturn {\n\t\t\tid: StepType.tokenApproval,\n\t\t\tdata: approvalCalldata,\n\t\t\tto: offer.currencyAddress,\n\t\t\tvalue: 0n,\n\t\t\tprice: 0n,\n\t\t};\n\t}\n\n\tasync function generateOfferSteps(): Promise<{ offerStep: Step }> {\n\t\tif (!contractType) {\n\t\t\tthrow new Error('Contract type is required to generate offer steps');\n\t\t}\n\t\tif (!makerAddress) {\n\t\t\tthrow new Error('Wallet not connected');\n\t\t}\n\t\tif (!orderbookKind) {\n\t\t\tthrow new Error('Orderbook kind is required');\n\t\t}\n\n\t\tconst marketplaceClient = getMarketplaceClient(sdkConfig);\n\n\t\tconst request: GenerateOfferTransactionRequest = {\n\t\t\tchainId,\n\t\t\tcollectionAddress,\n\t\t\tmaker: makerAddress,\n\t\t\twalletType: walletKind,\n\t\t\tcontractType,\n\t\t\torderbook: orderbookKind,\n\t\t\toffer: {\n\t\t\t\ttokenId: offer.tokenId,\n\t\t\t\tquantity: offer.quantity,\n\t\t\t\texpiry: offer.expiry,\n\t\t\t\tcurrencyAddress: offer.currencyAddress,\n\t\t\t\tpricePerToken: offer.pricePerToken,\n\t\t\t} satisfies CreateReq,\n\t\t\tadditionalFees: [],\n\t\t\tofferType: OfferType.item,\n\t\t};\n\n\t\tconst response = await marketplaceClient.generateOfferTransaction(request);\n\t\tconst steps = response.steps;\n\n\t\tif (steps.length === 0) {\n\t\t\tthrow new Error('No steps generated');\n\t\t}\n\n\t\t// Find the offer step (not the approval step - we handle approval separately)\n\t\tconst offerStep = steps.find((step) => step.id !== StepType.tokenApproval);\n\t\tif (!offerStep) {\n\t\t\tthrow new Error('No offer step found in response');\n\t\t}\n\n\t\treturn { offerStep };\n\t}\n\n\tconst approve = useMutation({\n\t\tmutationFn: async () => {\n\t\t\tconst approvalStep = createApprovalStep();\n\t\t\tconst result = await executeStepAndWait(approvalStep);\n\n\t\t\treturn result;\n\t\t},\n\t});\n\n\tconst makeOffer = useMutation({\n\t\tmutationFn: async () => {\n\t\t\t// Generate steps via API only when user clicks Make Offer\n\t\t\tconst { offerStep } = await generateOfferSteps();\n\n\t\t\tconst res = await executeStepAndWait(offerStep);\n\n\t\t\tif (currency) {\n\t\t\t\tconst currencyValueRaw = Number(offer.pricePerToken.toString());\n\t\t\t\tconst priceDnum = fromBigIntString(\n\t\t\t\t\toffer.pricePerToken.toString(),\n\t\t\t\t\tcurrencyDecimals,\n\t\t\t\t);\n\t\t\t\tconst currencyValueDecimal = toNumber(priceDnum);\n\n\t\t\t\tlet requestId: string | undefined;\n\n\t\t\t\tif (res.type === 'signature') {\n\t\t\t\t\trequestId = res.orderId;\n\t\t\t\t}\n\n\t\t\t\tanalytics.trackCreateOffer({\n\t\t\t\t\tprops: {\n\t\t\t\t\t\torderbookKind:\n\t\t\t\t\t\t\torderbookKind || OrderbookKind.sequence_marketplace_v2,\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tcurrencyAddress: offer.currencyAddress,\n\t\t\t\t\t\tcurrencySymbol: currency.symbol || '',\n\t\t\t\t\t\tchainId: chainId.toString(),\n\t\t\t\t\t\trequestId: requestId || '',\n\t\t\t\t\t\ttxnHash: res.type === 'transaction' ? (res.hash as string) : '',\n\t\t\t\t\t},\n\t\t\t\t\tnums: {\n\t\t\t\t\t\tcurrencyValueDecimal,\n\t\t\t\t\t\tcurrencyValueRaw,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn res;\n\t\t},\n\t\tonSuccess: (res) => {\n\t\t\tstate.closeModal();\n\t\t\tshowTxModal({\n\t\t\t\ttype: TransactionType.OFFER,\n\t\t\t\tchainId,\n\t\t\t\thash: res?.type === 'transaction' ? res.hash : undefined,\n\t\t\t\torderId: res?.type === 'signature' ? res.orderId : undefined,\n\t\t\t\tcollectionAddress,\n\t\t\t\ttokenId: state.tokenId,\n\t\t\t\tqueriesToInvalidate: [\n\t\t\t\t\t['collectible', 'market-highest-offer'],\n\t\t\t\t\t['collectible', 'market-list-offers'],\n\t\t\t\t\t['collectible', 'market-count-offers'],\n\t\t\t\t],\n\t\t\t});\n\t\t},\n\t});\n\n\treturn {\n\t\tapprove,\n\t\tmakeOffer,\n\t\tneedsApproval,\n\t};\n};\n","import type { Dnum } from 'dnum';\nimport { useMemo } from 'react';\nimport type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { dateToUnixTime } from '../../../../../utils/date';\nimport { getConduitAddressForOrderbook } from '../../../../../utils/getConduitAddressForOrderbook';\nimport type { ContractType } from '../../../../_internal';\nimport {\n\tuseCollectibleMarketLowestListing,\n\tuseCollectibleMetadata,\n\tuseCollectionMetadata,\n\tuseConfig,\n\tuseConnectorMetadata,\n\tuseCurrencyList,\n\tuseTokenCurrencyBalance,\n} from '../../../../hooks';\nimport { useWaasFeeOptions } from '../../../../hooks/utils/useWaasFeeOptions';\nimport { useSelectWaasFeeOptionsStore } from '../../_internal/components/selectWaasFeeOptions/store';\nimport {\n\tfilterCurrenciesForOrderbook,\n\tgetDefaultCurrency,\n} from '../../_internal/helpers/currency';\nimport { computeFlowState } from '../../_internal/helpers/flow-state';\nimport {\n\tcreateApprovalGuard,\n\tcreateFinalTransactionGuard,\n} from '../../_internal/helpers/step-guards';\nimport type {\n\tApprovalStep,\n\tFeeStep,\n\tTransactionStep,\n} from '../../_internal/types/steps';\nimport { isFormValid, validateOfferForm } from './helpers/validation';\nimport { useERC20Allowance } from './hooks';\nimport { useOfferMutations } from './offer-mutations';\nimport { useMakeOfferModalState } from './store';\n\nexport type MakeOfferModalSteps = {\n\tfee?: FeeStep;\n\tapproval?: ApprovalStep;\n\toffer: TransactionStep;\n};\n\nexport function useMakeOfferModalContext() {\n\tconst state = useMakeOfferModalState();\n\tconst { address } = useAccount();\n\tconst config = useConfig();\n\n\tconst collectibleQuery = useCollectibleMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\ttokenId: state.tokenId,\n\t});\n\n\tconst collectionQuery = useCollectionMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t});\n\n\tconst currenciesQuery = useCurrencyList({\n\t\tchainId: state.chainId,\n\t\tincludeNativeCurrency: false,\n\t});\n\n\tconst lowestListingQuery = useCollectibleMarketLowestListing({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\ttokenId: state.tokenId,\n\t});\n\n\tconst { isWaaS, isSequence } = useConnectorMetadata();\n\n\tconst availableCurrencies = useMemo(() => {\n\t\tif (!currenciesQuery.data) return [];\n\t\treturn filterCurrenciesForOrderbook(\n\t\t\tcurrenciesQuery.data,\n\t\t\tstate.orderbookKind,\n\t\t\tstate.chainId,\n\t\t);\n\t}, [currenciesQuery.data, state.orderbookKind, state.chainId]);\n\n\tconst selectedCurrency = useMemo(() => {\n\t\tif (state.currencyAddress) {\n\t\t\treturn (\n\t\t\t\tavailableCurrencies.find(\n\t\t\t\t\t(c) => c.contractAddress === state.currencyAddress,\n\t\t\t\t) || null\n\t\t\t);\n\t\t}\n\t\treturn getDefaultCurrency(\n\t\t\tavailableCurrencies,\n\t\t\tstate.orderbookKind,\n\t\t\t'offer',\n\t\t);\n\t}, [state.currencyAddress, availableCurrencies, state.orderbookKind]);\n\n\tconst currencyBalanceQuery = useTokenCurrencyBalance({\n\t\tcurrencyAddress: selectedCurrency?.contractAddress as Address | undefined,\n\t\tchainId: state.chainId,\n\t\tuserAddress: address,\n\t\tquery: {\n\t\t\tenabled: !!selectedCurrency?.contractAddress && !!address,\n\t\t},\n\t});\n\n\tconst expiryDate = useMemo(\n\t\t() => new Date(Date.now() + state.expiryDays * 24 * 60 * 60 * 1000),\n\t\t[state.expiryDays],\n\t);\n\n\tconst priceDnum = [\n\t\tstate.priceInput ? BigInt(state.priceInput) : 0n,\n\t\tselectedCurrency?.decimals ?? 0,\n\t] as Dnum;\n\tconst priceRaw = priceDnum[0];\n\n\tconst quantityDnum = [BigInt(state.quantityInput), 0] as Dnum;\n\tconst quantityRaw = BigInt(state.quantityInput);\n\n\tconst balanceDnum =\n\t\tcurrencyBalanceQuery.data?.value !== undefined && selectedCurrency?.decimals\n\t\t\t? ([currencyBalanceQuery.data.value, selectedCurrency.decimals] as const)\n\t\t\t: undefined;\n\n\tconst lowestListingDnum =\n\t\tlowestListingQuery.data?.priceAmount && selectedCurrency?.decimals\n\t\t\t? ([\n\t\t\t\t\tBigInt(lowestListingQuery.data.priceAmount),\n\t\t\t\t\tselectedCurrency.decimals,\n\t\t\t\t] as const)\n\t\t\t: undefined;\n\n\tconst validation = validateOfferForm({\n\t\tprice: priceDnum,\n\t\tquantity: quantityDnum,\n\t\tbalance: balanceDnum,\n\t\tlowestListing: lowestListingDnum,\n\t\torderbookKind: state.orderbookKind,\n\t});\n\n\tconst formIsValid = isFormValid(validation);\n\n\t// Get the spender address for the selected orderbook\n\tconst spenderAddress = getConduitAddressForOrderbook(state.orderbookKind);\n\n\tconst allowanceQuery = useERC20Allowance({\n\t\ttokenAddress: selectedCurrency?.contractAddress as Address | undefined,\n\t\tspenderAddress,\n\t\tchainId: state.chainId,\n\t\tenabled:\n\t\t\t!!selectedCurrency?.contractAddress &&\n\t\t\t!!address &&\n\t\t\t!!spenderAddress &&\n\t\t\tstate.isOpen &&\n\t\t\t!isSequence,\n\t});\n\n\tconst totalPriceNeeded = priceRaw * quantityRaw;\n\n\tconst needsApproval = useMemo(() => {\n\t\tif (isSequence) return false;\n\t\tif (allowanceQuery.allowance === undefined) return true;\n\n\t\treturn allowanceQuery.allowance < totalPriceNeeded;\n\t}, [allowanceQuery.allowance, totalPriceNeeded]);\n\n\tconst { approve, makeOffer } = useOfferMutations({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\tcontractType: collectionQuery.data?.type as ContractType | undefined,\n\t\torderbookKind: state.orderbookKind,\n\t\toffer: {\n\t\t\ttokenId: state.tokenId,\n\t\t\tquantity: quantityRaw,\n\t\t\texpiry: dateToUnixTime(expiryDate),\n\t\t\tcurrencyAddress:\n\t\t\t\tselectedCurrency?.contractAddress ??\n\t\t\t\t('0x0000000000000000000000000000000000000000' as Address),\n\t\t\tpricePerToken: priceRaw,\n\t\t},\n\t\tcurrencyDecimals: selectedCurrency?.decimals ?? 18,\n\t\tneedsApproval,\n\t});\n\n\tconst waas = useSelectWaasFeeOptionsStore();\n\tconst { pendingFeeOptionConfirmation, rejectPendingFeeOption } =\n\t\tuseWaasFeeOptions(state.chainId, config);\n\tconst isSponsored = pendingFeeOptionConfirmation?.options?.length === 0;\n\tconst isFeeSelectionVisible =\n\t\twaas.isVisible || (!isSponsored && !!pendingFeeOptionConfirmation?.options);\n\n\tconst steps: MakeOfferModalSteps = {} as MakeOfferModalSteps;\n\n\tif (isWaaS) {\n\t\tconst feeSelected = isSponsored || !!waas.selectedFeeOption;\n\n\t\tsteps.fee = {\n\t\t\tlabel: 'Select Fee',\n\t\t\tstatus: feeSelected\n\t\t\t\t? 'success'\n\t\t\t\t: isFeeSelectionVisible\n\t\t\t\t\t? 'selecting'\n\t\t\t\t\t: 'idle',\n\t\t\tisSponsored,\n\t\t\tisSelecting: isFeeSelectionVisible,\n\t\t\tselectedOption: waas.selectedFeeOption,\n\t\t\tshow: () => waas.show(),\n\t\t\tcancel: () => waas.hide(),\n\t\t};\n\t}\n\n\tconst approveData = approve.data;\n\tconst approveTransactionHash =\n\t\tapproveData && 'type' in approveData && approveData.type === 'transaction'\n\t\t\t? approveData.hash\n\t\t\t: undefined;\n\n\tif (needsApproval && !approve.isSuccess) {\n\t\tconst approvalGuard = createApprovalGuard({\n\t\t\tisFormValid: formIsValid,\n\t\t\ttxReady: true,\n\t\t\twalletConnected: !!address,\n\t\t});\n\t\tconst guardResult = approvalGuard();\n\n\t\tsteps.approval = {\n\t\t\tlabel: 'Approve',\n\t\t\tstatus: approve.isSuccess\n\t\t\t\t? 'success'\n\t\t\t\t: approve.isPending\n\t\t\t\t\t? 'pending'\n\t\t\t\t\t: approve.error\n\t\t\t\t\t\t? 'error'\n\t\t\t\t\t\t: 'idle',\n\t\t\tisPending: approve.isPending,\n\t\t\tisSuccess: approve.isSuccess,\n\t\t\tisDisabled: !guardResult.canProceed,\n\t\t\tdisabledReason: guardResult.error?.message || null,\n\t\t\terror: approve.error,\n\t\t\tcanExecute: guardResult.canProceed,\n\t\t\tresult: approveTransactionHash\n\t\t\t\t? { type: 'transaction', hash: approveTransactionHash }\n\t\t\t\t: null,\n\t\t\texecute: async () => {\n\t\t\t\tawait approve.mutateAsync();\n\t\t\t},\n\t\t\treset: () => approve.reset(),\n\t\t};\n\t}\n\n\tconst offerGuard = createFinalTransactionGuard({\n\t\tisFormValid: formIsValid,\n\t\ttxReady: true,\n\t\twalletConnected: !!address,\n\t\trequiresApproval: needsApproval && !approve.isSuccess,\n\t\tapprovalComplete: approve.isSuccess || !needsApproval,\n\t});\n\tconst offerGuardResult = offerGuard();\n\n\tconst offerTransactionHash =\n\t\tmakeOffer.data &&\n\t\t'type' in makeOffer.data &&\n\t\tmakeOffer.data.type === 'transaction'\n\t\t\t? makeOffer.data.hash\n\t\t\t: undefined;\n\n\tsteps.offer = {\n\t\tlabel: 'Make Offer',\n\t\tstatus: makeOffer.isSuccess\n\t\t\t? 'success'\n\t\t\t: makeOffer.isPending\n\t\t\t\t? 'pending'\n\t\t\t\t: makeOffer.error\n\t\t\t\t\t? 'error'\n\t\t\t\t\t: 'idle',\n\t\tisPending: makeOffer.isPending,\n\t\tisSuccess: makeOffer.isSuccess,\n\t\tisDisabled: !offerGuardResult.canProceed,\n\t\tdisabledReason: offerGuardResult.error?.message || null,\n\t\terror: makeOffer.error,\n\t\tcanExecute: offerGuardResult.canProceed,\n\t\tresult: offerTransactionHash\n\t\t\t? { type: 'transaction', hash: offerTransactionHash }\n\t\t\t: makeOffer.data?.type === 'signature'\n\t\t\t\t? { type: 'signature', orderId: makeOffer.data.orderId ?? '' }\n\t\t\t\t: null,\n\t\texecute: async () => {\n\t\t\tawait makeOffer.mutateAsync();\n\t\t},\n\t};\n\n\tconst flow = computeFlowState(steps);\n\n\tconst error =\n\t\tallowanceQuery.error ||\n\t\tcollectibleQuery.error ||\n\t\tcollectionQuery.error ||\n\t\tcurrenciesQuery.error;\n\n\tconst handleClose = () => {\n\t\tif (pendingFeeOptionConfirmation?.id) {\n\t\t\trejectPendingFeeOption(pendingFeeOptionConfirmation.id);\n\t\t}\n\t\twaas.hide();\n\t\tstate.closeModal();\n\t};\n\n\treturn {\n\t\tisOpen: state.isOpen,\n\t\tclose: handleClose,\n\n\t\titem: {\n\t\t\tchainId: state.chainId,\n\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\ttokenId: state.tokenId,\n\t\t\torderbookKind: state.orderbookKind,\n\t\t},\n\n\t\ttokenId: state.tokenId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\tchainId: state.chainId,\n\t\tcollectible: collectibleQuery.data,\n\t\tcollection: collectionQuery.data,\n\n\t\toffer: {\n\t\t\tprice: {\n\t\t\t\tinput: state.priceInput,\n\t\t\t\tamountRaw: priceRaw,\n\t\t\t\tcurrency: selectedCurrency,\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\tinput: state.quantityInput,\n\t\t\t\tparsed: quantityRaw,\n\t\t\t},\n\t\t\texpiry: expiryDate,\n\t\t},\n\n\t\tform: {\n\t\t\tprice: {\n\t\t\t\tinput: state.priceInput,\n\t\t\t\tupdate: state.updatePriceInput,\n\t\t\t\ttouch: state.touchPriceInput,\n\t\t\t\tisTouched: state.isPriceTouched,\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\tinput: state.quantityInput,\n\t\t\t\tupdate: state.updateQuantityInput,\n\t\t\t\ttouch: state.touchQuantityInput,\n\t\t\t\tisTouched: state.isQuantityTouched,\n\t\t\t\tvalidation: validation.quantity,\n\t\t\t},\n\t\t\texpiry: {\n\t\t\t\tupdate: state.updateExpiryDays,\n\t\t\t},\n\t\t\tisValid: formIsValid,\n\t\t\tvalidation: {\n\t\t\t\tprice: validation.price,\n\t\t\t\tquantity: validation.quantity,\n\t\t\t\tbalance: validation.balance,\n\t\t\t\topenseaCriteria: validation.openseaCriteria,\n\t\t\t},\n\t\t\terrors: {\n\t\t\t\tprice: state.isPriceTouched ? validation.price.error : undefined,\n\t\t\t\tquantity: state.isQuantityTouched\n\t\t\t\t\t? validation.quantity.error\n\t\t\t\t\t: undefined,\n\t\t\t\tbalance: state.isPriceTouched ? validation.balance.error : undefined,\n\t\t\t\topenseaCriteria: state.isPriceTouched\n\t\t\t\t\t? validation.openseaCriteria?.error\n\t\t\t\t\t: undefined,\n\t\t\t},\n\t\t},\n\n\t\tcurrencies: {\n\t\t\tavailable: availableCurrencies,\n\t\t\tselected: selectedCurrency,\n\t\t\tselect: state.updateCurrency,\n\t\t\tisConfigured: availableCurrencies.length > 0,\n\t\t},\n\n\t\tsteps,\n\t\tflow,\n\n\t\tloading: {\n\t\t\tcollectible: collectibleQuery.isLoading,\n\t\t\tcollection: collectionQuery.isLoading,\n\t\t\tcurrencies: currenciesQuery.isLoading,\n\t\t\tallowance: allowanceQuery.isLoading,\n\t\t},\n\n\t\ttransactions: {\n\t\t\tapprove:\n\t\t\t\tapprove.data?.type === 'transaction' ? approve.data.hash : undefined,\n\t\t\toffer:\n\t\t\t\tmakeOffer.data?.type === 'transaction'\n\t\t\t\t\t? makeOffer.data.hash\n\t\t\t\t\t: undefined,\n\t\t},\n\n\t\terror,\n\t\tqueries: {\n\t\t\tcollectible: collectibleQuery,\n\t\t\tcollection: collectionQuery,\n\t\t\tcurrencies: currenciesQuery,\n\t\t\tlowestListing: lowestListingQuery,\n\t\t},\n\n\t\t// Computed helpers for simpler consumption\n\t\tget formError() {\n\t\t\tif (!this.currencies.isConfigured) {\n\t\t\t\treturn 'No ERC-20 currencies are configured for this marketplace';\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tthis.form.errors.price ||\n\t\t\t\tthis.form.errors.quantity ||\n\t\t\t\tthis.form.errors.balance ||\n\t\t\t\tthis.form.errors.openseaCriteria\n\t\t\t);\n\t\t},\n\n\t\tget actions() {\n\t\t\tconst needsApprovalAction =\n\t\t\t\tthis.steps.approval &&\n\t\t\t\tthis.steps.approval.status !== 'success' &&\n\t\t\t\tpriceRaw > 0n;\n\t\t\tconst currenciesBlocked = !this.currencies.isConfigured;\n\n\t\t\treturn {\n\t\t\t\tapprove: needsApprovalAction\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tlabel: this.steps.approval?.label,\n\t\t\t\t\t\t\tonClick: this.steps.approval?.execute || (() => {}),\n\t\t\t\t\t\t\tloading: this.steps.approval?.isPending,\n\t\t\t\t\t\t\tdisabled: this.steps.approval?.isDisabled || currenciesBlocked,\n\t\t\t\t\t\t\ttestid: 'make-offer-approve-button',\n\t\t\t\t\t\t}\n\t\t\t\t\t: undefined,\n\t\t\t\toffer: {\n\t\t\t\t\tlabel: this.steps.offer.label,\n\t\t\t\t\tonClick: this.steps.offer.execute,\n\t\t\t\t\tloading: this.steps.offer.isPending,\n\t\t\t\t\tdisabled: this.steps.offer.isDisabled || currenciesBlocked,\n\t\t\t\t\tvariant: needsApprovalAction ? ('ghost' as const) : undefined,\n\t\t\t\t\ttestid: 'make-offer-button',\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t};\n}\n\nexport type MakeOfferModalContext = ReturnType<typeof useMakeOfferModalContext>;\n","'use client';\n\nimport { useSelector } from '@xstate/store/react';\nimport { ActionModal } from '../_internal/components/baseModal/ActionModal';\nimport ExpirationDateSelect from '../_internal/components/expirationDateSelect';\nimport FloorPriceText from '../_internal/components/floorPriceText';\nimport PriceInput from '../_internal/components/priceInput';\nimport QuantityInput from '../_internal/components/quantityInput';\nimport SelectWaasFeeOptions from '../_internal/components/selectWaasFeeOptions';\nimport TokenPreview from '../_internal/components/tokenPreview';\nimport { useMakeOfferModalContext } from './internal/context';\nimport { makeOfferModalStore } from './internal/store';\n\nexport const MakeOfferModal = () => {\n\tconst isOpen = useSelector(\n\t\tmakeOfferModalStore,\n\t\t(state) => state.context.isOpen,\n\t);\n\treturn isOpen ? <Modal /> : null;\n};\n\nconst Modal = () => {\n\tconst ctx = useMakeOfferModalContext();\n\n\tif (!ctx.isOpen) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ActionModal\n\t\t\tchainId={ctx.item.chainId}\n\t\t\tonClose={ctx.close}\n\t\t\ttitle=\"Make an offer\"\n\t\t\ttype=\"offer\"\n\t\t\tprimaryAction={\n\t\t\t\tctx.steps.fee?.isSelecting\n\t\t\t\t\t? undefined\n\t\t\t\t\t: (ctx.actions.approve ?? ctx.actions.offer)\n\t\t\t}\n\t\t\tsecondaryAction={\n\t\t\t\tctx.steps.fee?.isSelecting\n\t\t\t\t\t? undefined\n\t\t\t\t\t: ctx.actions.approve\n\t\t\t\t\t\t? ctx.actions.offer\n\t\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tqueries={{\n\t\t\t\tcollectible: ctx.queries.collectible,\n\t\t\t\tcollection: ctx.queries.collection,\n\t\t\t\tcurrencies: ctx.queries.currencies,\n\t\t\t}}\n\t\t\texternalError={ctx.error}\n\t\t>\n\t\t\t{({ collectible, collection, currencies }) => (\n\t\t\t\t<>\n\t\t\t\t\t{currencies.length === 0 && (\n\t\t\t\t\t\t<div className=\"text-center text-gray-400\">\n\t\t\t\t\t\t\tNo ERC-20s are configured for the marketplace, contact the\n\t\t\t\t\t\t\tmarketplace owners\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{currencies.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TokenPreview\n\t\t\t\t\t\t\t\tchainId={collection.chainId}\n\t\t\t\t\t\t\t\tcollectionAddress={collection.address}\n\t\t\t\t\t\t\t\ttokenId={collectible?.tokenId}\n\t\t\t\t\t\t\t\tcollectionName={collection.name}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ctx.offer.price.currency && (\n\t\t\t\t\t\t\t\t<PriceInput\n\t\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\t\t\tprice={{\n\t\t\t\t\t\t\t\t\t\tamountRaw: ctx.offer.price.amountRaw,\n\t\t\t\t\t\t\t\t\t\tcurrency: ctx.offer.price.currency,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonPriceChange={(newPrice) => {\n\t\t\t\t\t\t\t\t\t\tctx.form.price.update(newPrice.amountRaw.toString());\n\t\t\t\t\t\t\t\t\t\tif (newPrice.currency) {\n\t\t\t\t\t\t\t\t\t\t\tctx.currencies.select(\n\t\t\t\t\t\t\t\t\t\t\t\tnewPrice.currency.contractAddress as `0x${string}`,\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonCurrencyChange={(newCurrency) => {\n\t\t\t\t\t\t\t\t\t\tctx.currencies.select(\n\t\t\t\t\t\t\t\t\t\t\tnewCurrency.contractAddress as `0x${string}`,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tincludeNativeCurrency={false}\n\t\t\t\t\t\t\t\t\torderbookKind={ctx.item.orderbookKind}\n\t\t\t\t\t\t\t\t\tmodalType=\"offer\"\n\t\t\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{collection.type === 'ERC1155' && (\n\t\t\t\t\t\t\t\t<QuantityInput\n\t\t\t\t\t\t\t\t\tquantity={ctx.offer.quantity.parsed}\n\t\t\t\t\t\t\t\t\tinvalidQuantity={!ctx.form.quantity.validation.isValid}\n\t\t\t\t\t\t\t\t\tonQuantityChange={(quantity) =>\n\t\t\t\t\t\t\t\t\t\tctx.form.quantity.update(quantity.toString())\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonInvalidQuantityChange={() => {}}\n\t\t\t\t\t\t\t\t\tdecimals={collectible.decimals || 0}\n\t\t\t\t\t\t\t\t\tmaxQuantity={BigInt(Number.MAX_SAFE_INTEGER)}\n\t\t\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{ctx.form.isValid &&\n\t\t\t\t\t\t\t\t!ctx.form.errors.balance &&\n\t\t\t\t\t\t\t\tctx.offer.price.currency && (\n\t\t\t\t\t\t\t\t\t<FloorPriceText\n\t\t\t\t\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\t\t\t\t\tprice={{\n\t\t\t\t\t\t\t\t\t\t\tamountRaw: ctx.offer.price.amountRaw,\n\t\t\t\t\t\t\t\t\t\t\tcurrency: ctx.offer.price.currency,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonBuyNow={() => {}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<ExpirationDateSelect\n\t\t\t\t\t\t\t\tdate={ctx.offer.expiry}\n\t\t\t\t\t\t\t\tonDateChange={(date) => {\n\t\t\t\t\t\t\t\t\tconst days = Math.ceil(\n\t\t\t\t\t\t\t\t\t\t(date.getTime() - Date.now()) / (24 * 60 * 60 * 1000),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tctx.form.expiry.update(days);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ctx.steps.fee?.isSelecting && (\n\t\t\t\t\t\t\t\t<SelectWaasFeeOptions\n\t\t\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\t\t\tonCancel={ctx.steps.fee.cancel}\n\t\t\t\t\t\t\t\t\ttitleOnConfirm=\"Creating offer...\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{ctx.formError && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 text-red-500 text-sm\">{ctx.formError}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</ActionModal>\n\t);\n};\n","'use client';\n\nimport { cn, Text } from '@0xsequence/design-system';\nimport { useState } from 'react';\nimport QuantityInput from '../../../../_internal/components/quantityInput';\n\ntype TokenQuantityInputProps = {\n\tvalue: bigint;\n\tonChange: (value: bigint) => void;\n\tmaxQuantity: bigint;\n\tinvalid: boolean;\n\tdisabled?: boolean;\n\thelperText?: string;\n\tonInvalidChange?: (invalid: boolean) => void;\n};\n\nconst TokenQuantityInput = ({\n\tvalue,\n\tonChange,\n\tmaxQuantity,\n\tinvalid,\n\tdisabled,\n\thelperText,\n\tonInvalidChange,\n}: TokenQuantityInputProps) => {\n\tconst [localInvalid, setLocalInvalid] = useState(false);\n\n\tconst insufficientBalance = value > maxQuantity;\n\tconst invalidQuantity = invalid || localInvalid;\n\n\treturn (\n\t\t<div className={cn('flex flex-col gap-3', disabled && 'opacity-70')}>\n\t\t\t<QuantityInput\n\t\t\t\tquantity={value}\n\t\t\t\tinvalidQuantity={invalidQuantity}\n\t\t\t\tonQuantityChange={(quantity) => {\n\t\t\t\t\tonChange(quantity);\n\t\t\t\t\tsetLocalInvalid(false);\n\t\t\t\t\tonInvalidChange?.(false);\n\t\t\t\t}}\n\t\t\t\tonInvalidQuantityChange={(isInvalid) => {\n\t\t\t\t\tsetLocalInvalid(isInvalid);\n\t\t\t\t\tonInvalidChange?.(isInvalid);\n\t\t\t\t}}\n\t\t\t\tmaxQuantity={maxQuantity}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tclassName=\"[&>label>div>div>div>input]:text-sm [&>label>div>div>div]:h-13 [&>label>div>div>div]:rounded-xl [&>label>div>div>span]:text-sm [&>label>div>div>span]:text-text-80 [&>label]:gap-1\"\n\t\t\t/>\n\n\t\t\t<Text\n\t\t\t\tclassName=\"font-body text-xs\"\n\t\t\t\tcolor={insufficientBalance ? 'negative' : 'text50'}\n\t\t\t\tfontWeight=\"medium\"\n\t\t\t>\n\t\t\t\t{helperText ?? `You have ${maxQuantity.toString()} of this item`}\n\t\t\t</Text>\n\t\t</div>\n\t);\n};\n\nexport default TokenQuantityInput;\n","'use client';\n\nimport { Field, FieldLabel, TextInput } from '@0xsequence/design-system';\n\nconst MAX_WALLET_ADDRESS_LENGTH = 42;\n\ntype WalletAddressInputProps = {\n\tvalue: string;\n\tonChange: (value: string) => void;\n\tdisabled?: boolean;\n};\n\nconst WalletAddressInput = ({\n\tvalue,\n\tonChange,\n\tdisabled,\n}: WalletAddressInputProps) => {\n\tconst handleChangeWalletAddress = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>,\n\t) => {\n\t\tonChange(event.target.value);\n\t};\n\n\treturn (\n\t\t<Field>\n\t\t\t<FieldLabel className=\"text-text-80 text-xs\">Wallet address</FieldLabel>\n\t\t\t<TextInput\n\t\t\t\tautoFocus\n\t\t\t\tvalue={value}\n\t\t\t\tmaxLength={MAX_WALLET_ADDRESS_LENGTH}\n\t\t\t\tonChange={handleChangeWalletAddress}\n\t\t\t\tname=\"walletAddress\"\n\t\t\t\tplaceholder=\"Enter wallet address\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\ttype=\"text\"\n\t\t\t\tclassName=\"h-9 rounded-sm [&>input]:h-9 [&>input]:text-sm\"\n\t\t\t/>\n\t\t</Field>\n\t);\n};\n\nexport default WalletAddressInput;\n","import { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { Address } from 'viem';\nimport { useAccount } from 'wagmi';\nimport type { CollectionType } from '../../../../_internal';\nimport { useEnsureCorrectChain, useListBalances } from '../../../../hooks';\n\nexport type ShowTransferModalArgs = {\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\tchainId: number;\n\tcollectionType?: CollectionType;\n};\n\nexport type UseTransferModalArgs = {\n\tprefetch?: {\n\t\ttokenId: bigint;\n\t\tchainId: number;\n\t\tcollectionAddress: Address;\n\t};\n};\n\ntype TransferModalState = {\n\tisOpen: boolean;\n\tchainId: number;\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\tcollectionType?: CollectionType;\n\treceiverInput: string;\n\tquantityInput: bigint;\n\tisReceiverTouched: boolean;\n\tisQuantityTouched: boolean;\n};\n\nconst initialContext: TransferModalState = {\n\tisOpen: false,\n\tchainId: 0,\n\tcollectionAddress: '' as Address,\n\ttokenId: 0n,\n\tcollectionType: undefined,\n\treceiverInput: '',\n\tquantityInput: 1n,\n\tisReceiverTouched: false,\n\tisQuantityTouched: false,\n};\n\nexport const transferModalStore = createStore({\n\tcontext: { ...initialContext },\n\ton: {\n\t\topen: (_context, event: ShowTransferModalArgs) => ({\n\t\t\t...initialContext,\n\t\t\t...event,\n\t\t\tisOpen: true,\n\t\t\tquantityInput: 1n,\n\t\t\tisReceiverTouched: false,\n\t\t\tisQuantityTouched: false,\n\t\t}),\n\t\tclose: () => ({ ...initialContext }),\n\t\tupdateReceiver: (context, event: { value: string }) => ({\n\t\t\t...context,\n\t\t\treceiverInput: event.value,\n\t\t}),\n\t\ttouchReceiver: (context) => ({\n\t\t\t...context,\n\t\t\tisReceiverTouched: true,\n\t\t}),\n\t\tupdateQuantity: (context, event: { value: bigint }) => ({\n\t\t\t...context,\n\t\t\tquantityInput: event.value,\n\t\t\tisQuantityTouched: true,\n\t\t}),\n\t\ttouchQuantity: (context) => ({\n\t\t\t...context,\n\t\t\tisQuantityTouched: true,\n\t\t}),\n\t},\n});\n\nexport const useTransferModalState = () => {\n\tconst state = useSelector(transferModalStore, (snapshot) => snapshot.context);\n\treturn {\n\t\t...state,\n\t\tcloseModal: () => transferModalStore.send({ type: 'close' }),\n\t\tupdateReceiverInput: (value: string) =>\n\t\t\ttransferModalStore.send({ type: 'updateReceiver', value }),\n\t\ttouchReceiverInput: () =>\n\t\t\ttransferModalStore.send({ type: 'touchReceiver' }),\n\t\tupdateQuantityInput: (value: bigint) =>\n\t\t\ttransferModalStore.send({ type: 'updateQuantity', value }),\n\t\ttouchQuantityInput: () =>\n\t\t\ttransferModalStore.send({ type: 'touchQuantity' }),\n\t};\n};\n\nexport const useTransferModal = (args?: UseTransferModalArgs) => {\n\tconst { ensureCorrectChain } = useEnsureCorrectChain();\n\tconst { address: accountAddress } = useAccount();\n\n\tuseListBalances({\n\t\tchainId: args?.prefetch?.chainId ?? 0,\n\t\tcontractAddress: args?.prefetch?.collectionAddress,\n\t\ttokenId: args?.prefetch?.tokenId,\n\t\taccountAddress,\n\t\tquery: { enabled: !!accountAddress && !!args?.prefetch },\n\t});\n\n\tconst show = (openArgs: ShowTransferModalArgs) => {\n\t\tconst targetChainId = Number(openArgs.chainId);\n\t\tensureCorrectChain(targetChainId, {\n\t\t\tonSuccess: () => transferModalStore.send({ type: 'open', ...openArgs }),\n\t\t});\n\t};\n\n\treturn {\n\t\tshow,\n\t\tclose: () => transferModalStore.send({ type: 'close' }),\n\t};\n};\n","import { ContractType } from '@0xsequence/api-client';\nimport { useCallback, useMemo } from 'react';\nimport type { Address, Hex } from 'viem';\nimport { isAddress } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { compareAddress } from '../../../../../utils';\nimport { TransactionType } from '../../../../_internal';\nimport {\n\tuseCollectibleBalance,\n\tuseCollectionMetadata,\n\tuseConfig,\n\tuseConnectorMetadata,\n\tuseTransferTokens,\n} from '../../../../hooks';\nimport { useWaasFeeOptions } from '../../../../hooks/utils/useWaasFeeOptions';\nimport {\n\tselectWaasFeeOptionsStore,\n\tuseSelectWaasFeeOptionsStore,\n} from '../../_internal/components/selectWaasFeeOptions/store';\nimport { useTransactionStatusModal } from '../../_internal/components/transactionStatusModal';\nimport { computeFlowState } from '../../_internal/helpers/flow-state';\nimport {\n\tcreateFeeGuard,\n\tcreateFinalTransactionGuard,\n} from '../../_internal/helpers/step-guards';\nimport type {\n\tModalContext,\n\tModalSteps,\n\tTransactionStep,\n} from '../../_internal/types/steps';\nimport { useTransferModalState } from './store';\n\ntype TransferModalSteps = ModalSteps<'transfer'>;\n\nexport type TransferModalContext = ModalContext<\n\t'transfer',\n\tTransferModalSteps\n> & {\n\titem: {\n\t\tchainId: number;\n\t\tcollectionAddress: `0x${string}`;\n\t\ttokenId: bigint;\n\t};\n\tform: {\n\t\treceiver: {\n\t\t\tinput: string;\n\t\t\tupdate: (value: string) => void;\n\t\t\ttouch: () => void;\n\t\t\tisTouched: boolean;\n\t\t\tvalidation: { isValid: boolean; error: string | null };\n\t\t};\n\t\tquantity: {\n\t\t\tinput: bigint;\n\t\t\tupdate: (value: bigint) => void;\n\t\t\ttouch: () => void;\n\t\t\tisTouched: boolean;\n\t\t\tvalidation: { isValid: boolean; error: string | null };\n\t\t};\n\t\tisValid: boolean;\n\t\terrors: {\n\t\t\treceiver?: string;\n\t\t\tquantity?: string;\n\t\t\tcontractType?: string | null;\n\t\t};\n\t};\n\tqueries: {\n\t\tcollection: ReturnType<typeof useCollectionMetadata>;\n\t\tcollectibleBalance: ReturnType<typeof useCollectibleBalance>;\n\t};\n\ttransactions: {\n\t\ttransfer: string | undefined;\n\t};\n\tloading: {\n\t\tcollection: boolean;\n\t\tcollectibleBalance: boolean;\n\t};\n\tformError: string | undefined;\n\tactions: {\n\t\ttransfer: {\n\t\t\tlabel: string;\n\t\t\tonClick: () => Promise<void>;\n\t\t\tloading: boolean;\n\t\t\tdisabled: boolean;\n\t\t\ttestid: string;\n\t\t};\n\t};\n};\n\nexport function useTransferModalContext(): TransferModalContext {\n\tconst state = useTransferModalState();\n\tconst { closeModal } = state;\n\tconst { address } = useAccount();\n\tconst config = useConfig();\n\tconst { isWaaS } = useConnectorMetadata();\n\tconst { show: showTransactionStatusModal } = useTransactionStatusModal();\n\n\tconst collectionQuery = useCollectionMetadata({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t});\n\n\tconst contractType = state.collectionType ?? collectionQuery.data?.type;\n\tconst isErc1155 = contractType === ContractType.ERC1155;\n\tconst isErc721 = contractType === ContractType.ERC721;\n\n\tconst collectibleBalanceQuery = useCollectibleBalance({\n\t\tchainId: state.chainId,\n\t\tcollectionAddress: state.collectionAddress,\n\t\ttokenId: state.tokenId,\n\t\tuserAddress: address ?? undefined,\n\t\tquery: {\n\t\t\tenabled: !!address && isErc1155,\n\t\t},\n\t});\n\n\tconst balance =\n\t\tcollectibleBalanceQuery.data?.balance !== undefined\n\t\t\t? BigInt(collectibleBalanceQuery.data.balance)\n\t\t\t: undefined;\n\n\tconst receiverValidation = useMemo(() => {\n\t\tif (!state.receiverInput || state.receiverInput.trim() === '') {\n\t\t\treturn { isValid: false, error: 'Wallet address is required' };\n\t\t}\n\t\tif (!isAddress(state.receiverInput)) {\n\t\t\treturn { isValid: false, error: 'Enter a valid wallet address' };\n\t\t}\n\t\tif (address && compareAddress(state.receiverInput, address)) {\n\t\t\treturn {\n\t\t\t\tisValid: false,\n\t\t\t\terror: 'You cannot transfer to your own address',\n\t\t\t};\n\t\t}\n\t\treturn { isValid: true, error: null };\n\t}, [address, state.receiverInput]);\n\n\tconst quantityValidation = useMemo(() => {\n\t\tif (!isErc1155) {\n\t\t\treturn { isValid: true, error: null };\n\t\t}\n\t\tif (!state.quantityInput || state.quantityInput <= 0n) {\n\t\t\treturn { isValid: false, error: 'Quantity is required' };\n\t\t}\n\t\tif (state.quantityInput <= 0n) {\n\t\t\treturn { isValid: false, error: 'Quantity must be greater than 0' };\n\t\t}\n\t\tif (balance !== undefined && state.quantityInput > balance) {\n\t\t\treturn { isValid: false, error: 'Quantity exceeds your balance' };\n\t\t}\n\t\treturn { isValid: true, error: null };\n\t}, [balance, isErc1155, state.quantityInput, state.quantityInput]);\n\n\tconst contractTypeError =\n\t\tcontractType && (isErc1155 || isErc721)\n\t\t\t? null\n\t\t\t: contractType\n\t\t\t\t? 'Unsupported collection type'\n\t\t\t\t: null;\n\n\tconst formIsValid =\n\t\treceiverValidation.isValid &&\n\t\tquantityValidation.isValid &&\n\t\t!contractTypeError;\n\n\tconst {\n\t\ttransferTokensAsync,\n\t\thash,\n\t\ttransferring,\n\t\ttransferFailed,\n\t\ttransferSuccess,\n\t\terror: transferError,\n\t} = useTransferTokens();\n\n\tconst waas = useSelectWaasFeeOptionsStore();\n\tconst { pendingFeeOptionConfirmation, rejectPendingFeeOption } =\n\t\tuseWaasFeeOptions(state.chainId, config);\n\tconst isSponsored = pendingFeeOptionConfirmation?.options?.length === 0;\n\tconst isFeeSelectionVisible =\n\t\twaas.isVisible ||\n\t\t(isWaaS && !isSponsored && !!pendingFeeOptionConfirmation?.options);\n\n\tconst baseClose = useCallback(() => {\n\t\tif (pendingFeeOptionConfirmation?.id) {\n\t\t\trejectPendingFeeOption(pendingFeeOptionConfirmation.id);\n\t\t}\n\t\twaas.hide();\n\t\tcloseModal();\n\t}, [\n\t\tcloseModal,\n\t\tpendingFeeOptionConfirmation?.id,\n\t\trejectPendingFeeOption,\n\t\twaas,\n\t]);\n\n\tconst steps: TransferModalSteps = {} as TransferModalSteps;\n\n\tif (isWaaS) {\n\t\tconst feeSelected = isSponsored || !!waas.selectedFeeOption;\n\t\tsteps.fee = {\n\t\t\tlabel: 'Select Fee',\n\t\t\tstatus: feeSelected\n\t\t\t\t? 'success'\n\t\t\t\t: isFeeSelectionVisible\n\t\t\t\t\t? 'selecting'\n\t\t\t\t\t: 'idle',\n\t\t\tisSponsored: isSponsored ?? false,\n\t\t\tisSelecting: isFeeSelectionVisible,\n\t\t\tselectedOption: waas.selectedFeeOption,\n\t\t\tshow: () => selectWaasFeeOptionsStore.send({ type: 'show' }),\n\t\t\tcancel: () => selectWaasFeeOptionsStore.send({ type: 'hide' }),\n\t\t};\n\t}\n\n\tconst feeGuard = steps.fee\n\t\t? createFeeGuard({ feeSelectionVisible: steps.fee.isSelecting })\n\t\t: () => ({ canProceed: true });\n\n\tconst transferGuard = (): { canProceed: boolean; error?: Error } => {\n\t\tif (!address) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error('Please connect your wallet'),\n\t\t\t};\n\t\t}\n\t\tif (contractTypeError) {\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error(contractTypeError),\n\t\t\t};\n\t\t}\n\t\tif (!formIsValid) {\n\t\t\tconst errorMessage =\n\t\t\t\treceiverValidation.error ||\n\t\t\t\tquantityValidation.error ||\n\t\t\t\tcontractTypeError ||\n\t\t\t\t'Please fix form validation errors';\n\t\t\treturn {\n\t\t\t\tcanProceed: false,\n\t\t\t\terror: new Error(errorMessage),\n\t\t\t};\n\t\t}\n\t\tconst feeCheck = feeGuard();\n\t\tif (!feeCheck.canProceed) {\n\t\t\treturn feeCheck;\n\t\t}\n\t\tconst txReady =\n\t\t\t!!contractType && (isErc721 || (isErc1155 && state.quantityInput > 0n));\n\t\tconst finalGuard = createFinalTransactionGuard({\n\t\t\tisFormValid: formIsValid,\n\t\t\ttxReady,\n\t\t\twalletConnected: !!address,\n\t\t\trequiresApproval: false,\n\t\t\tapprovalComplete: true,\n\t\t})();\n\t\tif (!finalGuard.canProceed) return finalGuard;\n\t\treturn { canProceed: true };\n\t};\n\n\tconst executeTransfer = useCallback(async () => {\n\t\tconst guardResult = transferGuard();\n\t\tif (!guardResult.canProceed) {\n\t\t\tthrow guardResult.error || new Error('Transfer not ready');\n\t\t}\n\n\t\tconst receiver = state.receiverInput as Address;\n\n\t\tconst params = isErc1155\n\t\t\t? {\n\t\t\t\t\treceiverAddress: receiver,\n\t\t\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\t\t\ttokenId: state.tokenId,\n\t\t\t\t\tchainId: state.chainId,\n\t\t\t\t\tcontractType: ContractType.ERC1155 as const,\n\t\t\t\t\tquantity: state.quantityInput,\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\treceiverAddress: receiver,\n\t\t\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\t\t\ttokenId: state.tokenId,\n\t\t\t\t\tchainId: state.chainId,\n\t\t\t\t\tcontractType: ContractType.ERC721 as const,\n\t\t\t\t};\n\n\t\tconst txHash = await transferTokensAsync(params);\n\n\t\tshowTransactionStatusModal({\n\t\t\thash: txHash as Hex,\n\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\tchainId: state.chainId,\n\t\t\ttokenId: state.tokenId,\n\t\t\ttype: TransactionType.TRANSFER,\n\t\t\tqueriesToInvalidate: [\n\t\t\t\t['token', 'balances'],\n\t\t\t\t['collection', 'balance-details'],\n\t\t\t],\n\t\t});\n\n\t\tbaseClose();\n\t}, [\n\t\tbaseClose,\n\t\tisErc1155,\n\t\tstate.quantityInput,\n\t\tshowTransactionStatusModal,\n\t\tstate.chainId,\n\t\tstate.collectionAddress,\n\t\tstate.receiverInput,\n\t\tstate.tokenId,\n\t\ttransferGuard,\n\t\ttransferTokensAsync,\n\t]);\n\n\tconst transferGuardResult = transferGuard();\n\n\tsteps.transfer = {\n\t\tlabel: 'Transfer',\n\t\tstatus: transferSuccess\n\t\t\t? 'success'\n\t\t\t: transferring\n\t\t\t\t? 'pending'\n\t\t\t\t: transferFailed\n\t\t\t\t\t? 'error'\n\t\t\t\t\t: 'idle',\n\t\tisPending: transferring,\n\t\tisSuccess: transferSuccess,\n\t\tisDisabled: !transferGuardResult.canProceed,\n\t\tdisabledReason: transferGuardResult.error?.message ?? null,\n\t\terror: transferError ?? null,\n\t\tcanExecute: transferGuardResult.canProceed,\n\t\tresult: hash ? { type: 'transaction', hash } : null,\n\t\texecute: executeTransfer,\n\t} as TransactionStep;\n\n\tconst flow = computeFlowState<'transfer'>(steps);\n\n\tconst error = collectionQuery.error || collectibleBalanceQuery.error || null;\n\n\treturn {\n\t\tisOpen: state.isOpen,\n\t\tclose: baseClose,\n\t\titem: {\n\t\t\tchainId: state.chainId,\n\t\t\tcollectionAddress: state.collectionAddress,\n\t\t\ttokenId: state.tokenId,\n\t\t},\n\t\tform: {\n\t\t\treceiver: {\n\t\t\t\tinput: state.receiverInput,\n\t\t\t\tupdate: state.updateReceiverInput,\n\t\t\t\ttouch: state.touchReceiverInput,\n\t\t\t\tisTouched: state.isReceiverTouched,\n\t\t\t\tvalidation: receiverValidation,\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\tinput: state.quantityInput,\n\t\t\t\tupdate: state.updateQuantityInput,\n\t\t\t\ttouch: state.touchQuantityInput,\n\t\t\t\tisTouched: state.isQuantityTouched,\n\t\t\t\tvalidation: quantityValidation,\n\t\t\t},\n\t\t\tisValid: formIsValid,\n\t\t\terrors: {\n\t\t\t\treceiver: state.isReceiverTouched\n\t\t\t\t\t? receiverValidation.error || undefined\n\t\t\t\t\t: undefined,\n\t\t\t\tquantity: state.isQuantityTouched\n\t\t\t\t\t? quantityValidation.error || undefined\n\t\t\t\t\t: undefined,\n\t\t\t\tcontractType: contractTypeError,\n\t\t\t},\n\t\t},\n\t\tsteps,\n\t\tflow,\n\t\tqueries: {\n\t\t\tcollection: collectionQuery,\n\t\t\tcollectibleBalance: collectibleBalanceQuery,\n\t\t},\n\t\tloading: {\n\t\t\tcollection: collectionQuery.isLoading,\n\t\t\tcollectibleBalance: collectibleBalanceQuery.isLoading,\n\t\t},\n\t\ttransactions: {\n\t\t\ttransfer: hash,\n\t\t},\n\t\terror,\n\t\tget formError() {\n\t\t\treturn (\n\t\t\t\tthis.form.errors.receiver ||\n\t\t\t\tthis.form.errors.quantity ||\n\t\t\t\tthis.form.errors.contractType ||\n\t\t\t\tthis.steps.transfer.disabledReason ||\n\t\t\t\tundefined\n\t\t\t);\n\t\t},\n\t\tactions: {\n\t\t\ttransfer: {\n\t\t\t\tlabel: steps.transfer.label,\n\t\t\t\tonClick: steps.transfer.execute,\n\t\t\t\tloading: steps.transfer.isPending,\n\t\t\t\tdisabled: steps.transfer.isDisabled,\n\t\t\t\ttestid: 'transfer-submit-button',\n\t\t\t},\n\t\t},\n\t};\n}\n","'use client';\n\nimport { Text, WarningIcon } from '@0xsequence/design-system';\nimport { useSelector } from '@xstate/store/react';\nimport { TransactionType } from '../../../_internal';\nimport { ActionModal } from '../_internal/components/baseModal/ActionModal';\nimport SelectWaasFeeOptions from '../_internal/components/selectWaasFeeOptions';\nimport TokenPreview from '../_internal/components/tokenPreview';\nimport TokenQuantityInput from './_views/enterWalletAddress/_components/TokenQuantityInput';\nimport WalletAddressInput from './_views/enterWalletAddress/_components/WalletAddressInput';\nimport { useTransferModalContext } from './internal/context';\nimport {\n\ttype ShowTransferModalArgs,\n\ttransferModalStore,\n\ttype UseTransferModalArgs,\n\tuseTransferModal,\n} from './internal/store';\n\nexport const TransferModal = () => {\n\tconst isOpen = useSelector(\n\t\ttransferModalStore,\n\t\t(state) => state.context.isOpen,\n\t);\n\treturn isOpen ? <Modal /> : null;\n};\n\nconst Modal = () => {\n\tconst ctx = useTransferModalContext();\n\n\tif (!ctx.isOpen) {\n\t\treturn null;\n\t}\n\n\tconst primaryAction = ctx.steps.fee?.isSelecting\n\t\t? undefined\n\t\t: ctx.actions.transfer;\n\n\treturn (\n\t\t<ActionModal\n\t\t\ttransactionType={TransactionType.TRANSFER}\n\t\t\tchainId={ctx.item.chainId}\n\t\t\tonClose={ctx.close}\n\t\t\ttitle=\"Transfer your item\"\n\t\t\ttype=\"transfer\"\n\t\t\tprimaryAction={primaryAction}\n\t\t\tqueries={{\n\t\t\t\tcollection: ctx.queries.collection,\n\t\t\t\tcollectibleBalance: ctx.queries.collectibleBalance,\n\t\t\t}}\n\t\t\texternalError={ctx.error}\n\t\t>\n\t\t\t{({ collection, collectibleBalance }) => (\n\t\t\t\t<>\n\t\t\t\t\t<TokenPreview\n\t\t\t\t\t\tcollectionName={collection?.name}\n\t\t\t\t\t\tcollectionAddress={ctx.item.collectionAddress}\n\t\t\t\t\t\ttokenId={ctx.item.tokenId}\n\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<WalletAddressInput\n\t\t\t\t\t\tvalue={ctx.form.receiver.input}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tctx.form.receiver.update(value);\n\t\t\t\t\t\t\tif (!ctx.form.receiver.isTouched) {\n\t\t\t\t\t\t\t\tctx.form.receiver.touch();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{collection?.type === 'ERC1155' && collectibleBalance?.balance && (\n\t\t\t\t\t\t<TokenQuantityInput\n\t\t\t\t\t\t\tvalue={ctx.form.quantity.input}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\tctx.form.quantity.update(value);\n\t\t\t\t\t\t\t\tif (!ctx.form.quantity.isTouched) {\n\t\t\t\t\t\t\t\t\tctx.form.quantity.touch();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tmaxQuantity={BigInt(collectibleBalance.balance)}\n\t\t\t\t\t\t\tinvalid={!!ctx.form.errors.quantity}\n\t\t\t\t\t\t\tdisabled={ctx.flow.isPending}\n\t\t\t\t\t\t\thelperText={`You have ${collectibleBalance.balance} of this item`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"flex items-center justify-between gap-3 rounded-xl bg-[hsla(39,71%,40%,0.3)] p-4\">\n\t\t\t\t\t\t<WarningIcon />\n\t\t\t\t\t\t<Text className=\"font-body font-medium text-sm text-text-80\">\n\t\t\t\t\t\t\tItems sent to the wrong wallet address can&apos;t be recovered!\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ctx.steps.fee?.isSelecting && (\n\t\t\t\t\t\t<SelectWaasFeeOptions\n\t\t\t\t\t\t\tchainId={ctx.item.chainId}\n\t\t\t\t\t\t\tonCancel={ctx.steps.fee.cancel}\n\t\t\t\t\t\t\ttitleOnConfirm=\"Processing transfer...\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{ctx.formError && (\n\t\t\t\t\t\t<div className=\"mt-2 text-red-500 text-sm\">{ctx.formError}</div>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</ActionModal>\n\t);\n};\n\nexport { useTransferModal };\nexport type { ShowTransferModalArgs, UseTransferModalArgs };\n","export const styles = String.raw`/* Modified Tailwind CSS, to avoid issues with shadow DOM, see Marketplace SDK - compile-tailwind.js and postcss.config.mjs */\n:root, :host {\n  --tw-animation-delay: 0s;\n  --tw-animation-direction: normal;\n  --tw-animation-fill-mode: none;\n  --tw-animation-iteration-count: 1;\n  --tw-enter-blur: 0;\n  --tw-enter-opacity: 1;\n  --tw-enter-rotate: 0;\n  --tw-enter-scale: 1;\n  --tw-enter-translate-x: 0;\n  --tw-enter-translate-y: 0;\n  --tw-exit-blur: 0;\n  --tw-exit-opacity: 1;\n  --tw-exit-rotate: 0;\n  --tw-exit-scale: 1;\n  --tw-exit-translate-x: 0;\n  --tw-exit-translate-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-translate-z: 0;\n  --tw-space-y-reverse: 0;\n  --tw-border-style: solid;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-alpha: 100%;\n  --tw-inset-shadow: 0 0 #0000;\n  --tw-inset-shadow-alpha: 100%;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-inset-ring-shadow: 0 0 #0000;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-outline-style: solid;\n  --tw-drop-shadow-alpha: 100%;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-scale-z: 1;\n  --tw-content: \"\";\n  --tw-gradient-from: #0000;\n  --tw-gradient-via: #0000;\n  --tw-gradient-to: #0000;\n  --tw-gradient-from-position: 0%;\n  --tw-gradient-via-position: 50%;\n  --tw-gradient-to-position: 100%;\n}\n/*! tailwindcss v4.1.17 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\",\n      \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-400: oklch(70.4% 0.191 22.216);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-red-950: oklch(25.8% 0.092 26.042);\n    --color-orange-300: oklch(83.7% 0.128 66.29);\n    --color-orange-400: oklch(75% 0.183 55.934);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-900: oklch(40.8% 0.123 38.172);\n    --color-amber-300: oklch(87.9% 0.169 91.605);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-amber-600: oklch(66.6% 0.179 58.318);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-700: oklch(55.4% 0.135 66.442);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-yellow-950: oklch(28.6% 0.066 53.813);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-green-950: oklch(26.6% 0.065 152.934);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-400: oklch(67.3% 0.182 276.935);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-indigo-950: oklch(25.7% 0.09 281.288);\n    --color-violet-400: oklch(70.2% 0.183 293.541);\n    --color-violet-500: oklch(60.6% 0.25 292.717);\n    --color-violet-600: oklch(54.1% 0.281 293.009);\n    --color-violet-700: oklch(49.1% 0.27 292.581);\n    --color-slate-50: oklch(98.4% 0.003 247.858);\n    --color-slate-100: oklch(96.8% 0.007 247.896);\n    --color-slate-200: oklch(92.9% 0.013 255.508);\n    --color-slate-300: oklch(86.9% 0.022 252.894);\n    --color-slate-400: oklch(70.4% 0.04 256.788);\n    --color-slate-500: oklch(55.4% 0.046 257.417);\n    --color-slate-800: oklch(27.9% 0.041 260.031);\n    --color-slate-950: oklch(12.9% 0.042 264.695);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-zinc-500: oklch(55.2% 0.016 285.938);\n    --color-zinc-600: oklch(44.2% 0.017 285.786);\n    --color-zinc-700: oklch(37% 0.013 285.805);\n    --color-zinc-800: oklch(27.4% 0.006 286.033);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-zinc-950: oklch(14.1% 0.005 285.823);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --container-xs: 20rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: 1rem;\n    --text-sm: 0.875rem;\n    --text-sm--line-height: 1.25rem;\n    --text-base: 1rem;\n    --text-base--line-height: 1.5rem;\n    --text-lg: 1.125rem;\n    --text-lg--line-height: 1.75rem;\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --tracking-normal: 0em;\n    --tracking-wide: 0.025em;\n    --tracking-widest: 0.1em;\n    --leading-snug: 1.375;\n    --leading-relaxed: 1.625;\n    --radius-xs: 0.125rem;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --ease-out: cubic-bezier(0, 0, 0.2, 1);\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --blur-xs: 4px;\n    --blur-md: 12px;\n    --aspect-video: 16 / 9;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: \"Roboto\", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    --font-body: \"Inter\", ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    --color-primary: var(--seq-color-primary);\n    --color-border-hover: hsla(247, 100%, 75%, 0.8);\n    --color-border-focus: hsla(247, 100%, 75%, 1);\n    --color-border-base: hsla(0, 0%, 31%, 1);\n    --color-overlay-light: hsla(0, 0%, 100%, 0.1);\n    --color-overlay-glass: hsla(0, 0%, 100%, 0.05);\n    --color-surface-neutral: hsla(0, 0%, 15%, 1);\n    --color-text-50: hsla(0, 0%, 100%, 0.5);\n    --color-text-80: hsla(0, 0%, 100%, 0.8);\n    --color-text-100: hsla(0, 0%, 100%, 1);\n    --spacing-card-width: clamp(175px, 100%, 280px);\n    --scale-hover: 1.165;\n    --animate-shimmer: shimmer 1.5s infinite;\n    --animate-bell-ring: bellRing 0.4s ease-in-out;\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  ::-webkit-calendar-picker-indicator {\n    line-height: 1;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type=\"button\"], [type=\"reset\"], [type=\"submit\"]), ::file-selector-button {\n    appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden=\"until-found\"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .\\@container\\/field-group {\n    container-type: inline-size;\n    container-name: field-group;\n  }\n  .\\@container {\n    container-type: inline-size;\n  }\n  .pointer-events-auto {\n    pointer-events: auto;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .invisible {\n    visibility: hidden;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip-path: inset(50%);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .sticky {\n    position: sticky;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-2 {\n    inset: calc(var(--spacing) * 2);\n  }\n  .inset-x-0 {\n    inset-inline: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-1 {\n    top: calc(var(--spacing) * 1);\n  }\n  .top-1\\/2 {\n    top: calc(1/2 * 100%);\n  }\n  .top-4 {\n    top: calc(var(--spacing) * 4);\n  }\n  .top-8 {\n    top: calc(var(--spacing) * 8);\n  }\n  .top-\\[50\\%\\] {\n    top: 50%;\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-2 {\n    right: calc(var(--spacing) * 2);\n  }\n  .right-4 {\n    right: calc(var(--spacing) * 4);\n  }\n  .-bottom-5 {\n    bottom: calc(var(--spacing) * -5);\n  }\n  .-bottom-16 {\n    bottom: calc(var(--spacing) * -16);\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-2 {\n    left: calc(var(--spacing) * 2);\n  }\n  .left-4 {\n    left: calc(var(--spacing) * 4);\n  }\n  .left-\\[50\\%\\] {\n    left: 50%;\n  }\n  .z-1 {\n    z-index: 1;\n  }\n  .z-2 {\n    z-index: 2;\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-20 {\n    z-index: 20;\n  }\n  .z-30 {\n    z-index: 30;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .z-1000 {\n    z-index: 1000;\n  }\n  .z-\\[1000\\] {\n    z-index: 1000;\n  }\n  .order-123 {\n    order: 123;\n  }\n  .order-456 {\n    order: 456;\n  }\n  .order-789 {\n    order: 789;\n  }\n  .order-first {\n    order: -9999;\n  }\n  .order-last {\n    order: 9999;\n  }\n  .grid-stack {\n    display: grid;\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n    grid-template-rows: repeat(1, minmax(0, 1fr));\n    :is(& > *) {\n      grid-column-start: 1;\n    }\n    :is(& > *) {\n      grid-row-start: 1;\n    }\n  }\n  .col-start-2 {\n    grid-column-start: 2;\n  }\n  .col-start-3 {\n    grid-column-start: 3;\n  }\n  .col-end-4 {\n    grid-column-end: 4;\n  }\n  .row-start-3 {\n    grid-row-start: 3;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .-m-\\[1px\\] {\n    margin: calc(1px * -1);\n  }\n  .m-4 {\n    margin: calc(var(--spacing) * 4);\n  }\n  .-mx-1 {\n    margin-inline: calc(var(--spacing) * -1);\n  }\n  .mx-0 {\n    margin-inline: calc(var(--spacing) * 0);\n  }\n  .mx-auto {\n    margin-inline: auto;\n  }\n  .-my-2 {\n    margin-block: calc(var(--spacing) * -2);\n  }\n  .my-0 {\n    margin-block: calc(var(--spacing) * 0);\n  }\n  .my-1 {\n    margin-block: calc(var(--spacing) * 1);\n  }\n  .my-2 {\n    margin-block: calc(var(--spacing) * 2);\n  }\n  .my-3 {\n    margin-block: calc(var(--spacing) * 3);\n  }\n  .my-4 {\n    margin-block: calc(var(--spacing) * 4);\n  }\n  .mt-0 {\n    margin-top: calc(var(--spacing) * 0);\n  }\n  .mt-0\\.5 {\n    margin-top: calc(var(--spacing) * 0.5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-1\\.5 {\n    margin-top: calc(var(--spacing) * 1.5);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-3 {\n    margin-top: calc(var(--spacing) * 3);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-5 {\n    margin-top: calc(var(--spacing) * 5);\n  }\n  .mt-6 {\n    margin-top: calc(var(--spacing) * 6);\n  }\n  .mt-10 {\n    margin-top: calc(var(--spacing) * 10);\n  }\n  .mt-auto {\n    margin-top: auto;\n  }\n  .mr-0 {\n    margin-right: calc(var(--spacing) * 0);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-3 {\n    margin-right: calc(var(--spacing) * 3);\n  }\n  .mr-4 {\n    margin-right: calc(var(--spacing) * 4);\n  }\n  .-mb-\\[2px\\] {\n    margin-bottom: calc(2px * -1);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-5 {\n    margin-bottom: calc(var(--spacing) * 5);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .mb-8 {\n    margin-bottom: calc(var(--spacing) * 8);\n  }\n  .mb-10 {\n    margin-bottom: calc(var(--spacing) * 10);\n  }\n  .ml-1 {\n    margin-left: calc(var(--spacing) * 1);\n  }\n  .ml-2 {\n    margin-left: calc(var(--spacing) * 2);\n  }\n  .ml-3 {\n    margin-left: calc(var(--spacing) * 3);\n  }\n  .ml-4 {\n    margin-left: calc(var(--spacing) * 4);\n  }\n  .ml-5 {\n    margin-left: calc(var(--spacing) * 5);\n  }\n  .ml-10 {\n    margin-left: calc(var(--spacing) * 10);\n  }\n  .line-clamp-1 {\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n  }\n  .block {\n    display: block;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-block {\n    display: inline-block;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .field-sizing-content {\n    field-sizing: content;\n  }\n  .aspect-square {\n    aspect-ratio: 1 / 1;\n  }\n  .aspect-video {\n    aspect-ratio: var(--aspect-video);\n  }\n  .size-2 {\n    width: calc(var(--spacing) * 2);\n    height: calc(var(--spacing) * 2);\n  }\n  .size-2\\.5 {\n    width: calc(var(--spacing) * 2.5);\n    height: calc(var(--spacing) * 2.5);\n  }\n  .size-3 {\n    width: calc(var(--spacing) * 3);\n    height: calc(var(--spacing) * 3);\n  }\n  .size-3\\.5 {\n    width: calc(var(--spacing) * 3.5);\n    height: calc(var(--spacing) * 3.5);\n  }\n  .size-4 {\n    width: calc(var(--spacing) * 4);\n    height: calc(var(--spacing) * 4);\n  }\n  .size-5 {\n    width: calc(var(--spacing) * 5);\n    height: calc(var(--spacing) * 5);\n  }\n  .size-6 {\n    width: calc(var(--spacing) * 6);\n    height: calc(var(--spacing) * 6);\n  }\n  .size-7 {\n    width: calc(var(--spacing) * 7);\n    height: calc(var(--spacing) * 7);\n  }\n  .size-8 {\n    width: calc(var(--spacing) * 8);\n    height: calc(var(--spacing) * 8);\n  }\n  .size-9 {\n    width: calc(var(--spacing) * 9);\n    height: calc(var(--spacing) * 9);\n  }\n  .size-10 {\n    width: calc(var(--spacing) * 10);\n    height: calc(var(--spacing) * 10);\n  }\n  .size-11 {\n    width: calc(var(--spacing) * 11);\n    height: calc(var(--spacing) * 11);\n  }\n  .size-13 {\n    width: calc(var(--spacing) * 13);\n    height: calc(var(--spacing) * 13);\n  }\n  .size-16 {\n    width: calc(var(--spacing) * 16);\n    height: calc(var(--spacing) * 16);\n  }\n  .size-full {\n    width: 100%;\n    height: 100%;\n  }\n  .h-\\(--radix-select-trigger-height\\) {\n    height: var(--radix-select-trigger-height);\n  }\n  .h-1 {\n    height: calc(var(--spacing) * 1);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-7 {\n    height: calc(var(--spacing) * 7);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-9 {\n    height: calc(var(--spacing) * 9);\n  }\n  .h-10 {\n    height: calc(var(--spacing) * 10);\n  }\n  .h-11 {\n    height: calc(var(--spacing) * 11);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-13 {\n    height: calc(var(--spacing) * 13);\n  }\n  .h-14 {\n    height: calc(var(--spacing) * 14);\n  }\n  .h-16 {\n    height: calc(var(--spacing) * 16);\n  }\n  .h-17 {\n    height: calc(var(--spacing) * 17);\n  }\n  .h-20 {\n    height: calc(var(--spacing) * 20);\n  }\n  .h-24 {\n    height: calc(var(--spacing) * 24);\n  }\n  .h-64 {\n    height: calc(var(--spacing) * 64);\n  }\n  .h-\\[1px\\] {\n    height: 1px;\n  }\n  .h-\\[20px\\] {\n    height: 20px;\n  }\n  .h-\\[22px\\] {\n    height: 22px;\n  }\n  .h-\\[52px\\] {\n    height: 52px;\n  }\n  .h-\\[60px\\] {\n    height: 60px;\n  }\n  .h-\\[64px\\] {\n    height: 64px;\n  }\n  .h-\\[84px\\] {\n    height: 84px;\n  }\n  .h-\\[98px\\] {\n    height: 98px;\n  }\n  .h-\\[calc\\(100dvh-70px\\)\\] {\n    height: calc(100dvh - 70px);\n  }\n  .h-auto {\n    height: auto;\n  }\n  .h-fit {\n    height: fit-content;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .h-min {\n    height: min-content;\n  }\n  .h-px {\n    height: 1px;\n  }\n  .max-h-\\(--radix-dropdown-menu-content-available-height\\) {\n    max-height: var(--radix-dropdown-menu-content-available-height);\n  }\n  .max-h-\\(--radix-select-content-available-height\\) {\n    max-height: var(--radix-select-content-available-height);\n  }\n  .max-h-64 {\n    max-height: calc(var(--spacing) * 64);\n  }\n  .max-h-96 {\n    max-height: calc(var(--spacing) * 96);\n  }\n  .max-h-\\[240px\\] {\n    max-height: 240px;\n  }\n  .max-h-\\[calc\\(100dvh-80px\\)\\] {\n    max-height: calc(100dvh - 80px);\n  }\n  .max-h-full {\n    max-height: 100%;\n  }\n  .min-h-4 {\n    min-height: calc(var(--spacing) * 4);\n  }\n  .min-h-16 {\n    min-height: calc(var(--spacing) * 16);\n  }\n  .min-h-\\[64px\\] {\n    min-height: 64px;\n  }\n  .min-h-\\[100px\\] {\n    min-height: 100px;\n  }\n  .min-h-\\[400px\\] {\n    min-height: 400px;\n  }\n  .min-h-full {\n    min-height: 100%;\n  }\n  .w-1 {\n    width: calc(var(--spacing) * 1);\n  }\n  .w-1\\/2 {\n    width: calc(1/2 * 100%);\n  }\n  .w-1\\/3 {\n    width: calc(1/3 * 100%);\n  }\n  .w-2 {\n    width: calc(var(--spacing) * 2);\n  }\n  .w-2\\/3 {\n    width: calc(2/3 * 100%);\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-3\\/4 {\n    width: calc(3/4 * 100%);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-7 {\n    width: calc(var(--spacing) * 7);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-9 {\n    width: calc(var(--spacing) * 9);\n  }\n  .w-10 {\n    width: calc(var(--spacing) * 10);\n  }\n  .w-11 {\n    width: calc(var(--spacing) * 11);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-13 {\n    width: calc(var(--spacing) * 13);\n  }\n  .w-16 {\n    width: calc(var(--spacing) * 16);\n  }\n  .w-17 {\n    width: calc(var(--spacing) * 17);\n  }\n  .w-20 {\n    width: calc(var(--spacing) * 20);\n  }\n  .w-24 {\n    width: calc(var(--spacing) * 24);\n  }\n  .w-28 {\n    width: calc(var(--spacing) * 28);\n  }\n  .w-32 {\n    width: calc(var(--spacing) * 32);\n  }\n  .w-40 {\n    width: calc(var(--spacing) * 40);\n  }\n  .w-72 {\n    width: calc(var(--spacing) * 72);\n  }\n  .w-\\[1px\\] {\n    width: 1px;\n  }\n  .w-\\[22px\\] {\n    width: 22px;\n  }\n  .w-\\[32px\\] {\n    width: 32px;\n  }\n  .w-\\[46px\\] {\n    width: 46px;\n  }\n  .w-\\[84px\\] {\n    width: 84px;\n  }\n  .w-\\[100px\\] {\n    width: 100px;\n  }\n  .w-\\[124px\\] {\n    width: 124px;\n  }\n  .w-\\[148px\\] {\n    width: 148px;\n  }\n  .w-auto {\n    width: auto;\n  }\n  .w-card-width {\n    width: var(--spacing-card-width);\n  }\n  .w-fit {\n    width: fit-content;\n  }\n  .w-full {\n    width: 100%;\n  }\n  .w-max {\n    width: max-content;\n  }\n  .w-min {\n    width: min-content;\n  }\n  .w-screen {\n    width: 100vw;\n  }\n  .max-w-\\[532px\\] {\n    max-width: 532px;\n  }\n  .max-w-\\[calc\\(100\\%-2rem\\)\\] {\n    max-width: calc(100% - 2rem);\n  }\n  .max-w-full {\n    max-width: 100%;\n  }\n  .max-w-md {\n    max-width: var(--container-md);\n  }\n  .max-w-sm {\n    max-width: var(--container-sm);\n  }\n  .max-w-xs {\n    max-width: var(--container-xs);\n  }\n  .min-w-\\(--radix-select-trigger-width\\) {\n    min-width: var(--radix-select-trigger-width);\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-4 {\n    min-width: calc(var(--spacing) * 4);\n  }\n  .min-w-5 {\n    min-width: calc(var(--spacing) * 5);\n  }\n  .min-w-6 {\n    min-width: calc(var(--spacing) * 6);\n  }\n  .min-w-7 {\n    min-width: calc(var(--spacing) * 7);\n  }\n  .min-w-9 {\n    min-width: calc(var(--spacing) * 9);\n  }\n  .min-w-11 {\n    min-width: calc(var(--spacing) * 11);\n  }\n  .min-w-13 {\n    min-width: calc(var(--spacing) * 13);\n  }\n  .min-w-\\[8rem\\] {\n    min-width: 8rem;\n  }\n  .min-w-full {\n    min-width: 100%;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .grow {\n    flex-grow: 1;\n  }\n  .grow-0 {\n    flex-grow: 0;\n  }\n  .border-collapse {\n    border-collapse: collapse;\n  }\n  .origin-\\(--radix-dropdown-menu-content-transform-origin\\) {\n    transform-origin: var(--radix-dropdown-menu-content-transform-origin);\n  }\n  .origin-\\(--radix-popover-content-transform-origin\\) {\n    transform-origin: var(--radix-popover-content-transform-origin);\n  }\n  .origin-\\(--radix-select-content-transform-origin\\) {\n    transform-origin: var(--radix-select-content-transform-origin);\n  }\n  .origin-\\(--radix-tooltip-content-transform-origin\\) {\n    transform-origin: var(--radix-tooltip-content-transform-origin);\n  }\n  .origin-bottom {\n    transform-origin: bottom;\n  }\n  .origin-top {\n    transform-origin: top;\n  }\n  .-translate-x-1 {\n    --tw-translate-x: calc(var(--spacing) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-0 {\n    --tw-translate-x: calc(var(--spacing) * 0);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-16 {\n    --tw-translate-x: calc(var(--spacing) * 16);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-\\[-50\\%\\] {\n    --tw-translate-x: -50%;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-y-1 {\n    --tw-translate-y: calc(var(--spacing) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-y-\\[-50\\%\\] {\n    --tw-translate-y: -50%;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .rotate-180 {\n    rotate: 180deg;\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .animate-in {\n    animation: enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none);\n  }\n  .animate-pulse {\n    animation: var(--animate-pulse);\n  }\n  .animate-shimmer {\n    animation: var(--animate-shimmer);\n  }\n  .animate-skeleton {\n    animation: skeleton 3s ease infinite;\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-default {\n    cursor: default;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .cursor-text {\n    cursor: text;\n  }\n  .resize {\n    resize: both;\n  }\n  .resize-none {\n    resize: none;\n  }\n  .resize-y {\n    resize: vertical;\n  }\n  .scroll-my-1 {\n    scroll-margin-block: calc(var(--spacing) * 1);\n  }\n  .list-disc {\n    list-style-type: disc;\n  }\n  .list-none {\n    list-style-type: none;\n  }\n  .appearance-none {\n    appearance: none;\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .grid-cols-5 {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n  .grid-cols-\\[auto_1fr_auto\\] {\n    grid-template-columns: auto 1fr auto;\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-col-reverse {\n    flex-direction: column-reverse;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n  .place-content-center {\n    place-content: center;\n  }\n  .place-items-center {\n    place-items: center;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-end {\n    align-items: flex-end;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .items-stretch {\n    align-items: stretch;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .justify-start {\n    justify-content: flex-start;\n  }\n  .justify-items-start {\n    justify-items: start;\n  }\n  .gap-0 {\n    gap: calc(var(--spacing) * 0);\n  }\n  .gap-0\\.5 {\n    gap: calc(var(--spacing) * 0.5);\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-1\\.5 {\n    gap: calc(var(--spacing) * 1.5);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-5 {\n    gap: calc(var(--spacing) * 5);\n  }\n  .gap-6 {\n    gap: calc(var(--spacing) * 6);\n  }\n  .gap-8 {\n    gap: calc(var(--spacing) * 8);\n  }\n  .gap-10 {\n    gap: calc(var(--spacing) * 10);\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .gap-y-2 {\n    row-gap: calc(var(--spacing) * 2);\n  }\n  .self-center {\n    align-self: center;\n  }\n  .justify-self-center {\n    justify-self: center;\n  }\n  .justify-self-end {\n    justify-self: flex-end;\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-clip {\n    overflow: clip;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .overflow-scroll {\n    overflow: scroll;\n  }\n  .overflow-visible {\n    overflow: visible;\n  }\n  .overflow-x-auto {\n    overflow-x: auto;\n  }\n  .overflow-x-hidden {\n    overflow-x: hidden;\n  }\n  .overflow-x-scroll {\n    overflow-x: scroll;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .overscroll-x-contain {\n    overscroll-behavior-x: contain;\n  }\n  .overscroll-y-contain {\n    overscroll-behavior-y: contain;\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-2xl {\n    border-radius: var(--radius-2xl);\n  }\n  .rounded-3xl {\n    border-radius: var(--radius-3xl);\n  }\n  .rounded-\\[12px\\] {\n    border-radius: 12px;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-sm {\n    border-radius: var(--radius-sm);\n  }\n  .rounded-xl {\n    border-radius: var(--radius-xl);\n  }\n  .rounded-xs {\n    border-radius: var(--radius-xs);\n  }\n  .rounded-t-2xl {\n    border-top-left-radius: var(--radius-2xl);\n    border-top-right-radius: var(--radius-2xl);\n  }\n  .rounded-t-sm {\n    border-top-left-radius: var(--radius-sm);\n    border-top-right-radius: var(--radius-sm);\n  }\n  .rounded-b-none {\n    border-bottom-right-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-0 {\n    border-style: var(--tw-border-style);\n    border-width: 0px;\n  }\n  .border-1 {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-t-1 {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-r {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 1px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-1 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-l {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 1px;\n  }\n  .border-dashed {\n    --tw-border-style: dashed;\n    border-style: dashed;\n  }\n  .border-none {\n    --tw-border-style: none;\n    border-style: none;\n  }\n  .border-solid {\n    --tw-border-style: solid;\n    border-style: solid;\n  }\n  .border-\\(--alert-border\\) {\n    border-color: var(--alert-border);\n  }\n  .border-\\(--callout-header\\) {\n    border-color: var(--callout-header);\n  }\n  .border-amber-500 {\n    border-color: var(--color-amber-500);\n  }\n  .border-amber-500\\/30 {\n    border-color: color-mix(in srgb, oklch(76.9% 0.188 70.08) 30%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      border-color: color-mix(in oklab, var(--color-amber-500) 30%, transparent);\n    }\n  }\n  .border-background-primary {\n    border-color: var(--seq-color-background-primary);\n  }\n  .border-blue-900 {\n    border-color: var(--color-blue-900);\n  }\n  .border-border-base {\n    border-color: var(--color-border-base);\n  }\n  .border-border-button {\n    border-color: var(--seq-color-border-button);\n  }\n  .border-border-card {\n    border-color: var(--seq-color-border-card);\n  }\n  .border-border-focus {\n    border-color: var(--color-border-focus);\n  }\n  .border-border-normal {\n    border-color: var(--seq-color-border-normal);\n  }\n  .border-current {\n    border-color: currentcolor;\n  }\n  .border-orange-900 {\n    border-color: var(--color-orange-900);\n  }\n  .border-red-900 {\n    border-color: var(--color-red-900);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-violet-600 {\n    border-color: var(--color-violet-600);\n  }\n  .border-yellow-900 {\n    border-color: var(--color-yellow-900);\n  }\n  .border-b-primary {\n    border-bottom-color: var(--seq-color-primary);\n  }\n  .border-b-transparent {\n    border-bottom-color: transparent;\n  }\n  .bg-\\(--alert-background\\) {\n    background-color: var(--alert-background);\n  }\n  .bg-\\(--callout-content\\) {\n    background-color: var(--callout-content);\n  }\n  .bg-\\(--callout-header\\) {\n    background-color: var(--callout-header);\n  }\n  .bg-\\[\\#2b0000\\] {\n    background-color: #2b0000;\n  }\n  .bg-\\[\\#35a554\\] {\n    background-color: #35a554;\n  }\n  .bg-\\[hsla\\(39\\,71\\%\\,40\\%\\,0\\.3\\)\\] {\n    background-color: hsla(39,71%,40%,0.3);\n  }\n  .bg-\\[hsla\\(247\\,100\\%\\,75\\%\\,0\\.3\\)\\] {\n    background-color: hsla(247,100%,75%,0.3);\n  }\n  .bg-amber-500 {\n    background-color: var(--color-amber-500);\n  }\n  .bg-amber-500\\/10 {\n    background-color: color-mix(in srgb, oklch(76.9% 0.188 70.08) 10%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-amber-500) 10%, transparent);\n    }\n  }\n  .bg-background-active {\n    background-color: var(--seq-color-background-active);\n  }\n  .bg-background-input {\n    background-color: var(--seq-color-background-input);\n  }\n  .bg-background-inverse {\n    background-color: var(--seq-color-background-inverse);\n  }\n  .bg-background-inverse\\/20 {\n    background-color: var(--seq-color-background-inverse);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--seq-color-background-inverse) 20%, transparent);\n    }\n  }\n  .bg-background-muted {\n    background-color: var(--seq-color-background-muted);\n  }\n  .bg-background-overlay {\n    background-color: var(--seq-color-background-overlay);\n  }\n  .bg-background-primary {\n    background-color: var(--seq-color-background-primary);\n  }\n  .bg-background-primary\\/70 {\n    background-color: var(--seq-color-background-primary);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--seq-color-background-primary) 70%, transparent);\n    }\n  }\n  .bg-background-raised {\n    background-color: var(--seq-color-background-raised);\n  }\n  .bg-background-secondary {\n    background-color: var(--seq-color-background-secondary);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-border-normal {\n    background-color: var(--seq-color-border-normal);\n  }\n  .bg-destructive {\n    background-color: var(--seq-color-destructive);\n  }\n  .bg-gray-50 {\n    background-color: var(--color-gray-50);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-info {\n    background-color: var(--seq-color-info);\n  }\n  .bg-negative {\n    background-color: var(--seq-color-negative);\n  }\n  .bg-overlay-light {\n    background-color: var(--color-overlay-light);\n  }\n  .bg-positive {\n    background-color: var(--seq-color-positive);\n  }\n  .bg-primary {\n    background-color: var(--seq-color-primary);\n  }\n  .bg-primary\\/20 {\n    background-color: var(--seq-color-primary);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--seq-color-primary) 20%, transparent);\n    }\n  }\n  .bg-primary\\/50 {\n    background-color: var(--seq-color-primary);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--seq-color-primary) 50%, transparent);\n    }\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-red-900 {\n    background-color: var(--color-red-900);\n  }\n  .bg-red-950 {\n    background-color: var(--color-red-950);\n  }\n  .bg-surface-neutral {\n    background-color: var(--color-surface-neutral);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-warning {\n    background-color: var(--seq-color-warning);\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/5 {\n    background-color: color-mix(in srgb, #fff 5%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 5%, transparent);\n    }\n  }\n  .bg-zinc-950 {\n    background-color: var(--color-zinc-950);\n  }\n  .bg-gradient-primary {\n    background-image: var(--seq-color-gradient-primary);\n  }\n  .bg-gradient-secondary {\n    background-image: var(--seq-color-gradient-secondary);\n  }\n  .bg-gradient-skeleton {\n    background-image: var(--seq-color-gradient-skeleton);\n  }\n  .bg-none {\n    background-image: none;\n  }\n  .\\[mask-image\\:radial-gradient\\(circle_at_82\\%_82\\%\\,transparent_22\\%\\,black_0\\)\\] {\n    mask-image: radial-gradient(circle at 82% 82%,transparent 22%,black 0);\n  }\n  .bg-\\[length\\:400\\%_400\\%\\] {\n    background-size: 400% 400%;\n  }\n  .bg-no-repeat {\n    background-repeat: no-repeat;\n  }\n  .bg-origin-border {\n    background-origin: border-box;\n  }\n  .fill-background-raised {\n    fill: var(--seq-color-background-raised);\n  }\n  .fill-primary {\n    fill: var(--seq-color-primary);\n  }\n  .stroke-2 {\n    stroke-width: 2;\n  }\n  .object-contain {\n    object-fit: contain;\n  }\n  .object-cover {\n    object-fit: cover;\n  }\n  .p-0 {\n    padding: calc(var(--spacing) * 0);\n  }\n  .p-0\\.75 {\n    padding: calc(var(--spacing) * 0.75);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-5 {\n    padding: calc(var(--spacing) * 5);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .p-7 {\n    padding: calc(var(--spacing) * 7);\n  }\n  .p-8 {\n    padding: calc(var(--spacing) * 8);\n  }\n  .p-\\[10px\\] {\n    padding: 10px;\n  }\n  .px-0 {\n    padding-inline: calc(var(--spacing) * 0);\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-5 {\n    padding-inline: calc(var(--spacing) * 5);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .px-10 {\n    padding-inline: calc(var(--spacing) * 10);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .py-6 {\n    padding-block: calc(var(--spacing) * 6);\n  }\n  .py-8 {\n    padding-block: calc(var(--spacing) * 8);\n  }\n  .pt-0 {\n    padding-top: calc(var(--spacing) * 0);\n  }\n  .pt-1 {\n    padding-top: calc(var(--spacing) * 1);\n  }\n  .pt-2 {\n    padding-top: calc(var(--spacing) * 2);\n  }\n  .pt-3 {\n    padding-top: calc(var(--spacing) * 3);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pt-5 {\n    padding-top: calc(var(--spacing) * 5);\n  }\n  .pt-\\[60px\\] {\n    padding-top: 60px;\n  }\n  .pr-0 {\n    padding-right: calc(var(--spacing) * 0);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-4 {\n    padding-right: calc(var(--spacing) * 4);\n  }\n  .pr-8 {\n    padding-right: calc(var(--spacing) * 8);\n  }\n  .pb-0 {\n    padding-bottom: calc(var(--spacing) * 0);\n  }\n  .pb-2 {\n    padding-bottom: calc(var(--spacing) * 2);\n  }\n  .pb-3 {\n    padding-bottom: calc(var(--spacing) * 3);\n  }\n  .pb-4 {\n    padding-bottom: calc(var(--spacing) * 4);\n  }\n  .pb-5 {\n    padding-bottom: calc(var(--spacing) * 5);\n  }\n  .pb-6 {\n    padding-bottom: calc(var(--spacing) * 6);\n  }\n  .pb-\\[calc\\(env\\(safe-area-inset-bottom\\)\\)\\] {\n    padding-bottom: calc(env(safe-area-inset-bottom));\n  }\n  .pl-1 {\n    padding-left: calc(var(--spacing) * 1);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-4 {\n    padding-left: calc(var(--spacing) * 4);\n  }\n  .pl-6 {\n    padding-left: calc(var(--spacing) * 6);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-end {\n    text-align: end;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .text-large {\n    font-family: \"Inter\", ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    font-size: var(--text-xl);\n    line-height: var(--tw-leading, var(--text-xl--line-height));\n    --tw-leading: calc(var(--spacing) * 7);\n    line-height: calc(var(--spacing) * 7);\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n    --tw-tracking: var(--tracking-normal);\n    letter-spacing: var(--tracking-normal);\n  }\n  .font-body {\n    font-family: \"Inter\", ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n  }\n  .font-mono {\n    font-family: \"Roboto\", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  }\n  .text-2xl {\n    font-size: var(--text-2xl);\n    line-height: var(--tw-leading, var(--text-2xl--line-height));\n  }\n  .text-4xl {\n    font-size: var(--text-4xl);\n    line-height: var(--tw-leading, var(--text-4xl--line-height));\n  }\n  .text-6xl {\n    font-size: var(--text-6xl);\n    line-height: var(--tw-leading, var(--text-6xl--line-height));\n  }\n  .text-base {\n    font-size: var(--text-base);\n    line-height: var(--tw-leading, var(--text-base--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xl {\n    font-size: var(--text-xl);\n    line-height: var(--tw-leading, var(--text-xl--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .text-\\[0\\.625rem\\] {\n    font-size: 0.625rem;\n  }\n  .text-\\[4px\\] {\n    font-size: 4px;\n  }\n  .text-\\[6px\\] {\n    font-size: 6px;\n  }\n  .text-\\[9px\\] {\n    font-size: 9px;\n  }\n  .text-\\[11px\\] {\n    font-size: 11px;\n  }\n  .text-\\[16px\\] {\n    font-size: 16px;\n  }\n  .leading-0 {\n    --tw-leading: calc(var(--spacing) * 0);\n    line-height: calc(var(--spacing) * 0);\n  }\n  .leading-4 {\n    --tw-leading: calc(var(--spacing) * 4);\n    line-height: calc(var(--spacing) * 4);\n  }\n  .leading-5 {\n    --tw-leading: calc(var(--spacing) * 5);\n    line-height: calc(var(--spacing) * 5);\n  }\n  .leading-6 {\n    --tw-leading: calc(var(--spacing) * 6);\n    line-height: calc(var(--spacing) * 6);\n  }\n  .leading-7 {\n    --tw-leading: calc(var(--spacing) * 7);\n    line-height: calc(var(--spacing) * 7);\n  }\n  .leading-8 {\n    --tw-leading: calc(var(--spacing) * 8);\n    line-height: calc(var(--spacing) * 8);\n  }\n  .leading-10 {\n    --tw-leading: calc(var(--spacing) * 10);\n    line-height: calc(var(--spacing) * 10);\n  }\n  .leading-15 {\n    --tw-leading: calc(var(--spacing) * 15);\n    line-height: calc(var(--spacing) * 15);\n  }\n  .leading-relaxed {\n    --tw-leading: var(--leading-relaxed);\n    line-height: var(--leading-relaxed);\n  }\n  .leading-snug {\n    --tw-leading: var(--leading-snug);\n    line-height: var(--leading-snug);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-normal {\n    --tw-font-weight: var(--font-weight-normal);\n    font-weight: var(--font-weight-normal);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .tracking-normal {\n    --tw-tracking: var(--tracking-normal);\n    letter-spacing: var(--tracking-normal);\n  }\n  .tracking-wide {\n    --tw-tracking: var(--tracking-wide);\n    letter-spacing: var(--tracking-wide);\n  }\n  .tracking-widest {\n    --tw-tracking: var(--tracking-widest);\n    letter-spacing: var(--tracking-widest);\n  }\n  .text-wrap {\n    text-wrap: wrap;\n  }\n  .break-words {\n    overflow-wrap: break-word;\n  }\n  .text-ellipsis {\n    text-overflow: ellipsis;\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .whitespace-pre-wrap {\n    white-space: pre-wrap;\n  }\n  .text-\\(--alert-accent\\) {\n    color: var(--alert-accent);\n  }\n  .text-\\(--callout-accent\\) {\n    color: var(--callout-accent);\n  }\n  .text-amber-300 {\n    color: var(--color-amber-300);\n  }\n  .text-amber-500 {\n    color: var(--color-amber-500);\n  }\n  .text-amber-600 {\n    color: var(--color-amber-600);\n  }\n  .text-background-primary {\n    color: var(--seq-color-background-primary);\n  }\n  .text-background-raised {\n    color: var(--seq-color-background-raised);\n  }\n  .text-background-secondary {\n    color: var(--seq-color-background-secondary);\n  }\n  .text-black {\n    color: var(--color-black);\n  }\n  .text-blue-300 {\n    color: var(--color-blue-300);\n  }\n  .text-blue-400 {\n    color: var(--color-blue-400);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-current {\n    color: currentcolor;\n  }\n  .text-destructive {\n    color: var(--seq-color-destructive);\n  }\n  .text-gray-300 {\n    color: var(--color-gray-300);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-indigo-400 {\n    color: var(--color-indigo-400);\n  }\n  .text-info {\n    color: var(--seq-color-info);\n  }\n  .text-inherit {\n    color: inherit;\n  }\n  .text-inverse {\n    color: var(--seq-color-inverse);\n  }\n  .text-muted {\n    color: var(--seq-color-muted);\n  }\n  .text-negative {\n    color: var(--seq-color-negative);\n  }\n  .text-orange-300 {\n    color: var(--color-orange-300);\n  }\n  .text-orange-400 {\n    color: var(--color-orange-400);\n  }\n  .text-orange-500 {\n    color: var(--color-orange-500);\n  }\n  .text-positive {\n    color: var(--seq-color-positive);\n  }\n  .text-primary {\n    color: var(--seq-color-primary);\n  }\n  .text-primary\\/80 {\n    color: var(--seq-color-primary);\n    @supports (color: color-mix(in lab, red, red)) {\n      color: color-mix(in oklab, var(--seq-color-primary) 80%, transparent);\n    }\n  }\n  .text-red-100 {\n    color: var(--color-red-100);\n  }\n  .text-red-300 {\n    color: var(--color-red-300);\n  }\n  .text-red-400 {\n    color: var(--color-red-400);\n  }\n  .text-red-500 {\n    color: var(--color-red-500);\n  }\n  .text-secondary {\n    color: var(--seq-color-secondary);\n  }\n  .text-text-50 {\n    color: var(--color-text-50);\n  }\n  .text-text-80 {\n    color: var(--color-text-80);\n  }\n  .text-text-100 {\n    color: var(--color-text-100);\n  }\n  .text-violet-400 {\n    color: var(--color-violet-400);\n  }\n  .text-warning {\n    color: var(--seq-color-warning);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .text-yellow-300 {\n    color: var(--color-yellow-300);\n  }\n  .text-yellow-400 {\n    color: var(--color-yellow-400);\n  }\n  .text-yellow-500 {\n    color: var(--color-yellow-500);\n  }\n  .capitalize {\n    text-transform: capitalize;\n  }\n  .uppercase {\n    text-transform: uppercase;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .no-underline {\n    text-decoration-line: none;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .placeholder-muted {\n    &::placeholder {\n      color: var(--seq-color-muted);\n    }\n  }\n  .caret-transparent {\n    caret-color: transparent;\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-70 {\n    opacity: 70%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-primary {\n    --tw-shadow: 0 0 16px 0 var(--tw-shadow-color, var(--seq-color-drop-shadow));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-2 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .ring-border-focus {\n    --tw-ring-color: var(--color-border-focus);\n  }\n  .ring-border-normal {\n    --tw-ring-color: var(--seq-color-border-normal);\n  }\n  .ring-white {\n    --tw-ring-color: var(--color-white);\n  }\n  .outline-hidden {\n    --tw-outline-style: none;\n    outline-style: none;\n    @media (forced-colors: active) {\n      outline: 2px solid transparent;\n      outline-offset: 2px;\n    }\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-offset-1 {\n    outline-offset: 1px;\n  }\n  .outline-offset-\\[-2px\\] {\n    outline-offset: -2px;\n  }\n  .blur {\n    --tw-blur: blur(8px);\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .blur-xs {\n    --tw-blur: blur(var(--blur-xs));\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur {\n    --tw-backdrop-blur: blur(8px);\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-blur-md {\n    --tw-backdrop-blur: blur(var(--blur-md));\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-blur-xs {\n    --tw-backdrop-blur: blur(var(--blur-xs));\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-filter {\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter, display, content-visibility, overlay, pointer-events;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-\\[translate\\,opacity\\] {\n    transition-property: translate,opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-shadow {\n    transition-property: box-shadow;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-transform {\n    transition-property: transform, translate, scale, rotate;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-none {\n    transition-property: none;\n  }\n  .duration-\\(--duration\\) {\n    --tw-duration: var(--duration);\n    transition-duration: var(--duration);\n  }\n  .duration-100 {\n    --tw-duration: 100ms;\n    transition-duration: 100ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .ease-linear {\n    --tw-ease: linear;\n    transition-timing-function: linear;\n  }\n  .ease-out {\n    --tw-ease: var(--ease-out);\n    transition-timing-function: var(--ease-out);\n  }\n  .will-change-transform {\n    will-change: transform;\n  }\n  .fade-in-0 {\n    --tw-enter-opacity: calc(0/100);\n    --tw-enter-opacity: 0;\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    user-select: none;\n  }\n  .zoom-in-95 {\n    --tw-enter-scale: calc(95*1%);\n    --tw-enter-scale: .95;\n  }\n  .\\[--alert-accent\\:var\\(--color-green-700\\)\\] {\n    --alert-accent: var(--color-green-700);\n  }\n  .\\[--alert-accent\\:var\\(--color-indigo-700\\)\\] {\n    --alert-accent: var(--color-indigo-700);\n  }\n  .\\[--alert-accent\\:var\\(--color-red-700\\)\\] {\n    --alert-accent: var(--color-red-700);\n  }\n  .\\[--alert-accent\\:var\\(--color-yellow-700\\)\\] {\n    --alert-accent: var(--color-yellow-700);\n  }\n  .\\[--alert-background\\:var\\(--color-green-200\\)\\] {\n    --alert-background: var(--color-green-200);\n  }\n  .\\[--alert-background\\:var\\(--color-indigo-200\\)\\] {\n    --alert-background: var(--color-indigo-200);\n  }\n  .\\[--alert-background\\:var\\(--color-red-200\\)\\] {\n    --alert-background: var(--color-red-200);\n  }\n  .\\[--alert-background\\:var\\(--color-yellow-100\\)\\] {\n    --alert-background: var(--color-yellow-100);\n  }\n  .\\[--alert-border\\:var\\(--color-green-500\\)\\] {\n    --alert-border: var(--color-green-500);\n  }\n  .\\[--alert-border\\:var\\(--color-indigo-500\\)\\] {\n    --alert-border: var(--color-indigo-500);\n  }\n  .\\[--alert-border\\:var\\(--color-red-500\\)\\] {\n    --alert-border: var(--color-red-500);\n  }\n  .\\[--alert-border\\:var\\(--color-yellow-500\\)\\] {\n    --alert-border: var(--color-yellow-500);\n  }\n  .\\[--callout-accent\\:var\\(--color-green-700\\)\\] {\n    --callout-accent: var(--color-green-700);\n  }\n  .\\[--callout-accent\\:var\\(--color-indigo-700\\)\\] {\n    --callout-accent: var(--color-indigo-700);\n  }\n  .\\[--callout-accent\\:var\\(--color-red-700\\)\\] {\n    --callout-accent: var(--color-red-700);\n  }\n  .\\[--callout-accent\\:var\\(--color-yellow-700\\)\\] {\n    --callout-accent: var(--color-yellow-700);\n  }\n  .\\[--callout-content\\:var\\(--color-green-200\\)\\] {\n    --callout-content: var(--color-green-200);\n  }\n  .\\[--callout-content\\:var\\(--color-indigo-200\\)\\] {\n    --callout-content: var(--color-indigo-200);\n  }\n  .\\[--callout-content\\:var\\(--color-red-200\\)\\] {\n    --callout-content: var(--color-red-200);\n  }\n  .\\[--callout-content\\:var\\(--color-yellow-100\\)\\] {\n    --callout-content: var(--color-yellow-100);\n  }\n  .\\[--callout-header\\:var\\(--color-green-500\\)\\] {\n    --callout-header: var(--color-green-500);\n  }\n  .\\[--callout-header\\:var\\(--color-indigo-500\\)\\] {\n    --callout-header: var(--color-indigo-500);\n  }\n  .\\[--callout-header\\:var\\(--color-red-500\\)\\] {\n    --callout-header: var(--color-red-500);\n  }\n  .\\[--callout-header\\:var\\(--color-yellow-500\\)\\] {\n    --callout-header: var(--color-yellow-500);\n  }\n  .paused {\n    animation-play-state: paused;\n  }\n  .ring-inset {\n    --tw-ring-inset: inset;\n  }\n  .running {\n    animation-play-state: running;\n  }\n  .not-in-data-current\\:duration-1 {\n    &:not(:where(*[data-current]) *) {\n      --tw-duration: 1ms;\n      transition-duration: 1ms;\n    }\n  }\n  .group-focus-within\\/input-group\\:opacity-0 {\n    &:is(:where(.group\\/input-group):focus-within *) {\n      opacity: 0%;\n    }\n  }\n  .group-hover\\:translate-y-\\[-64px\\] {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        --tw-translate-y: -64px;\n        translate: var(--tw-translate-x) var(--tw-translate-y);\n      }\n    }\n  }\n  .group-hover\\:scale-hover {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        --tw-scale-x: var(--scale-hover);\n        --tw-scale-y: var(--scale-hover);\n        --tw-scale-z: var(--scale-hover);\n        scale: var(--tw-scale-x) var(--tw-scale-y);\n      }\n    }\n  }\n  .group-has-\\[\\[data-orientation\\=horizontal\\]\\]\\/field\\:text-balance {\n    &:is(:where(.group\\/field):has(*:is([data-orientation=horizontal])) *) {\n      text-wrap: balance;\n    }\n  }\n  .group-has-\\[\\>input\\]\\/input-group\\:pt-2\\.5 {\n    &:is(:where(.group\\/input-group):has(>input) *) {\n      padding-top: calc(var(--spacing) * 2.5);\n    }\n  }\n  .group-has-\\[\\>input\\]\\/input-group\\:pb-2\\.5 {\n    &:is(:where(.group\\/input-group):has(>input) *) {\n      padding-bottom: calc(var(--spacing) * 2.5);\n    }\n  }\n  .group-data-\\[disabled\\=true\\]\\:pointer-events-none {\n    &:is(:where(.group)[data-disabled=\"true\"] *) {\n      pointer-events: none;\n    }\n  }\n  .group-data-\\[disabled\\=true\\]\\:opacity-50 {\n    &:is(:where(.group)[data-disabled=\"true\"] *) {\n      opacity: 50%;\n    }\n  }\n  .group-data-\\[disabled\\=true\\]\\/field\\:opacity-50 {\n    &:is(:where(.group\\/field)[data-disabled=\"true\"] *) {\n      opacity: 50%;\n    }\n  }\n  .group-data-\\[disabled\\=true\\]\\/input-group\\:opacity-50 {\n    &:is(:where(.group\\/input-group)[data-disabled=\"true\"] *) {\n      opacity: 50%;\n    }\n  }\n  .group-data-\\[variant\\=outline\\]\\/field-group\\:-mb-2 {\n    &:is(:where(.group\\/field-group)[data-variant=\"outline\"] *) {\n      margin-bottom: calc(var(--spacing) * -2);\n    }\n  }\n  .peer-disabled\\:cursor-not-allowed {\n    &:is(:where(.peer):disabled ~ *) {\n      cursor: not-allowed;\n    }\n  }\n  .peer-disabled\\:opacity-50 {\n    &:is(:where(.peer):disabled ~ *) {\n      opacity: 50%;\n    }\n  }\n  .selection\\:bg-transparent {\n    & *::selection {\n      background-color: transparent;\n    }\n    &::selection {\n      background-color: transparent;\n    }\n  }\n  .file\\:inline-flex {\n    &::file-selector-button {\n      display: inline-flex;\n    }\n  }\n  .file\\:h-13 {\n    &::file-selector-button {\n      height: calc(var(--spacing) * 13);\n    }\n  }\n  .file\\:border-0 {\n    &::file-selector-button {\n      border-style: var(--tw-border-style);\n      border-width: 0px;\n    }\n  }\n  .file\\:bg-transparent {\n    &::file-selector-button {\n      background-color: transparent;\n    }\n  }\n  .file\\:text-sm {\n    &::file-selector-button {\n      font-size: var(--text-sm);\n      line-height: var(--tw-leading, var(--text-sm--line-height));\n    }\n  }\n  .file\\:font-medium {\n    &::file-selector-button {\n      --tw-font-weight: var(--font-weight-medium);\n      font-weight: var(--font-weight-medium);\n    }\n  }\n  .file\\:text-primary {\n    &::file-selector-button {\n      color: var(--seq-color-primary);\n    }\n  }\n  .placeholder\\:text-muted {\n    &::placeholder {\n      color: var(--seq-color-muted);\n    }\n  }\n  .before\\:pointer-events-none {\n    &::before {\n      content: var(--tw-content);\n      pointer-events: none;\n    }\n  }\n  .before\\:absolute {\n    &::before {\n      content: var(--tw-content);\n      position: absolute;\n    }\n  }\n  .before\\:-top-4 {\n    &::before {\n      content: var(--tw-content);\n      top: calc(var(--spacing) * -4);\n    }\n  }\n  .before\\:top-0 {\n    &::before {\n      content: var(--tw-content);\n      top: calc(var(--spacing) * 0);\n    }\n  }\n  .before\\:-bottom-4 {\n    &::before {\n      content: var(--tw-content);\n      bottom: calc(var(--spacing) * -4);\n    }\n  }\n  .before\\:left-0 {\n    &::before {\n      content: var(--tw-content);\n      left: calc(var(--spacing) * 0);\n    }\n  }\n  .before\\:z-10 {\n    &::before {\n      content: var(--tw-content);\n      z-index: 10;\n    }\n  }\n  .before\\:z-\\[11\\] {\n    &::before {\n      content: var(--tw-content);\n      z-index: 11;\n    }\n  }\n  .before\\:hidden {\n    &::before {\n      content: var(--tw-content);\n      display: none;\n    }\n  }\n  .before\\:h-4 {\n    &::before {\n      content: var(--tw-content);\n      height: calc(var(--spacing) * 4);\n    }\n  }\n  .before\\:h-full {\n    &::before {\n      content: var(--tw-content);\n      height: 100%;\n    }\n  }\n  .before\\:w-4 {\n    &::before {\n      content: var(--tw-content);\n      width: calc(var(--spacing) * 4);\n    }\n  }\n  .before\\:w-full {\n    &::before {\n      content: var(--tw-content);\n      width: 100%;\n    }\n  }\n  .before\\:bg-linear-to-l {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-position: to left;\n      @supports (background-image: linear-gradient(in lab, red, red)) {\n        --tw-gradient-position: to left in oklab;\n      }\n      background-image: linear-gradient(var(--tw-gradient-stops));\n    }\n  }\n  .before\\:bg-linear-to-t {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-position: to top;\n      @supports (background-image: linear-gradient(in lab, red, red)) {\n        --tw-gradient-position: to top in oklab;\n      }\n      background-image: linear-gradient(var(--tw-gradient-stops));\n    }\n  }\n  .before\\:bg-gradient-to-b {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-position: to bottom in oklab;\n      background-image: linear-gradient(var(--tw-gradient-stops));\n    }\n  }\n  .before\\:bg-gradient-to-t {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-position: to top in oklab;\n      background-image: linear-gradient(var(--tw-gradient-stops));\n    }\n  }\n  .before\\:from-transparent {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-from: transparent;\n      --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n    }\n  }\n  .before\\:to-background-primary {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-to: var(--seq-color-background-primary);\n      --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n    }\n  }\n  .before\\:to-background-primary\\/70 {\n    &::before {\n      content: var(--tw-content);\n      --tw-gradient-to: var(--seq-color-background-primary);\n      @supports (color: color-mix(in lab, red, red)) {\n        --tw-gradient-to: color-mix(in oklab, var(--seq-color-background-primary) 70%, transparent);\n      }\n      --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n    }\n  }\n  .after\\:pointer-events-none {\n    &::after {\n      content: var(--tw-content);\n      pointer-events: none;\n    }\n  }\n  .after\\:absolute {\n    &::after {\n      content: var(--tw-content);\n      position: absolute;\n    }\n  }\n  .after\\:top-0 {\n    &::after {\n      content: var(--tw-content);\n      top: calc(var(--spacing) * 0);\n    }\n  }\n  .after\\:right-0 {\n    &::after {\n      content: var(--tw-content);\n      right: calc(var(--spacing) * 0);\n    }\n  }\n  .after\\:bottom-0 {\n    &::after {\n      content: var(--tw-content);\n      bottom: calc(var(--spacing) * 0);\n    }\n  }\n  .after\\:left-0 {\n    &::after {\n      content: var(--tw-content);\n      left: calc(var(--spacing) * 0);\n    }\n  }\n  .after\\:z-10 {\n    &::after {\n      content: var(--tw-content);\n      z-index: 10;\n    }\n  }\n  .after\\:hidden {\n    &::after {\n      content: var(--tw-content);\n      display: none;\n    }\n  }\n  .after\\:h-4 {\n    &::after {\n      content: var(--tw-content);\n      height: calc(var(--spacing) * 4);\n    }\n  }\n  .after\\:h-full {\n    &::after {\n      content: var(--tw-content);\n      height: 100%;\n    }\n  }\n  .after\\:w-4 {\n    &::after {\n      content: var(--tw-content);\n      width: calc(var(--spacing) * 4);\n    }\n  }\n  .after\\:w-full {\n    &::after {\n      content: var(--tw-content);\n      width: 100%;\n    }\n  }\n  .after\\:bg-linear-to-b {\n    &::after {\n      content: var(--tw-content);\n      --tw-gradient-position: to bottom;\n      @supports (background-image: linear-gradient(in lab, red, red)) {\n        --tw-gradient-position: to bottom in oklab;\n      }\n      background-image: linear-gradient(var(--tw-gradient-stops));\n    }\n  }\n  .after\\:bg-linear-to-r {\n    &::after {\n      content: var(--tw-content);\n      --tw-gradient-position: to right;\n      @supports (background-image: linear-gradient(in lab, red, red)) {\n        --tw-gradient-position: to right in oklab;\n      }\n      background-image: linear-gradient(var(--tw-gradient-stops));\n    }\n  }\n  .after\\:from-transparent {\n    &::after {\n      content: var(--tw-content);\n      --tw-gradient-from: transparent;\n      --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n    }\n  }\n  .after\\:to-background-primary {\n    &::after {\n      content: var(--tw-content);\n      --tw-gradient-to: var(--seq-color-background-primary);\n      --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n    }\n  }\n  .last\\:mt-0 {\n    &:last-child {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .focus-within\\:ring-2 {\n    &:focus-within {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .hover\\:animate-bell-ring {\n    &:hover {\n      @media (hover: hover) {\n        animation: var(--animate-bell-ring);\n      }\n    }\n  }\n  .hover\\:animate-none {\n    &:hover {\n      @media (hover: hover) {\n        animation: none;\n      }\n    }\n  }\n  .hover\\:border-border-card {\n    &:hover {\n      @media (hover: hover) {\n        border-color: var(--seq-color-border-card);\n      }\n    }\n  }\n  .hover\\:border-border-hover {\n    &:hover {\n      @media (hover: hover) {\n        border-color: var(--color-border-hover);\n      }\n    }\n  }\n  .hover\\:bg-background-hover {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--seq-color-background-hover);\n      }\n    }\n  }\n  .hover\\:bg-background-inverse\\/15 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--seq-color-background-inverse);\n        @supports (color: color-mix(in lab, red, red)) {\n          background-color: color-mix(in oklab, var(--seq-color-background-inverse) 15%, transparent);\n        }\n      }\n    }\n  }\n  .hover\\:bg-destructive\\/80 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--seq-color-destructive);\n        @supports (color: color-mix(in lab, red, red)) {\n          background-color: color-mix(in oklab, var(--seq-color-destructive) 80%, transparent);\n        }\n      }\n    }\n  }\n  .hover\\:bg-overlay-light {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-overlay-light);\n      }\n    }\n  }\n  .hover\\:bg-primary\\/80 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--seq-color-primary);\n        @supports (color: color-mix(in lab, red, red)) {\n          background-color: color-mix(in oklab, var(--seq-color-primary) 80%, transparent);\n        }\n      }\n    }\n  }\n  .hover\\:text-gray-300 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-300);\n      }\n    }\n  }\n  .hover\\:text-primary {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--seq-color-primary);\n      }\n    }\n  }\n  .hover\\:text-primary\\/80 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--seq-color-primary);\n        @supports (color: color-mix(in lab, red, red)) {\n          color: color-mix(in oklab, var(--seq-color-primary) 80%, transparent);\n        }\n      }\n    }\n  }\n  .hover\\:text-red-300 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-red-300);\n      }\n    }\n  }\n  .hover\\:text-text-80 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-text-80);\n      }\n    }\n  }\n  .hover\\:opacity-50 {\n    &:hover {\n      @media (hover: hover) {\n        opacity: 50%;\n      }\n    }\n  }\n  .hover\\:opacity-80 {\n    &:hover {\n      @media (hover: hover) {\n        opacity: 80%;\n      }\n    }\n  }\n  .hover\\:shadow-lg {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:not-disabled\\:not-\\[\\[aria-invalid\\=true\\]\\]\\:not-has-\\[\\[aria-invalid\\=true\\]\\]\\:border-border-hover {\n    &:hover {\n      @media (hover: hover) {\n        &:not(*:disabled) {\n          &:not(*:is([aria-invalid=true])) {\n            &:not(*:has(*:is([aria-invalid=true]))) {\n              border-color: var(--color-border-hover);\n            }\n          }\n        }\n      }\n    }\n  }\n  .hover\\:not-\\[\\[data-state\\=active\\]\\]\\:opacity-80 {\n    &:hover {\n      @media (hover: hover) {\n        &:not(*:is([data-state=active])) {\n          opacity: 80%;\n        }\n      }\n    }\n  }\n  .focus\\:bg-background-hover {\n    &:focus {\n      background-color: var(--seq-color-background-hover);\n    }\n  }\n  .focus\\:outline-hidden {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n      @media (forced-colors: active) {\n        outline: 2px solid transparent;\n        outline-offset: 2px;\n      }\n    }\n  }\n  .focus-visible\\:border-border-focus {\n    &:focus-visible {\n      border-color: var(--color-border-focus);\n    }\n  }\n  .focus-visible\\:shadow-focus-ring {\n    &:focus-visible {\n      --tw-shadow: 0px 0px 0px 2px var(--tw-shadow-color, hsla(247, 100%, 75%, 1));\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus-visible\\:shadow-none {\n    &:focus-visible {\n      --tw-shadow: 0 0 #0000;\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus-visible\\:outline-2 {\n    &:focus-visible {\n      outline-style: var(--tw-outline-style);\n      outline-width: 2px;\n    }\n  }\n  .focus-visible\\:outline-offset-1 {\n    &:focus-visible {\n      outline-offset: 1px;\n    }\n  }\n  .focus-visible\\:outline-border-focus {\n    &:focus-visible {\n      outline-color: var(--color-border-focus);\n    }\n  }\n  .active\\:border-border-focus {\n    &:active {\n      border-color: var(--color-border-focus);\n    }\n  }\n  .active\\:shadow-active-ring {\n    &:active {\n      --tw-shadow: 0px 0px 0px 1px var(--tw-shadow-color, hsla(247, 100%, 75%, 1));\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .active\\:shadow-none {\n    &:active {\n      --tw-shadow: 0 0 #0000;\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .disabled\\:pointer-events-none {\n    &:disabled {\n      pointer-events: none;\n    }\n  }\n  .disabled\\:cursor-default {\n    &:disabled {\n      cursor: default;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .disabled\\:opacity-100 {\n    &:disabled {\n      opacity: 100%;\n    }\n  }\n  .inert\\:absolute {\n    &:is([inert], [inert] *) {\n      position: absolute;\n    }\n  }\n  .inert\\:z-0 {\n    &:is([inert], [inert] *) {\n      z-index: 0;\n    }\n  }\n  .inert\\:overflow-clip {\n    &:is([inert], [inert] *) {\n      overflow: clip;\n    }\n  }\n  .inert\\:opacity-0 {\n    &:is([inert], [inert] *) {\n      opacity: 0%;\n    }\n  }\n  .in-data-current\\:translate-x-6 {\n    :where(*[data-current]) & {\n      --tw-translate-x: calc(var(--spacing) * 6);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .in-data-current\\:opacity-100 {\n    :where(*[data-current]) & {\n      opacity: 100%;\n    }\n  }\n  .has-data-\\[state\\=checked\\]\\:border-primary {\n    &:has(*[data-state=\"checked\"]) {\n      border-color: var(--seq-color-primary);\n    }\n  }\n  .has-data-\\[state\\=checked\\]\\:bg-primary\\/5 {\n    &:has(*[data-state=\"checked\"]) {\n      background-color: var(--seq-color-primary);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--seq-color-primary) 5%, transparent);\n      }\n    }\n  }\n  .has-\\[\\:focus-visible\\]\\:outline-2 {\n    &:has(*:is(:focus-visible)) {\n      outline-style: var(--tw-outline-style);\n      outline-width: 2px;\n    }\n  }\n  .has-\\[\\:focus-visible\\]\\:outline-border-focus {\n    &:has(*:is(:focus-visible)) {\n      outline-color: var(--color-border-focus);\n    }\n  }\n  .has-\\[\\[aria-invalid\\=true\\]\\]\\:border-destructive {\n    &:has(*:is([aria-invalid=true])) {\n      border-color: var(--seq-color-destructive);\n    }\n  }\n  .has-\\[\\[aria-invalid\\=true\\]\\]\\:outline-destructive {\n    &:has(*:is([aria-invalid=true])) {\n      outline-color: var(--seq-color-destructive);\n    }\n  }\n  .has-\\[\\[data-slot\\=input-group-control\\]\\:disabled\\]\\:pointer-events-none {\n    &:has(*:is([data-slot=input-group-control]:disabled)) {\n      pointer-events: none;\n    }\n  }\n  .has-\\[\\[data-slot\\=input-group-control\\]\\:disabled\\]\\:cursor-not-allowed {\n    &:has(*:is([data-slot=input-group-control]:disabled)) {\n      cursor: not-allowed;\n    }\n  }\n  .has-\\[\\[data-slot\\=input-group-control\\]\\:disabled\\]\\:opacity-50 {\n    &:has(*:is([data-slot=input-group-control]:disabled)) {\n      opacity: 50%;\n    }\n  }\n  .has-\\[\\[data-slot\\=input-group-control\\]\\:focus-visible\\]\\:ring-\\[3px\\] {\n    &:has(*:is([data-slot=input-group-control]:focus-visible)) {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .has-\\[\\[data-slot\\]\\[aria-invalid\\=true\\]\\]\\:border-destructive {\n    &:has(*:is([data-slot][aria-invalid=true])) {\n      border-color: var(--seq-color-destructive);\n    }\n  }\n  .has-\\[\\[data-slot\\]\\[aria-invalid\\=true\\]\\]\\:outline-destructive {\n    &:has(*:is([data-slot][aria-invalid=true])) {\n      outline-color: var(--seq-color-destructive);\n    }\n  }\n  .has-\\[\\>\\[data-align\\=block-end\\]\\]\\:h-auto {\n    &:has(>[data-align=block-end]) {\n      height: auto;\n    }\n  }\n  .has-\\[\\>\\[data-align\\=block-end\\]\\]\\:flex-col {\n    &:has(>[data-align=block-end]) {\n      flex-direction: column;\n    }\n  }\n  .has-\\[\\>\\[data-align\\=block-start\\]\\]\\:h-auto {\n    &:has(>[data-align=block-start]) {\n      height: auto;\n    }\n  }\n  .has-\\[\\>\\[data-align\\=block-start\\]\\]\\:flex-col {\n    &:has(>[data-align=block-start]) {\n      flex-direction: column;\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=checkbox-group\\]\\]\\:gap-3 {\n    &:has(>[data-slot=checkbox-group]) {\n      gap: calc(var(--spacing) * 3);\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=field-content\\]\\]\\:items-start {\n    &:has(>[data-slot=field-content]) {\n      align-items: flex-start;\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=field\\]\\]\\:w-full {\n    &:has(>[data-slot=field]) {\n      width: 100%;\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=field\\]\\]\\:flex-col {\n    &:has(>[data-slot=field]) {\n      flex-direction: column;\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=field\\]\\]\\:rounded-md {\n    &:has(>[data-slot=field]) {\n      border-radius: var(--radius-md);\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=field\\]\\]\\:border {\n    &:has(>[data-slot=field]) {\n      border-style: var(--tw-border-style);\n      border-width: 1px;\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=radio-group\\]\\]\\:gap-3 {\n    &:has(>[data-slot=radio-group]) {\n      gap: calc(var(--spacing) * 3);\n    }\n  }\n  .has-\\[\\>textarea\\]\\:h-auto {\n    &:has(>textarea) {\n      height: auto;\n    }\n  }\n  .aria-invalid\\:border-destructive {\n    &[aria-invalid=\"true\"] {\n      border-color: var(--seq-color-destructive);\n    }\n  }\n  .aria-invalid\\:outline-destructive {\n    &[aria-invalid=\"true\"] {\n      outline-color: var(--seq-color-destructive);\n    }\n  }\n  .data-auto-advance\\:data-current\\:w-6 {\n    &[data-auto-advance] {\n      &[data-current] {\n        width: calc(var(--spacing) * 6);\n      }\n    }\n  }\n  .data-disabled\\:pointer-events-none {\n    &[data-disabled] {\n      pointer-events: none;\n    }\n  }\n  .data-disabled\\:cursor-default {\n    &[data-disabled] {\n      cursor: default;\n    }\n  }\n  .data-disabled\\:text-muted {\n    &[data-disabled] {\n      color: var(--seq-color-muted);\n    }\n  }\n  .data-disabled\\:text-primary\\/50 {\n    &[data-disabled] {\n      color: var(--seq-color-primary);\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, var(--seq-color-primary) 50%, transparent);\n      }\n    }\n  }\n  .data-disabled\\:opacity-80 {\n    &[data-disabled] {\n      opacity: 80%;\n    }\n  }\n  .data-entered\\:translate-x-0 {\n    &[data-entered] {\n      --tw-translate-x: calc(var(--spacing) * 0);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-entered\\:opacity-100 {\n    &[data-entered] {\n      opacity: 100%;\n    }\n  }\n  .data-entering\\:translate-x-0 {\n    &[data-entering] {\n      --tw-translate-x: calc(var(--spacing) * 0);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-entering\\:opacity-100 {\n    &[data-entering] {\n      opacity: 100%;\n    }\n  }\n  .data-exited\\:translate-x-16 {\n    &[data-exited] {\n      --tw-translate-x: calc(var(--spacing) * 16);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-exited\\:opacity-0 {\n    &[data-exited] {\n      opacity: 0%;\n    }\n  }\n  .data-exited\\:transition-none\\! {\n    &[data-exited] {\n      transition-property: none !important;\n    }\n  }\n  .data-exiting\\:-translate-x-16 {\n    &[data-exiting] {\n      --tw-translate-x: calc(var(--spacing) * -16);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-exiting\\:opacity-0 {\n    &[data-exiting] {\n      opacity: 0%;\n    }\n  }\n  .data-highlighted\\:bg-background-hover {\n    &[data-highlighted] {\n      background-color: var(--seq-color-background-hover);\n    }\n  }\n  .data-ltr\\:data-exited\\:-translate-x-16 {\n    &[data-ltr] {\n      &[data-exited] {\n        --tw-translate-x: calc(var(--spacing) * -16);\n        translate: var(--tw-translate-x) var(--tw-translate-y);\n      }\n    }\n  }\n  .data-ltr\\:data-exiting\\:translate-x-16 {\n    &[data-ltr] {\n      &[data-exiting] {\n        --tw-translate-x: calc(var(--spacing) * 16);\n        translate: var(--tw-translate-x) var(--tw-translate-y);\n      }\n    }\n  }\n  .data-pause\\:translate-x-0 {\n    &[data-pause] {\n      --tw-translate-x: calc(var(--spacing) * 0);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-pause\\:duration-300 {\n    &[data-pause] {\n      --tw-duration: 300ms;\n      transition-duration: 300ms;\n    }\n  }\n  .data-\\[disabled\\]\\:pointer-events-none {\n    &[data-disabled] {\n      pointer-events: none;\n    }\n  }\n  .data-\\[disabled\\]\\:opacity-50 {\n    &[data-disabled] {\n      opacity: 50%;\n    }\n  }\n  .data-\\[inset\\]\\:pl-8 {\n    &[data-inset] {\n      padding-left: calc(var(--spacing) * 8);\n    }\n  }\n  .data-\\[invalid\\=true\\]\\:text-destructive {\n    &[data-invalid=\"true\"] {\n      color: var(--seq-color-destructive);\n    }\n  }\n  .data-\\[orientation\\=horizontal\\]\\:h-px {\n    &[data-orientation=\"horizontal\"] {\n      height: 1px;\n    }\n  }\n  .data-\\[orientation\\=horizontal\\]\\:w-full {\n    &[data-orientation=\"horizontal\"] {\n      width: 100%;\n    }\n  }\n  .data-\\[orientation\\=vertical\\]\\:h-full {\n    &[data-orientation=\"vertical\"] {\n      height: 100%;\n    }\n  }\n  .data-\\[orientation\\=vertical\\]\\:w-px {\n    &[data-orientation=\"vertical\"] {\n      width: 1px;\n    }\n  }\n  .data-\\[placeholder\\]\\:text-muted {\n    &[data-placeholder] {\n      color: var(--seq-color-muted);\n    }\n  }\n  .data-\\[side\\=bottom\\]\\:translate-y-1 {\n    &[data-side=\"bottom\"] {\n      --tw-translate-y: calc(var(--spacing) * 1);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-\\[side\\=bottom\\]\\:slide-in-from-top-2 {\n    &[data-side=\"bottom\"] {\n      --tw-enter-translate-y: calc(2*var(--spacing)*-1);\n    }\n  }\n  .data-\\[side\\=left\\]\\:-translate-x-1 {\n    &[data-side=\"left\"] {\n      --tw-translate-x: calc(var(--spacing) * -1);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-\\[side\\=left\\]\\:slide-in-from-right-2 {\n    &[data-side=\"left\"] {\n      --tw-enter-translate-x: calc(2*var(--spacing));\n    }\n  }\n  .data-\\[side\\=right\\]\\:translate-x-1 {\n    &[data-side=\"right\"] {\n      --tw-translate-x: calc(var(--spacing) * 1);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-\\[side\\=right\\]\\:slide-in-from-left-2 {\n    &[data-side=\"right\"] {\n      --tw-enter-translate-x: calc(2*var(--spacing)*-1);\n    }\n  }\n  .data-\\[side\\=top\\]\\:-translate-y-1 {\n    &[data-side=\"top\"] {\n      --tw-translate-y: calc(var(--spacing) * -1);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-\\[side\\=top\\]\\:slide-in-from-bottom-2 {\n    &[data-side=\"top\"] {\n      --tw-enter-translate-y: calc(2*var(--spacing));\n    }\n  }\n  .data-\\[size\\=default\\]\\:h-13 {\n    &[data-size=\"default\"] {\n      height: calc(var(--spacing) * 13);\n    }\n  }\n  .data-\\[size\\=sm\\]\\:h-8 {\n    &[data-size=\"sm\"] {\n      height: calc(var(--spacing) * 8);\n    }\n  }\n  .data-\\[slot\\=checkbox-group\\]\\:gap-3 {\n    &[data-slot=\"checkbox-group\"] {\n      gap: calc(var(--spacing) * 3);\n    }\n  }\n  .\\*\\:data-\\[slot\\=select-value\\]\\:line-clamp-1 {\n    :is(& > *) {\n      &[data-slot=\"select-value\"] {\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n      }\n    }\n  }\n  .\\*\\:data-\\[slot\\=select-value\\]\\:flex {\n    :is(& > *) {\n      &[data-slot=\"select-value\"] {\n        display: flex;\n      }\n    }\n  }\n  .\\*\\:data-\\[slot\\=select-value\\]\\:items-center {\n    :is(& > *) {\n      &[data-slot=\"select-value\"] {\n        align-items: center;\n      }\n    }\n  }\n  .\\*\\:data-\\[slot\\=select-value\\]\\:gap-2 {\n    :is(& > *) {\n      &[data-slot=\"select-value\"] {\n        gap: calc(var(--spacing) * 2);\n      }\n    }\n  }\n  .data-\\[state\\=active\\]\\:border-border-focus {\n    &[data-state=\"active\"] {\n      border-color: var(--color-border-focus);\n    }\n  }\n  .data-\\[state\\=active\\]\\:text-border-focus {\n    &[data-state=\"active\"] {\n      color: var(--color-border-focus);\n    }\n  }\n  .data-\\[state\\=active\\]\\:text-primary {\n    &[data-state=\"active\"] {\n      color: var(--seq-color-primary);\n    }\n  }\n  .data-\\[state\\=checked\\]\\:translate-x-full {\n    &[data-state=\"checked\"] {\n      --tw-translate-x: 100%;\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-\\[state\\=checked\\]\\:border-transparent\\! {\n    &[data-state=\"checked\"] {\n      border-color: transparent !important;\n    }\n  }\n  .data-\\[state\\=checked\\]\\:bg-white {\n    &[data-state=\"checked\"] {\n      background-color: var(--color-white);\n    }\n  }\n  .data-\\[state\\=checked\\]\\:bg-gradient-primary {\n    &[data-state=\"checked\"] {\n      background-image: var(--seq-color-gradient-primary);\n    }\n  }\n  .data-\\[state\\=closed\\]\\:animate-out {\n    &[data-state=\"closed\"] {\n      animation: exit var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none);\n    }\n  }\n  .data-\\[state\\=closed\\]\\:duration-300 {\n    &[data-state=\"closed\"] {\n      --tw-duration: 300ms;\n      transition-duration: 300ms;\n    }\n  }\n  .data-\\[state\\=closed\\]\\:fade-out-0 {\n    &[data-state=\"closed\"] {\n      --tw-exit-opacity: calc(0/100);\n      --tw-exit-opacity: 0;\n    }\n  }\n  .data-\\[state\\=closed\\]\\:zoom-out-95 {\n    &[data-state=\"closed\"] {\n      --tw-exit-scale: calc(95*1%);\n      --tw-exit-scale: .95;\n    }\n  }\n  .data-\\[state\\=closed\\]\\:slide-out-to-bottom {\n    &[data-state=\"closed\"] {\n      --tw-exit-translate-y: 100%;\n    }\n  }\n  .data-\\[state\\=closed\\]\\:slide-out-to-left {\n    &[data-state=\"closed\"] {\n      --tw-exit-translate-x: -100%;\n    }\n  }\n  .data-\\[state\\=closed\\]\\:slide-out-to-right {\n    &[data-state=\"closed\"] {\n      --tw-exit-translate-x: 100%;\n    }\n  }\n  .data-\\[state\\=closed\\]\\:slide-out-to-top {\n    &[data-state=\"closed\"] {\n      --tw-exit-translate-y: -100%;\n    }\n  }\n  .data-\\[state\\=open\\]\\:animate-in {\n    &[data-state=\"open\"] {\n      animation: enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none);\n    }\n  }\n  .data-\\[state\\=open\\]\\:duration-500 {\n    &[data-state=\"open\"] {\n      --tw-duration: 500ms;\n      transition-duration: 500ms;\n    }\n  }\n  .data-\\[state\\=open\\]\\:fade-in-0 {\n    &[data-state=\"open\"] {\n      --tw-enter-opacity: calc(0/100);\n      --tw-enter-opacity: 0;\n    }\n  }\n  .data-\\[state\\=open\\]\\:zoom-in-95 {\n    &[data-state=\"open\"] {\n      --tw-enter-scale: calc(95*1%);\n      --tw-enter-scale: .95;\n    }\n  }\n  .data-\\[state\\=open\\]\\:slide-in-from-bottom {\n    &[data-state=\"open\"] {\n      --tw-enter-translate-y: 100%;\n    }\n  }\n  .data-\\[state\\=open\\]\\:slide-in-from-left {\n    &[data-state=\"open\"] {\n      --tw-enter-translate-x: -100%;\n    }\n  }\n  .data-\\[state\\=open\\]\\:slide-in-from-right {\n    &[data-state=\"open\"] {\n      --tw-enter-translate-x: 100%;\n    }\n  }\n  .data-\\[state\\=open\\]\\:slide-in-from-top {\n    &[data-state=\"open\"] {\n      --tw-enter-translate-y: -100%;\n    }\n  }\n  .data-\\[swipe\\=cancel\\]\\:translate-x-0 {\n    &[data-swipe=\"cancel\"] {\n      --tw-translate-x: calc(var(--spacing) * 0);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .data-\\[swipe\\=cancel\\]\\:transition-transform {\n    &[data-swipe=\"cancel\"] {\n      transition-property: transform, translate, scale, rotate;\n      transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n      transition-duration: var(--tw-duration, var(--default-transition-duration));\n    }\n  }\n  .data-\\[swipe\\=cancel\\]\\:duration-200 {\n    &[data-swipe=\"cancel\"] {\n      --tw-duration: 200ms;\n      transition-duration: 200ms;\n    }\n  }\n  .data-\\[swipe\\=cancel\\]\\:ease-out {\n    &[data-swipe=\"cancel\"] {\n      --tw-ease: var(--ease-out);\n      transition-timing-function: var(--ease-out);\n    }\n  }\n  .data-\\[swipe\\=end\\]\\:animate-swipe-out {\n    &[data-swipe=\"end\"] {\n      animation: swipe-out 200ms ease-out;\n    }\n  }\n  .data-\\[swipe\\=move\\]\\:translate-x-\\(--radix-toast-swipe-move-x\\) {\n    &[data-swipe=\"move\"] {\n      --tw-translate-x: var(--radix-toast-swipe-move-x);\n      translate: var(--tw-translate-x) var(--tw-translate-y);\n    }\n  }\n  .nth-last-2\\:-mt-1 {\n    &:nth-last-child(2) {\n      margin-top: calc(var(--spacing) * -1);\n    }\n  }\n  .sm\\:col-start-3 {\n    @media (width >= 40rem) {\n      grid-column-start: 3;\n    }\n  }\n  .sm\\:col-end-3 {\n    @media (width >= 40rem) {\n      grid-column-end: 3;\n    }\n  }\n  .sm\\:row-start-1 {\n    @media (width >= 40rem) {\n      grid-row-start: 1;\n    }\n  }\n  .sm\\:row-end-3 {\n    @media (width >= 40rem) {\n      grid-row-end: 3;\n    }\n  }\n  .sm\\:mt-0 {\n    @media (width >= 40rem) {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .sm\\:inline-flex {\n    @media (width >= 40rem) {\n      display: inline-flex;\n    }\n  }\n  .sm\\:max-w-lg {\n    @media (width >= 40rem) {\n      max-width: var(--container-lg);\n    }\n  }\n  .sm\\:max-w-sm {\n    @media (width >= 40rem) {\n      max-width: var(--container-sm);\n    }\n  }\n  .sm\\:flex-row {\n    @media (width >= 40rem) {\n      flex-direction: row;\n    }\n  }\n  .sm\\:items-center {\n    @media (width >= 40rem) {\n      align-items: center;\n    }\n  }\n  .sm\\:justify-between {\n    @media (width >= 40rem) {\n      justify-content: space-between;\n    }\n  }\n  .sm\\:justify-end {\n    @media (width >= 40rem) {\n      justify-content: flex-end;\n    }\n  }\n  .sm\\:text-left {\n    @media (width >= 40rem) {\n      text-align: left;\n    }\n  }\n  .md\\:bottom-auto {\n    @media (width >= 48rem) {\n      bottom: auto;\n    }\n  }\n  .md\\:h-\\[800px\\] {\n    @media (width >= 48rem) {\n      height: 800px;\n    }\n  }\n  .md\\:max-h-\\[min\\(800px\\,calc\\(100dvh-80px\\)\\)\\] {\n    @media (width >= 48rem) {\n      max-height: min(800px, calc(100dvh - 80px));\n    }\n  }\n  .md\\:w-\\[540px\\] {\n    @media (width >= 48rem) {\n      width: 540px;\n    }\n  }\n  .md\\:w-\\[720px\\] {\n    @media (width >= 48rem) {\n      width: 720px;\n    }\n  }\n  .md\\:rounded-b-2xl {\n    @media (width >= 48rem) {\n      border-bottom-right-radius: var(--radius-2xl);\n      border-bottom-left-radius: var(--radius-2xl);\n    }\n  }\n  .md\\:p-12 {\n    @media (width >= 48rem) {\n      padding: calc(var(--spacing) * 12);\n    }\n  }\n  .lg\\:h-auto\\! {\n    @media (width >= 64rem) {\n      height: auto !important;\n    }\n  }\n  .\\@md\\/field-group\\:flex-row {\n    @container field-group (width >= 28rem) {\n      flex-direction: row;\n    }\n  }\n  .\\@md\\/field-group\\:items-center {\n    @container field-group (width >= 28rem) {\n      align-items: center;\n    }\n  }\n  .\\@md\\/field-group\\:has-\\[\\>\\[data-slot\\=field-content\\]\\]\\:items-start {\n    @container field-group (width >= 28rem) {\n      &:has(>[data-slot=field-content]) {\n        align-items: flex-start;\n      }\n    }\n  }\n  .dark\\:\\[--alert-accent\\:var\\(--color-green-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-accent: var(--color-green-400);\n    }\n  }\n  .dark\\:\\[--alert-accent\\:var\\(--color-indigo-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-accent: var(--color-indigo-400);\n    }\n  }\n  .dark\\:\\[--alert-accent\\:var\\(--color-red-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-accent: var(--color-red-400);\n    }\n  }\n  .dark\\:\\[--alert-accent\\:var\\(--color-yellow-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-accent: var(--color-yellow-400);\n    }\n  }\n  .dark\\:\\[--alert-background\\:var\\(--color-green-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-background: var(--color-green-950);\n    }\n  }\n  .dark\\:\\[--alert-background\\:var\\(--color-indigo-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-background: var(--color-indigo-950);\n    }\n  }\n  .dark\\:\\[--alert-background\\:var\\(--color-red-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-background: var(--color-red-950);\n    }\n  }\n  .dark\\:\\[--alert-background\\:var\\(--color-yellow-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-background: var(--color-yellow-950);\n    }\n  }\n  .dark\\:\\[--alert-border\\:var\\(--color-green-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-border: var(--color-green-900);\n    }\n  }\n  .dark\\:\\[--alert-border\\:var\\(--color-indigo-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-border: var(--color-indigo-900);\n    }\n  }\n  .dark\\:\\[--alert-border\\:var\\(--color-red-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-border: var(--color-red-900);\n    }\n  }\n  .dark\\:\\[--alert-border\\:var\\(--color-yellow-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --alert-border: var(--color-yellow-900);\n    }\n  }\n  .dark\\:\\[--callout-accent\\:var\\(--color-green-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-accent: var(--color-green-400);\n    }\n  }\n  .dark\\:\\[--callout-accent\\:var\\(--color-indigo-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-accent: var(--color-indigo-400);\n    }\n  }\n  .dark\\:\\[--callout-accent\\:var\\(--color-red-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-accent: var(--color-red-400);\n    }\n  }\n  .dark\\:\\[--callout-accent\\:var\\(--color-yellow-400\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-accent: var(--color-yellow-400);\n    }\n  }\n  .dark\\:\\[--callout-content\\:var\\(--color-green-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-content: var(--color-green-950);\n    }\n  }\n  .dark\\:\\[--callout-content\\:var\\(--color-indigo-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-content: var(--color-indigo-950);\n    }\n  }\n  .dark\\:\\[--callout-content\\:var\\(--color-red-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-content: var(--color-red-950);\n    }\n  }\n  .dark\\:\\[--callout-content\\:var\\(--color-yellow-950\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-content: var(--color-yellow-950);\n    }\n  }\n  .dark\\:\\[--callout-header\\:var\\(--color-green-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-header: var(--color-green-900);\n    }\n  }\n  .dark\\:\\[--callout-header\\:var\\(--color-indigo-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-header: var(--color-indigo-900);\n    }\n  }\n  .dark\\:\\[--callout-header\\:var\\(--color-red-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-header: var(--color-red-900);\n    }\n  }\n  .dark\\:\\[--callout-header\\:var\\(--color-yellow-900\\)\\] {\n    &:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n      --callout-header: var(--color-yellow-900);\n    }\n  }\n  .\\[\\&_\\[data-slot\\=alert-button\\]\\]\\:text-\\(--alert-accent\\) {\n    & [data-slot=alert-button] {\n      color: var(--alert-accent);\n    }\n  }\n  .\\[\\&_span\\]\\:size-\\[12px\\] {\n    & span {\n      width: 12px;\n      height: 12px;\n    }\n  }\n  .\\[\\&_span\\]\\:size-\\[18px\\] {\n    & span {\n      width: 18px;\n      height: 18px;\n    }\n  }\n  .\\[\\&_svg\\]\\:pointer-events-none {\n    & svg {\n      pointer-events: none;\n    }\n  }\n  .\\[\\&_svg\\]\\:shrink-0 {\n    & svg {\n      flex-shrink: 0;\n    }\n  }\n  .\\[\\&_svg\\:not\\(\\[class\\*\\=\\\"size-\\\"\\]\\)\\]\\:size-4 {\n    & svg:not([class*=\"size-\"]) {\n      width: calc(var(--spacing) * 4);\n      height: calc(var(--spacing) * 4);\n    }\n  }\n  .\\[\\&_svg\\:not\\(\\[class\\*\\=\\\"size-\\\"\\]\\)\\]\\:size-5 {\n    & svg:not([class*=\"size-\"]) {\n      width: calc(var(--spacing) * 5);\n      height: calc(var(--spacing) * 5);\n    }\n  }\n  .\\[\\&_svg\\:not\\(\\[class\\*\\=\\'size-\\'\\]\\)\\]\\:size-4 {\n    & svg:not([class*='size-']) {\n      width: calc(var(--spacing) * 4);\n      height: calc(var(--spacing) * 4);\n    }\n  }\n  .\\[\\&_svg\\:not\\(\\[class\\*\\=\\'size-\\'\\]\\)\\]\\:size-9 {\n    & svg:not([class*='size-']) {\n      width: calc(var(--spacing) * 9);\n      height: calc(var(--spacing) * 9);\n    }\n  }\n  .\\[\\&_svg\\:not\\(\\[class\\*\\=\\'text-\\'\\]\\)\\]\\:text-muted {\n    & svg:not([class*='text-']) {\n      color: var(--seq-color-muted);\n    }\n  }\n  .\\[\\&\\:has\\(\\:disabled\\)\\]\\:cursor-default {\n    &:has(:disabled) {\n      cursor: default;\n    }\n  }\n  .\\[\\&\\:has\\(\\:disabled\\)\\]\\:opacity-50 {\n    &:has(:disabled) {\n      opacity: 50%;\n    }\n  }\n  .\\[\\.border-b\\]\\:pb-3 {\n    &:is(.border-b) {\n      padding-bottom: calc(var(--spacing) * 3);\n    }\n  }\n  .\\[\\.border-t\\]\\:pt-3 {\n    &:is(.border-t) {\n      padding-top: calc(var(--spacing) * 3);\n    }\n  }\n  .\\*\\:\\[span\\]\\:last\\:flex {\n    :is(& > *) {\n      &:is(span) {\n        &:last-child {\n          display: flex;\n        }\n      }\n    }\n  }\n  .\\*\\:\\[span\\]\\:last\\:items-center {\n    :is(& > *) {\n      &:is(span) {\n        &:last-child {\n          align-items: center;\n        }\n      }\n    }\n  }\n  .\\*\\:\\[span\\]\\:last\\:gap-2 {\n    :is(& > *) {\n      &:is(span) {\n        &:last-child {\n          gap: calc(var(--spacing) * 2);\n        }\n      }\n    }\n  }\n  .\\[\\&\\>\\*\\]\\:w-full {\n    &>* {\n      width: 100%;\n    }\n  }\n  .\\[\\&\\>\\*\\]\\:data-\\[slot\\=field\\]\\:p-4 {\n    &>* {\n      &[data-slot=\"field\"] {\n        padding: calc(var(--spacing) * 4);\n      }\n    }\n  }\n  .\\@md\\/field-group\\:\\[\\&\\>\\*\\]\\:w-auto {\n    @container field-group (width >= 28rem) {\n      &>* {\n        width: auto;\n      }\n    }\n  }\n  .\\[\\&\\>\\.sr-only\\]\\:w-auto {\n    &>.sr-only {\n      width: auto;\n    }\n  }\n  .\\[\\&\\>\\[data-slot\\=field-group\\]\\]\\:gap-4 {\n    &>[data-slot=field-group] {\n      gap: calc(var(--spacing) * 4);\n    }\n  }\n  .\\[\\&\\>\\[data-slot\\=field-label\\]\\]\\:flex-auto {\n    &>[data-slot=field-label] {\n      flex: auto;\n    }\n  }\n  .\\@md\\/field-group\\:\\[\\&\\>\\[data-slot\\=field-label\\]\\]\\:flex-auto {\n    @container field-group (width >= 28rem) {\n      &>[data-slot=field-label] {\n        flex: auto;\n      }\n    }\n  }\n  .has-\\[\\>\\[data-slot\\=field-content\\]\\]\\:\\[\\&\\>\\[role\\=checkbox\\]\\,\\[role\\=radio\\]\\]\\:mt-px {\n    &:has(>[data-slot=field-content]) {\n      &>[role=checkbox],[role=radio] {\n        margin-top: 1px;\n      }\n    }\n  }\n  .\\@md\\/field-group\\:has-\\[\\>\\[data-slot\\=field-content\\]\\]\\:\\[\\&\\>\\[role\\=checkbox\\]\\,\\[role\\=radio\\]\\]\\:mt-px {\n    @container field-group (width >= 28rem) {\n      &:has(>[data-slot=field-content]) {\n        &>[role=checkbox],[role=radio] {\n          margin-top: 1px;\n        }\n      }\n    }\n  }\n  .\\[\\&\\>a\\]\\:underline {\n    &>a {\n      text-decoration-line: underline;\n    }\n  }\n  .\\[\\&\\>a\\]\\:underline-offset-4 {\n    &>a {\n      text-underline-offset: 4px;\n    }\n  }\n  .\\[\\&\\>a\\:hover\\]\\:text-primary {\n    &>a:hover {\n      color: var(--seq-color-primary);\n    }\n  }\n  .\\[\\&\\>div\\]\\:justify-center {\n    &>div {\n      justify-content: center;\n    }\n  }\n  .\\[\\&\\>div\\]\\:pr-2 {\n    &>div {\n      padding-right: calc(var(--spacing) * 2);\n    }\n  }\n  .\\[\\&\\>div\\>div\\]\\:pr-0 {\n    &>div>div {\n      padding-right: calc(var(--spacing) * 0);\n    }\n  }\n  .\\[\\&\\>input\\]\\:h-9 {\n    &>input {\n      height: calc(var(--spacing) * 9);\n    }\n  }\n  .\\[\\&\\>input\\]\\:text-sm {\n    &>input {\n      font-size: var(--text-sm);\n      line-height: var(--tw-leading, var(--text-sm--line-height));\n    }\n  }\n  .\\[\\&\\>input\\]\\:text-xs {\n    &>input {\n      font-size: var(--text-xs);\n      line-height: var(--tw-leading, var(--text-xs--line-height));\n    }\n  }\n  .has-\\[\\>\\[data-align\\=block-end\\]\\]\\:\\[\\&\\>input\\]\\:pt-3 {\n    &:has(>[data-align=block-end]) {\n      &>input {\n        padding-top: calc(var(--spacing) * 3);\n      }\n    }\n  }\n  .has-\\[\\>\\[data-align\\=block-start\\]\\]\\:\\[\\&\\>input\\]\\:pb-3 {\n    &:has(>[data-align=block-start]) {\n      &>input {\n        padding-bottom: calc(var(--spacing) * 3);\n      }\n    }\n  }\n  .has-\\[\\>\\[data-align\\=inline-end\\]\\]\\:\\[\\&\\>input\\]\\:pr-2 {\n    &:has(>[data-align=inline-end]) {\n      &>input {\n        padding-right: calc(var(--spacing) * 2);\n      }\n    }\n  }\n  .has-\\[\\>\\[data-align\\=inline-start\\]\\]\\:\\[\\&\\>input\\]\\:pl-2 {\n    &:has(>[data-align=inline-start]) {\n      &>input {\n        padding-left: calc(var(--spacing) * 2);\n      }\n    }\n  }\n  .\\[\\&\\>label\\]\\:flex {\n    &>label {\n      display: flex;\n    }\n  }\n  .\\[\\&\\>label\\]\\:w-16 {\n    &>label {\n      width: calc(var(--spacing) * 16);\n    }\n  }\n  .\\[\\&\\>label\\]\\:w-full {\n    &>label {\n      width: 100%;\n    }\n  }\n  .\\[\\&\\>label\\]\\:gap-1 {\n    &>label {\n      gap: calc(var(--spacing) * 1);\n    }\n  }\n  .\\[\\&\\>label\\>button\\]\\:w-full {\n    &>label>button {\n      width: 100%;\n    }\n  }\n  .\\[\\&\\>label\\>button\\]\\:text-xs {\n    &>label>button {\n      font-size: var(--text-xs);\n      line-height: var(--tw-leading, var(--text-xs--line-height));\n    }\n  }\n  .\\[\\&\\>label\\>button\\>span\\]\\:overflow-hidden {\n    &>label>button>span {\n      overflow: hidden;\n    }\n  }\n  .\\[\\&\\>label\\>div\\]\\:w-full {\n    &>label>div {\n      width: 100%;\n    }\n  }\n  .\\[\\&\\>label\\>div\\>div\\>div\\]\\:h-13 {\n    &>label>div>div>div {\n      height: calc(var(--spacing) * 13);\n    }\n  }\n  .\\[\\&\\>label\\>div\\>div\\>div\\]\\:rounded-xl {\n    &>label>div>div>div {\n      border-radius: var(--radius-xl);\n    }\n  }\n  .\\[\\&\\>label\\>div\\>div\\>div\\>input\\]\\:text-sm {\n    &>label>div>div>div>input {\n      font-size: var(--text-sm);\n      line-height: var(--tw-leading, var(--text-sm--line-height));\n    }\n  }\n  .\\[\\&\\>label\\>div\\>div\\>span\\]\\:text-sm {\n    &>label>div>div>span {\n      font-size: var(--text-sm);\n      line-height: var(--tw-leading, var(--text-sm--line-height));\n    }\n  }\n  .\\[\\&\\>label\\>div\\>div\\>span\\]\\:text-text-80 {\n    &>label>div>div>span {\n      color: var(--color-text-80);\n    }\n  }\n  .\\[\\&\\>span\\[data-state\\=\\'checked\\'\\]\\]\\:hidden {\n    &>span[data-state='checked'] {\n      display: none;\n    }\n  }\n  .\\[\\&\\>svg\\]\\:mr-2 {\n    &>svg {\n      margin-right: calc(var(--spacing) * 2);\n    }\n  }\n  .\\[\\&\\>svg\\]\\:self-start {\n    &>svg {\n      align-self: flex-start;\n    }\n  }\n  .\\[\\&\\>svg\\]\\:text-\\(--alert-accent\\) {\n    &>svg {\n      color: var(--alert-accent);\n    }\n  }\n  .\\[\\[data-variant\\=legend\\]\\+\\&\\]\\:-mt-1\\.5 {\n    [data-variant=legend]+& {\n      margin-top: calc(var(--spacing) * -1.5);\n    }\n  }\n}\n@property --tw-animation-duration {\n  syntax: \"*\";\n  inherits: false;\n}\n:root, [data-theme=dark] {\n  --seq-color-positive: var(--color-green-500);\n  --seq-color-negative: var(--color-red-500);\n  --seq-color-info: var(--color-indigo-500);\n  --seq-color-warning: var(--color-yellow-500);\n  --seq-color-destructive: var(--color-red-500);\n  --seq-color-primary: white;\n  --seq-color-secondary: white;\n  --seq-color-muted: var(--color-zinc-500);\n  --seq-color-inverse: black;\n  --seq-color-background-primary: black;\n  --seq-color-background-secondary: var(--color-zinc-900);\n  --seq-color-background-muted: var(--color-zinc-950);\n  --seq-color-background-inverse: white;\n  --seq-color-background-overlay: color-mix( in oklab, oklch(37% 0.013 285.805) 90%, transparent );\n  @supports (color: color-mix(in lab, red, red)) {\n    --seq-color-background-overlay: color-mix( in oklab, var(--color-zinc-700) 90%, transparent );\n  }\n  --seq-color-background-raised: var(--color-zinc-800);\n  --seq-color-background-input: var(--color-zinc-950);\n  --seq-color-background-hover: var(--color-zinc-900);\n  --seq-color-background-active: var(--color-zinc-700);\n  --seq-color-border-normal: var(--color-zinc-700);\n  --seq-color-border-hover: var(--color-zinc-600);\n  --seq-color-border-focus: var(--color-violet-500);\n  --seq-color-border-card: var(--color-zinc-800);\n  --seq-color-border-button: var(--color-zinc-700);\n  --seq-color-drop-shadow: color-mix( in oklab, oklch(14.1% 0.005 285.823) 40%, transparent );\n  @supports (color: color-mix(in lab, red, red)) {\n    --seq-color-drop-shadow: color-mix( in oklab, var(--color-zinc-950) 40%, transparent );\n  }\n  --seq-color-gradient-backdrop: linear-gradient(\n      \n      243.18deg,\n      rgba(86, 52, 189, 0.85) 0%,\n      rgba(49, 41, 223, 0.85) 63.54%,\n      rgba(7, 98, 149, 0.85) 100% );\n  --seq-color-gradient-primary: linear-gradient(\n      \n      89.69deg,\n      #4411e1 0.27%,\n      #7537f9 99.73% );\n  --seq-color-gradient-secondary: linear-gradient(\n      \n      32.51deg,\n      #951990 -15.23%,\n      #3a35b1 48.55%,\n      #20a8b0 100% );\n  --seq-color-gradient-skeleton: linear-gradient(\n      \n      -45deg,\n      transparent,\n      var(--color-zinc-700),\n      transparent );\n}\n[data-theme=light] {\n  --seq-color-positive: var(--color-green-600);\n  --seq-color-negative: var(--color-red-600);\n  --seq-color-info: var(--color-indigo-600);\n  --seq-color-warning: var(--color-yellow-500);\n  --seq-color-destructive: var(--color-red-600);\n  --seq-color-primary: var(--color-slate-800);\n  --seq-color-secondary: var(--color-slate-800);\n  --seq-color-muted: var(--color-slate-500);\n  --seq-color-inverse: var(--color-slate-50);\n  --seq-color-background-primary: var(--color-slate-50);\n  --seq-color-background-secondary: white;\n  --seq-color-background-muted: var(--color-slate-100);\n  --seq-color-background-inverse: var(--color-slate-950);\n  --seq-color-background-overlay: color-mix( in oklab, oklch(86.9% 0.022 252.894) 80%, transparent );\n  @supports (color: color-mix(in lab, red, red)) {\n    --seq-color-background-overlay: color-mix( in oklab, var(--color-slate-300) 80%, transparent );\n  }\n  --seq-color-background-raised: white;\n  --seq-color-background-input: var(--color-slate-50);\n  --seq-color-background-hover: var(--color-slate-100);\n  --seq-color-background-active: var(--color-slate-200);\n  --seq-color-border-normal: var(--color-slate-300);\n  --seq-color-border-hover: var(--color-slate-400);\n  --seq-color-border-focus: var(--color-violet-600);\n  --seq-color-border-card: var(--color-slate-200);\n  --seq-color-border-button: var(--color-slate-300);\n  --seq-color-drop-shadow: color-mix( in oklab, oklch(12.9% 0.042 264.695) 15%, transparent );\n  @supports (color: color-mix(in lab, red, red)) {\n    --seq-color-drop-shadow: color-mix( in oklab, var(--color-slate-950) 15%, transparent );\n  }\n  --seq-color-gradient-backdrop: linear-gradient(\n      \n      243.18deg,\n      rgba(86, 52, 189, 0.85) 0%,\n      rgba(49, 41, 223, 0.85) 63.54%,\n      rgba(7, 98, 149, 0.85) 100% );\n  --seq-color-gradient-primary: linear-gradient(\n      \n      89.69deg,\n      #4411e1 0.27%,\n      #7537f9 99.73% );\n  --seq-color-gradient-secondary: linear-gradient(\n      \n      32.51deg,\n      #951990 -15.23%,\n      #3a35b1 48.55%,\n      #20a8b0 100% );\n  --seq-color-gradient-skeleton: linear-gradient(\n      \n      -45deg,\n      transparent,\n      var(--color-slate-300),\n      transparent );\n}\n:root {\n  --base-unit: 16;\n  color: var(--color-primary);\n}\n.rdp-root {\n  --rdp-accent-color: blue;\n  --rdp-accent-background-color: #f0f0ff;\n  --rdp-day-height: 44px;\n  --rdp-day-width: 44px;\n  --rdp-day_button-border-radius: 100%;\n  --rdp-day_button-border: 2px solid transparent;\n  --rdp-day_button-height: 42px;\n  --rdp-day_button-width: 42px;\n  --rdp-selected-border: 2px solid var(--rdp-accent-color);\n  --rdp-disabled-opacity: 0.5;\n  --rdp-outside-opacity: 0.75;\n  --rdp-today-color: var(--rdp-accent-color);\n  --rdp-dropdown-gap: 0.5rem;\n  --rdp-months-gap: 2rem;\n  --rdp-nav_button-disabled-opacity: 0.5;\n  --rdp-nav_button-height: 2.25rem;\n  --rdp-nav_button-width: 2.25rem;\n  --rdp-nav-height: 2.75rem;\n  --rdp-range_middle-background-color: var(--rdp-accent-background-color);\n  --rdp-range_middle-color: inherit;\n  --rdp-range_start-color: white;\n  --rdp-range_start-background: linear-gradient(\n    var(--rdp-gradient-direction),\n    transparent 50%,\n    var(--rdp-range_middle-background-color) 50%\n  );\n  --rdp-range_start-date-background-color: var(--rdp-accent-color);\n  --rdp-range_end-background: linear-gradient(\n    var(--rdp-gradient-direction),\n    var(--rdp-range_middle-background-color) 50%,\n    transparent 50%\n  );\n  --rdp-range_end-color: white;\n  --rdp-range_end-date-background-color: var(--rdp-accent-color);\n  --rdp-week_number-border-radius: 100%;\n  --rdp-week_number-border: 2px solid transparent;\n  --rdp-week_number-height: var(--rdp-day-height);\n  --rdp-week_number-opacity: 0.75;\n  --rdp-week_number-width: var(--rdp-day-width);\n  --rdp-weeknumber-text-align: center;\n  --rdp-weekday-opacity: 0.75;\n  --rdp-weekday-padding: 0.5rem 0rem;\n  --rdp-weekday-text-align: center;\n  --rdp-gradient-direction: 90deg;\n  --rdp-animation_duration: 0.3s;\n  --rdp-animation_timing: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.rdp-root[dir=\"rtl\"] {\n  --rdp-gradient-direction: -90deg;\n}\n.rdp-root[data-broadcast-calendar=\"true\"] {\n  --rdp-outside-opacity: unset;\n}\n.rdp-root {\n  position: relative;\n  box-sizing: border-box;\n}\n.rdp-root * {\n  box-sizing: border-box;\n}\n.rdp-day {\n  width: var(--rdp-day-width);\n  height: var(--rdp-day-height);\n  text-align: center;\n}\n.rdp-day_button {\n  background: none;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  font: inherit;\n  color: inherit;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  width: var(--rdp-day_button-width);\n  height: var(--rdp-day_button-height);\n  border: var(--rdp-day_button-border);\n  border-radius: var(--rdp-day_button-border-radius);\n}\n.rdp-day_button:disabled {\n  cursor: revert;\n}\n.rdp-caption_label {\n  z-index: 1;\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  white-space: nowrap;\n  border: 0;\n}\n.rdp-dropdown:focus-visible ~ .rdp-caption_label {\n  outline: 5px auto Highlight;\n  outline: 5px auto -webkit-focus-ring-color;\n}\n.rdp-button_next, .rdp-button_previous {\n  border: none;\n  background: none;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  font: inherit;\n  color: inherit;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  appearance: none;\n  width: var(--rdp-nav_button-width);\n  height: var(--rdp-nav_button-height);\n}\n.rdp-button_next:disabled, .rdp-button_next[aria-disabled=\"true\"], .rdp-button_previous:disabled, .rdp-button_previous[aria-disabled=\"true\"] {\n  cursor: revert;\n  opacity: var(--rdp-nav_button-disabled-opacity);\n}\n.rdp-chevron {\n  display: inline-block;\n  fill: var(--rdp-accent-color);\n}\n.rdp-root[dir=\"rtl\"] .rdp-nav .rdp-chevron {\n  transform: rotate(180deg);\n  transform-origin: 50%;\n}\n.rdp-dropdowns {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  gap: var(--rdp-dropdown-gap);\n}\n.rdp-dropdown {\n  z-index: 2;\n  opacity: 0;\n  appearance: none;\n  position: absolute;\n  inset-block-start: 0;\n  inset-block-end: 0;\n  inset-inline-start: 0;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  cursor: inherit;\n  border: none;\n  line-height: inherit;\n}\n.rdp-dropdown_root {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n}\n.rdp-dropdown_root[data-disabled=\"true\"] .rdp-chevron {\n  opacity: var(--rdp-disabled-opacity);\n}\n.rdp-month_caption {\n  display: flex;\n  align-content: center;\n  height: var(--rdp-nav-height);\n  font-weight: bold;\n  font-size: large;\n}\n.rdp-root[data-nav-layout=\"around\"] .rdp-month, .rdp-root[data-nav-layout=\"after\"] .rdp-month {\n  position: relative;\n}\n.rdp-root[data-nav-layout=\"around\"] .rdp-month_caption {\n  justify-content: center;\n  margin-inline-start: var(--rdp-nav_button-width);\n  margin-inline-end: var(--rdp-nav_button-width);\n  position: relative;\n}\n.rdp-root[data-nav-layout=\"around\"] .rdp-button_previous {\n  position: absolute;\n  inset-inline-start: 0;\n  top: 0;\n  height: var(--rdp-nav-height);\n  display: inline-flex;\n}\n.rdp-root[data-nav-layout=\"around\"] .rdp-button_next {\n  position: absolute;\n  inset-inline-end: 0;\n  top: 0;\n  height: var(--rdp-nav-height);\n  display: inline-flex;\n  justify-content: center;\n}\n.rdp-months {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--rdp-months-gap);\n  max-width: fit-content;\n}\n.rdp-month_grid {\n  border-collapse: collapse;\n}\n.rdp-nav {\n  position: absolute;\n  inset-block-start: 0;\n  inset-inline-end: 0;\n  display: flex;\n  align-items: center;\n  height: var(--rdp-nav-height);\n}\n.rdp-weekday {\n  opacity: var(--rdp-weekday-opacity);\n  padding: var(--rdp-weekday-padding);\n  font-weight: 500;\n  font-size: smaller;\n  text-align: var(--rdp-weekday-text-align);\n  text-transform: var(--rdp-weekday-text-transform);\n}\n.rdp-week_number {\n  opacity: var(--rdp-week_number-opacity);\n  font-weight: 400;\n  font-size: small;\n  height: var(--rdp-week_number-height);\n  width: var(--rdp-week_number-width);\n  border: var(--rdp-week_number-border);\n  border-radius: var(--rdp-week_number-border-radius);\n  text-align: var(--rdp-weeknumber-text-align);\n}\n.rdp-today:not(.rdp-outside) {\n  color: var(--rdp-today-color);\n}\n.rdp-selected {\n  font-weight: bold;\n  font-size: large;\n}\n.rdp-selected .rdp-day_button {\n  border: var(--rdp-selected-border);\n}\n.rdp-outside {\n  opacity: var(--rdp-outside-opacity);\n}\n.rdp-disabled {\n  opacity: var(--rdp-disabled-opacity);\n}\n.rdp-hidden {\n  visibility: hidden;\n  color: var(--rdp-range_start-color);\n}\n.rdp-range_start {\n  background: var(--rdp-range_start-background);\n}\n.rdp-range_start .rdp-day_button {\n  background-color: var(--rdp-range_start-date-background-color);\n  color: var(--rdp-range_start-color);\n}\n.rdp-range_middle {\n  background-color: var(--rdp-range_middle-background-color);\n}\n.rdp-range_middle .rdp-day_button {\n  border: unset;\n  border-radius: unset;\n  color: var(--rdp-range_middle-color);\n}\n.rdp-range_end {\n  background: var(--rdp-range_end-background);\n  color: var(--rdp-range_end-color);\n}\n.rdp-range_end .rdp-day_button {\n  color: var(--rdp-range_start-color);\n  background-color: var(--rdp-range_end-date-background-color);\n}\n.rdp-range_start.rdp-range_end {\n  background: revert;\n}\n.rdp-focusable {\n  cursor: pointer;\n}\n@keyframes rdp-slide_in_left {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes rdp-slide_in_right {\n  0% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes rdp-slide_out_left {\n  0% {\n    transform: translateX(0);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}\n@keyframes rdp-slide_out_right {\n  0% {\n    transform: translateX(0);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n}\n.rdp-weeks_before_enter {\n  animation: rdp-slide_in_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-weeks_before_exit {\n  animation: rdp-slide_out_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-weeks_after_enter {\n  animation: rdp-slide_in_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-weeks_after_exit {\n  animation: rdp-slide_out_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-root[dir=\"rtl\"] .rdp-weeks_after_enter {\n  animation: rdp-slide_in_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-root[dir=\"rtl\"] .rdp-weeks_before_exit {\n  animation: rdp-slide_out_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-root[dir=\"rtl\"] .rdp-weeks_before_enter {\n  animation: rdp-slide_in_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-root[dir=\"rtl\"] .rdp-weeks_after_exit {\n  animation: rdp-slide_out_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n@keyframes rdp-fade_in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes rdp-fade_out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.rdp-caption_after_enter {\n  animation: rdp-fade_in var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-caption_after_exit {\n  animation: rdp-fade_out var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-caption_before_enter {\n  animation: rdp-fade_in var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-caption_before_exit {\n  animation: rdp-fade_out var(--rdp-animation_duration) var(--rdp-animation_timing) forwards;\n}\n.rdp-root {\n  width: 100% !important;\n  padding: 0 !important;\n  user-select: none;\n}\n.rdp-nav {\n  position: absolute;\n  width: 100%;\n  height: fit-content !important;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.rdp-caption_label {\n  color: var(--color-text-100) !important;\n}\n.rdp-months {\n  width: 100%;\n  max-width: unset !important;\n}\n.rdp-month_caption {\n  text-align: center;\n  width: 100%;\n  height: 36px !important;\n  display: block !important;\n  font-size: 14px !important;\n}\n.rdp-month_grid {\n  width: 100%;\n}\n.rdp-month {\n  width: 100%;\n}\n.rdp-button_previous {\n  background-color: var(--color-overlay-light) !important;\n  border-radius: 50%;\n}\n.rdp-button_previous:hover {\n  background-color: var(--color-overlay-glass) !important;\n}\n.rdp-button_previous > svg {\n  fill: var(--color-text-100) !important;\n  width: 16px !important;\n  height: 16px !important;\n}\n.rdp-button_next {\n  background-color: var(--color-overlay-light) !important;\n  border-radius: 50%;\n}\n.rdp-button_next:hover {\n  background-color: var(--color-overlay-glass) !important;\n}\n.rdp-button_next > svg {\n  fill: var(--color-text-100) !important;\n  width: 16px !important;\n  height: 16px !important;\n}\n.rdp-weekdays {\n  display: flex;\n  justify-content: space-between;\n}\n.rdp-weekday {\n  padding: 16px 0 !important;\n  font-size: 14px !important;\n  font-weight: var(--font-weight-medium) !important;\n  color: var(--color-text-80) !important;\n}\n.rdp-weeks {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.rdp-week {\n  display: flex;\n  justify-content: space-between;\n}\n.rdp-day {\n  width: 24px !important;\n  height: 24px !important;\n}\n.rdp-day_button {\n  width: 24px !important;\n  height: 24px !important;\n  font-size: var(--text-xs) !important;\n  color: var(--color-text-80) !important;\n}\n.rdp-day_button:disabled {\n  color: var(--color-text-50) !important;\n}\n.rdp-day.rdp-today {\n  outline: 1px solid var(--color-violet-700) !important;\n  border-radius: 50% !important;\n}\n.rdp-day.rdp-selected {\n  background: var(--seq-color-gradient-primary) !important;\n  border-radius: 50% !important;\n}\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes slideUp {\n  0% {\n    transform: translateY(100%);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes shimmer {\n  0% {\n    background-position: -200% -200%;\n  }\n  100% {\n    background-position: 200% 200%;\n  }\n}\n@keyframes bellRing {\n  0%,\n\t100% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(10deg);\n  }\n  75% {\n    transform: rotate(-10deg);\n  }\n}\nvideo::-webkit-media-controls {\n  display: none !important;\n}\n@property --tw-rotate-x {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-leading {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-tracking {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-inset-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ring-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-inset-ring-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ring-inset {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-blur {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow-size {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-gradient-position {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-gradient-stops {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-gradient-via-stops {\n  syntax: \"*\";\n  inherits: false;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes pulse {\n  50% {\n    opacity: 0.5;\n  }\n}\n@keyframes enter {\n  from {\n    opacity: var(--tw-enter-opacity,1);\n    transform: translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0)scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1))rotate(var(--tw-enter-rotate,0));\n    filter: blur(var(--tw-enter-blur,0));\n  }\n}\n@keyframes exit {\n  to {\n    opacity: var(--tw-exit-opacity,1);\n    transform: translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0)scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1))rotate(var(--tw-exit-rotate,0));\n    filter: blur(var(--tw-exit-blur,0));\n  }\n}\n@keyframes skeleton {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n@keyframes swipe-out {\n  from {\n    transform: translateX(var(--radix-toast-swipe-end-x));\n  }\n  to {\n    transform: translateX(100%);\n  }\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-translate-x: 0;\n      --tw-translate-y: 0;\n      --tw-translate-z: 0;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-space-y-reverse: 0;\n      --tw-border-style: solid;\n      --tw-leading: initial;\n      --tw-font-weight: initial;\n      --tw-tracking: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n      --tw-backdrop-blur: initial;\n      --tw-backdrop-brightness: initial;\n      --tw-backdrop-contrast: initial;\n      --tw-backdrop-grayscale: initial;\n      --tw-backdrop-hue-rotate: initial;\n      --tw-backdrop-invert: initial;\n      --tw-backdrop-opacity: initial;\n      --tw-backdrop-saturate: initial;\n      --tw-backdrop-sepia: initial;\n      --tw-duration: initial;\n      --tw-ease: initial;\n      --tw-scale-x: 1;\n      --tw-scale-y: 1;\n      --tw-scale-z: 1;\n      --tw-content: \"\";\n      --tw-gradient-position: initial;\n      --tw-gradient-from: #0000;\n      --tw-gradient-via: #0000;\n      --tw-gradient-to: #0000;\n      --tw-gradient-stops: initial;\n      --tw-gradient-via-stops: initial;\n      --tw-gradient-from-position: 0%;\n      --tw-gradient-via-position: 50%;\n      --tw-gradient-to-position: 100%;\n      --tw-animation-delay: 0s;\n      --tw-animation-direction: normal;\n      --tw-animation-duration: initial;\n      --tw-animation-fill-mode: none;\n      --tw-animation-iteration-count: 1;\n      --tw-enter-blur: 0;\n      --tw-enter-opacity: 1;\n      --tw-enter-rotate: 0;\n      --tw-enter-scale: 1;\n      --tw-enter-translate-x: 0;\n      --tw-enter-translate-y: 0;\n      --tw-exit-blur: 0;\n      --tw-exit-opacity: 1;\n      --tw-exit-rotate: 0;\n      --tw-exit-scale: 1;\n      --tw-exit-translate-x: 0;\n      --tw-exit-translate-y: 0;\n    }\n  }\n}\n`;\n","'use client';\n\nimport { type Theme, ThemeProvider } from '@0xsequence/design-system';\nimport { type ReactNode, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { styles } from '../../styles/styles';\n\nlet sheet: CSSStyleSheet;\nconst getCSSStyleSheet = (customCSS?: string) => {\n\tif (!sheet) {\n\t\tsheet = new CSSStyleSheet();\n\t\tsheet.replaceSync(styles + (customCSS ? `\\n\\n${customCSS}` : ''));\n\t}\n\n\treturn sheet;\n};\n\ninterface ShadowRootProps {\n\ttheme?: Theme;\n\tchildren: ReactNode;\n\tcustomCSS?: string;\n\tenabled: boolean;\n}\n\nexport const ShadowRoot = (props: ShadowRootProps) => {\n\tconst { theme, children, customCSS, enabled } = props;\n\tconst hostRef = useRef<HTMLDivElement>(null);\n\tconst [container, setContainer] = useState<HTMLDivElement | null>(null);\n\tconst [windowDocument, setWindowDocument] = useState<Document | null>(null);\n\n\tuseEffect(() => {\n\t\tsetWindowDocument(document);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (hostRef.current && !hostRef.current.shadowRoot) {\n\t\t\tconst shadowRoot = hostRef.current.attachShadow({ mode: 'open' });\n\t\t\tshadowRoot.adoptedStyleSheets = [getCSSStyleSheet(customCSS)];\n\t\t\tconst container = document.createElement('div');\n\t\t\tcontainer.id = 'marketplace-sdk-shadow-root';\n\t\t\tshadowRoot.appendChild(container);\n\n\t\t\tsetContainer(container);\n\t\t}\n\t}, [windowDocument]);\n\n\tif (!enabled) {\n\t\treturn children;\n\t}\n\n\treturn windowDocument\n\t\t? createPortal(\n\t\t\t\t<div data-shadow-host ref={hostRef}>\n\t\t\t\t\t{container && (\n\t\t\t\t\t\t<ThemeProvider defaultTheme={theme} root={container}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t)}\n\t\t\t\t</div>,\n\t\t\t\tdocument.body,\n\t\t\t)\n\t\t: null;\n};\n","// import { SequenceCheckoutProvider } from '@0xsequence/checkout';\n\nimport { SequenceCheckoutProvider } from '@0xsequence/checkout';\nimport { observer } from '@legendapp/state/react';\nimport type { ReactNode } from 'react';\n//import { marketplaceApiURL } from '../_internal';\nimport { useConfig } from '../hooks';\nimport SwitchChainErrorModal from '../ui/modals/_internal/components/switchChainErrorModal';\nimport TransactionStatusModal from '../ui/modals/_internal/components/transactionStatusModal';\nimport { BuyModal } from '../ui/modals/BuyModal/components/Modal';\nimport { CreateListingModal } from '../ui/modals/CreateListingModal/Modal';\nimport { MakeOfferModal } from '../ui/modals/MakeOfferModal/Modal';\nimport { SellModal } from '../ui/modals/SellModal/Modal';\nimport { TransferModal } from '../ui/modals/TransferModal';\nimport { ShadowRoot } from './shadow-root';\n\ninterface ModalProviderProps {\n\tchildren?: ReactNode;\n}\n\nexport const ModalProvider = observer(({ children }: ModalProviderProps) => {\n\tconst sdkConfig = useConfig();\n\tconst { shadowDom, experimentalShadowDomCssOverride } = sdkConfig;\n\n\t//const overrides = sdkConfig._internal?.overrides?.api?.marketplace;\n\t//const _marketplaceApiUrl = overrides?.url || marketplaceApiURL(overrides?.env || 'production');\n\n\treturn (\n\t\t<>\n\t\t\t{children}\n\n\t\t\t<ShadowRoot\n\t\t\t\tenabled={shadowDom ?? true}\n\t\t\t\tcustomCSS={experimentalShadowDomCssOverride}\n\t\t\t>\n\t\t\t\t<CreateListingModal />\n\t\t\t\t<MakeOfferModal />\n\t\t\t\t<TransferModal />\n\t\t\t\t<SellModal />\n\t\t\t\t<SequenceCheckoutProvider>\n\t\t\t\t\t<BuyModal />\n\t\t\t\t</SequenceCheckoutProvider>\n\t\t\t\t{/* Helper modals */}\n\t\t\t\t<SwitchChainErrorModal />\n\t\t\t\t<TransactionStatusModal />\n\t\t\t</ShadowRoot>\n\t\t</>\n\t);\n});\n","export {\n\ttype MakeOfferModalContext,\n\tuseMakeOfferModalContext,\n} from './internal/context';\n\nimport {\n\tmakeOfferModalStore,\n\ttype OpenMakeOfferModalArgs,\n} from './internal/store';\n\nexport type ShowMakeOfferModalArgs = OpenMakeOfferModalArgs;\n\nexport const useMakeOfferModal = () => {\n\treturn {\n\t\tshow: (args: ShowMakeOfferModalArgs) =>\n\t\t\tmakeOfferModalStore.send({ type: 'open', ...args }),\n\t\tclose: () => makeOfferModalStore.send({ type: 'close' }),\n\t};\n};\n","'use client';\n\nimport { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { CollectibleCardAction } from '../../../../../types';\n\ntype PendingAction = {\n\ttype: CollectibleCardAction.BUY | CollectibleCardAction.OFFER;\n\ttokenId: bigint;\n\tcallback: () => void;\n\ttimestamp: number;\n};\n\ninterface ActionButtonContext {\n\tpendingAction: PendingAction | null;\n}\n\nexport const actionButtonStore = createStore({\n\tcontext: {\n\t\tpendingAction: null,\n\t} as ActionButtonContext,\n\ton: {\n\t\tsetPendingAction: (\n\t\t\tcontext,\n\t\t\tevent: {\n\t\t\t\taction: CollectibleCardAction.BUY | CollectibleCardAction.OFFER;\n\t\t\t\tonPendingActionExecuted: () => void;\n\t\t\t\ttokenId: bigint;\n\t\t\t},\n\t\t) => ({\n\t\t\t...context,\n\t\t\tpendingAction: {\n\t\t\t\ttype: event.action,\n\t\t\t\tcallback: event.onPendingActionExecuted,\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\ttokenId: event.tokenId,\n\t\t\t},\n\t\t}),\n\t\tclearPendingAction: (context) => ({\n\t\t\t...context,\n\t\t\tpendingAction: null,\n\t\t}),\n\t},\n});\n\nexport const useActionButtonStore = () => {\n\tconst pendingAction = useSelector(\n\t\tactionButtonStore,\n\t\t(state) => state.context.pendingAction,\n\t);\n\n\treturn {\n\t\tpendingAction,\n\t\tsetPendingAction: (\n\t\t\taction: CollectibleCardAction.BUY | CollectibleCardAction.OFFER,\n\t\t\tonPendingActionExecuted: () => void,\n\t\t\ttokenId: bigint,\n\t\t) => {\n\t\t\tactionButtonStore.send({\n\t\t\t\ttype: 'setPendingAction',\n\t\t\t\taction,\n\t\t\t\tonPendingActionExecuted,\n\t\t\t\ttokenId,\n\t\t\t});\n\t\t},\n\t\tclearPendingAction: () => {\n\t\t\tactionButtonStore.send({ type: 'clearPendingAction' });\n\t\t},\n\t\texecutePendingAction: () => {\n\t\t\tif (!pendingAction) return;\n\n\t\t\tconst { timestamp, callback } = pendingAction;\n\n\t\t\tif (timestamp && callback) {\n\t\t\t\t// Only execute if the pending action is less than 5 minutes old\n\t\t\t\tif (\n\t\t\t\t\tDate.now() - timestamp < 5 * 60 * 1000 &&\n\t\t\t\t\ttypeof callback === 'function'\n\t\t\t\t) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n};\n","'use client';\n\nimport { Button } from '@0xsequence/design-system';\nimport type { JSX } from 'react';\nimport { useAccount } from 'wagmi';\nimport type { CollectibleCardAction } from '../../../../../../types';\nimport { cn } from '../../../../../../utils';\nimport { useOpenConnectModal } from '../../../../../hooks';\nimport { useActionButtonStore } from '../store';\n\ntype ActionButtonBodyProps = {\n\tlabel:\n\t\t| 'Buy now'\n\t\t| 'Sell'\n\t\t| 'Make an offer'\n\t\t| 'Create listing'\n\t\t| 'Transfer'\n\t\t| string;\n\ttokenId: bigint;\n\tonClick: () => void;\n\ticon?: JSX.Element;\n\taction?: CollectibleCardAction.BUY | CollectibleCardAction.OFFER;\n\tclassName?: string;\n};\n\nexport function ActionButtonBody({\n\ttokenId,\n\tlabel,\n\tonClick,\n\ticon,\n\taction,\n\tclassName,\n}: ActionButtonBodyProps) {\n\tconst { openConnectModal } = useOpenConnectModal();\n\tconst { setPendingAction } = useActionButtonStore();\n\tconst { address } = useAccount();\n\n\tconst handleClick = (e: React.MouseEvent) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (!address && action) {\n\t\t\tsetPendingAction(action, onClick, tokenId);\n\t\t\topenConnectModal();\n\t\t} else {\n\t\t\tonClick();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\tclassName={cn('flex w-full items-center justify-center', className ?? '')}\n\t\t\tvariant=\"primary\"\n\t\t\tonClick={handleClick}\n\t\t\tsize=\"xs\"\n\t\t\tshape=\"square\"\n\t\t>\n\t\t\t{icon && icon}\n\n\t\t\t{label}\n\t\t</Button>\n\t);\n}\n","'use client';\n\nimport type { Order, OrderbookKind } from '@0xsequence/api-client';\nimport { CartIcon } from '@0xsequence/design-system';\nimport type { Address } from 'viem';\nimport { CollectibleCardAction } from '../../../../../../types';\nimport { useBuyModal } from '../../../../modals/BuyModal';\nimport { useMakeOfferModal } from '../../../../modals/MakeOfferModal';\nimport { ActionButtonBody } from './ActionButtonBody';\n\ntype NonOwnerActionsBaseProps = {\n\taction: CollectibleCardAction;\n\ttokenId: bigint;\n\tcollectionAddress: Address;\n\tchainId: number;\n\tquantityRemaining?: bigint;\n\tunlimitedSupply?: boolean;\n\thideQuantitySelector?: boolean;\n\tlabelOverride?: {\n\t\toffer?: string;\n\t\tbuy?: string;\n\t};\n\tclassName?: string;\n};\n\ntype ShopNonOwnerActionsProps = NonOwnerActionsBaseProps & {\n\tcardType: 'shop';\n\tsalesContractAddress: Address;\n\tsalePrice: {\n\t\tamount: bigint;\n\t\tcurrencyAddress: Address;\n\t};\n\tlowestListing?: never;\n\torderbookKind?: never;\n};\n\ntype MarketNonOwnerActionsProps = NonOwnerActionsBaseProps & {\n\tcardType: 'market';\n\tlowestListing?: Order;\n\torderbookKind?: OrderbookKind;\n\tsalesContractAddress?: never;\n\tsalePrice?: never;\n};\n\ntype NonOwnerActionsProps =\n\t| ShopNonOwnerActionsProps\n\t| MarketNonOwnerActionsProps;\n\nexport function NonOwnerActions(props: NonOwnerActionsProps) {\n\tconst {\n\t\taction,\n\t\ttokenId,\n\t\tcollectionAddress,\n\t\tchainId,\n\t\tquantityRemaining,\n\t\tunlimitedSupply,\n\t\tcardType,\n\t\thideQuantitySelector,\n\t\tlabelOverride,\n\t\tclassName,\n\t} = props;\n\n\tconst { show: showBuyModal } = useBuyModal();\n\tconst { show: showMakeOfferModal } = useMakeOfferModal();\n\n\tif (cardType === 'shop') {\n\t\tconst { salesContractAddress, salePrice } = props;\n\n\t\treturn (\n\t\t\t<ActionButtonBody\n\t\t\t\taction={CollectibleCardAction.BUY}\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tlabel={labelOverride?.buy ?? 'Buy now'}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tshowBuyModal({\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tsalesContractAddress,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttokenId,\n\t\t\t\t\t\t\t\tquantity: 1n,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tcardType: 'shop',\n\t\t\t\t\t\tsalePrice: {\n\t\t\t\t\t\t\tamount: salePrice.amount,\n\t\t\t\t\t\t\tcurrencyAddress: salePrice.currencyAddress,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tquantityRemaining: quantityRemaining ?? 0n,\n\t\t\t\t\t\tunlimitedSupply,\n\t\t\t\t\t\thideQuantitySelector,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\ticon={<CartIcon />}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (action === CollectibleCardAction.BUY) {\n\t\tconst { lowestListing } = props;\n\t\tif (!lowestListing) {\n\t\t\tthrow new Error(\n\t\t\t\t'lowestListing is required for BUY action and MARKET card type',\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<ActionButtonBody\n\t\t\t\taction={CollectibleCardAction.BUY}\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tlabel={labelOverride?.buy ?? 'Buy now'}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tshowBuyModal({\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t\torderId: lowestListing.orderId,\n\t\t\t\t\t\tmarketplace: lowestListing.marketplace,\n\t\t\t\t\t\tcardType: 'market',\n\t\t\t\t\t\thideQuantitySelector,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\ticon={<CartIcon />}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (action === CollectibleCardAction.OFFER) {\n\t\tconst { orderbookKind } = props;\n\t\treturn (\n\t\t\t<ActionButtonBody\n\t\t\t\taction={CollectibleCardAction.OFFER}\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tlabel={labelOverride?.offer ?? 'Make an offer'}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tshowMakeOfferModal({\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t\torderbookKind,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n}\n","export {\n\ttype CreateListingModalContext,\n\tuseCreateListingModalContext,\n} from './internal/context';\n\nimport {\n\tcreateListingModalStore,\n\ttype OpenCreateListingModalArgs,\n} from './internal/store';\n\nexport type ShowCreateListingModalArgs = OpenCreateListingModalArgs;\n\nexport const useCreateListingModal = () => {\n\treturn {\n\t\tshow: (args: ShowCreateListingModalArgs) =>\n\t\t\tcreateListingModalStore.send({ type: 'open', ...args }),\n\t\tclose: () => createListingModalStore.send({ type: 'close' }),\n\t};\n};\n\nexport type { OpenCreateListingModalArgs } from './internal/store';\nexport { CreateListingModal } from './Modal';\n","'use client';\n\nimport type { Address } from 'viem';\nimport { CollectibleCardAction } from '../../../../../../types';\nimport type { Order, OrderbookKind } from '../../../../../_internal';\nimport { useCreateListingModal } from '../../../../modals/CreateListingModal';\nimport { useSellModal } from '../../../../modals/SellModal';\nimport { useTransferModal } from '../../../../modals/TransferModal';\nimport { ActionButtonBody } from './ActionButtonBody';\n\ntype OwnerActionsProps = {\n\taction: CollectibleCardAction;\n\ttokenId: bigint;\n\tcollectionAddress: Address;\n\tchainId: number;\n\torderbookKind?: OrderbookKind;\n\thighestOffer?: Order;\n\tlabelOverride?: {\n\t\tlisting?: string;\n\t\tsell?: string;\n\t\ttransfer?: string;\n\t};\n\tclassName?: string;\n};\n\nexport function OwnerActions({\n\taction,\n\ttokenId,\n\tcollectionAddress,\n\tchainId,\n\torderbookKind,\n\thighestOffer,\n\tlabelOverride,\n\tclassName,\n}: OwnerActionsProps) {\n\tconst { show: showCreateListingModal } = useCreateListingModal();\n\tconst { show: showSellModal } = useSellModal();\n\tconst { show: showTransferModal } = useTransferModal();\n\n\tif (action === CollectibleCardAction.LIST) {\n\t\treturn (\n\t\t\t<ActionButtonBody\n\t\t\t\tlabel={labelOverride?.listing ?? 'Create listing'}\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tshowCreateListingModal({\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t\torderbookKind,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (action === CollectibleCardAction.SELL && highestOffer) {\n\t\treturn (\n\t\t\t<ActionButtonBody\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tlabel={labelOverride?.sell ?? 'Sell'}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tshowSellModal({\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t\torder: highestOffer,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (action === CollectibleCardAction.TRANSFER) {\n\t\treturn (\n\t\t\t<ActionButtonBody\n\t\t\t\tlabel={labelOverride?.transfer ?? 'Transfer'}\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tshowTransferModal({\n\t\t\t\t\t\tcollectionAddress,\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\ttokenId,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n}\n","'use client';\n\nimport { useEffect } from 'react';\nimport { useAccount } from 'wagmi';\nimport { CollectibleCardAction } from '../../../../../../types';\nimport { useActionButtonStore } from '../store';\n\ntype UseActionButtonLogicProps = {\n\ttokenId: bigint;\n\towned?: boolean;\n\taction: CollectibleCardAction;\n\tonCannotPerformAction?: (\n\t\taction: CollectibleCardAction.BUY | CollectibleCardAction.OFFER,\n\t) => void;\n};\n\nexport const useActionButtonLogic = ({\n\ttokenId,\n\towned,\n\taction,\n\tonCannotPerformAction,\n}: UseActionButtonLogicProps) => {\n\tconst { address } = useAccount();\n\tconst actionsThatOwnersCannotPerform = [\n\t\tCollectibleCardAction.BUY,\n\t\tCollectibleCardAction.OFFER,\n\t];\n\tconst { pendingAction, clearPendingAction, executePendingAction } =\n\t\tuseActionButtonStore();\n\tconst pendingActionType = pendingAction?.type;\n\n\t// Handle owner restrictions\n\tuseEffect(() => {\n\t\tif (\n\t\t\towned &&\n\t\t\tpendingAction &&\n\t\t\taddress &&\n\t\t\tactionsThatOwnersCannotPerform.includes(action) &&\n\t\t\tpendingAction?.tokenId === tokenId\n\t\t) {\n\t\t\tonCannotPerformAction?.(\n\t\t\t\tpendingActionType as\n\t\t\t\t\t| CollectibleCardAction.BUY\n\t\t\t\t\t| CollectibleCardAction.OFFER,\n\t\t\t);\n\t\t\tclearPendingAction();\n\t\t}\n\t}, [\n\t\towned,\n\t\tpendingAction,\n\t\taddress,\n\t\taction,\n\t\ttokenId,\n\t\tonCannotPerformAction,\n\t\tpendingActionType,\n\t\tclearPendingAction,\n\t]);\n\n\t// Execute pending action when user becomes connected\n\tuseEffect(() => {\n\t\tif (\n\t\t\taddress &&\n\t\t\t!owned &&\n\t\t\tpendingAction &&\n\t\t\tpendingAction?.tokenId === tokenId\n\t\t) {\n\t\t\texecutePendingAction();\n\t\t\tclearPendingAction();\n\t\t}\n\t}, [\n\t\taddress,\n\t\towned,\n\t\ttokenId,\n\t\tpendingAction,\n\t\texecutePendingAction,\n\t\tclearPendingAction,\n\t]);\n\n\tconst shouldShowAction = !address\n\t\t? [CollectibleCardAction.BUY, CollectibleCardAction.OFFER].includes(action)\n\t\t: true;\n\n\tconst isOwnerAction =\n\t\taddress &&\n\t\towned &&\n\t\t[\n\t\t\tCollectibleCardAction.LIST,\n\t\t\tCollectibleCardAction.TRANSFER,\n\t\t\tCollectibleCardAction.SELL,\n\t\t].includes(action);\n\n\treturn {\n\t\taddress,\n\t\tshouldShowAction,\n\t\tisOwnerAction,\n\t};\n};\n","'use client';\n\nimport type { Address } from 'viem';\nimport type { CardType, CollectibleCardAction } from '../../../../../types';\nimport type { Order, OrderbookKind } from '../../../../_internal';\nimport { NonOwnerActions } from './components/NonOwnerActions';\nimport { OwnerActions } from './components/OwnerActions';\nimport { useActionButtonLogic } from './hooks/useActionButtonLogic';\n\ntype ActionButtonProps = {\n\tchainId: number;\n\tcollectionAddress: Address;\n\ttokenId: bigint;\n\torderbookKind?: OrderbookKind;\n\tisTransfer?: boolean;\n\taction: CollectibleCardAction;\n\towned?: boolean;\n\thighestOffer?: Order;\n\tlowestListing?: Order;\n\tonCannotPerformAction?: (\n\t\taction: CollectibleCardAction.BUY | CollectibleCardAction.OFFER,\n\t) => void;\n\tcardType: CardType;\n\tsalesContractAddress?: Address;\n\tprioritizeOwnerActions?: boolean;\n\tsalePrice?: {\n\t\tamount: bigint;\n\t\tcurrencyAddress: Address;\n\t};\n\tquantityRemaining?: bigint;\n\tunlimitedSupply?: boolean;\n\thideQuantitySelector?: boolean;\n\tlabelOverride?: {\n\t\tlisting?: string;\n\t\toffer?: string;\n\t\tbuy?: string;\n\t\tsell?: string;\n\t\ttransfer?: string;\n\t};\n\tclassName?: string;\n};\n\nexport function ActionButton({\n\tcollectionAddress,\n\tchainId,\n\ttokenId,\n\torderbookKind,\n\taction,\n\towned,\n\thighestOffer,\n\tlowestListing,\n\tonCannotPerformAction,\n\tcardType,\n\tsalesContractAddress,\n\tprioritizeOwnerActions,\n\tsalePrice,\n\tquantityRemaining,\n\tunlimitedSupply,\n\thideQuantitySelector,\n\tlabelOverride,\n\tclassName,\n}: ActionButtonProps) {\n\tconst { shouldShowAction, isOwnerAction } = useActionButtonLogic({\n\t\ttokenId,\n\t\towned,\n\t\taction,\n\t\tonCannotPerformAction,\n\t});\n\n\tif (!shouldShowAction) {\n\t\treturn null;\n\t}\n\n\tif (isOwnerAction || prioritizeOwnerActions) {\n\t\treturn (\n\t\t\t<OwnerActions\n\t\t\t\taction={action}\n\t\t\t\ttokenId={tokenId}\n\t\t\t\tcollectionAddress={collectionAddress}\n\t\t\t\tchainId={chainId}\n\t\t\t\torderbookKind={orderbookKind}\n\t\t\t\thighestOffer={highestOffer}\n\t\t\t\tlabelOverride={labelOverride}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst nonOwnerProps =\n\t\tcardType === 'shop' && salesContractAddress && salePrice\n\t\t\t? {\n\t\t\t\t\tcardType: 'shop' as const,\n\t\t\t\t\tsalesContractAddress,\n\t\t\t\t\tsalePrice,\n\t\t\t\t\taction,\n\t\t\t\t\ttokenId,\n\t\t\t\t\tcollectionAddress,\n\t\t\t\t\tchainId,\n\t\t\t\t\tquantityRemaining,\n\t\t\t\t\tunlimitedSupply,\n\t\t\t\t\thideQuantitySelector,\n\t\t\t\t\tlabelOverride,\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\tcardType: 'market' as const,\n\t\t\t\t\torderbookKind,\n\t\t\t\t\tlowestListing,\n\t\t\t\t\taction,\n\t\t\t\t\ttokenId,\n\t\t\t\t\tcollectionAddress,\n\t\t\t\t\tchainId,\n\t\t\t\t\tquantityRemaining,\n\t\t\t\t\thideQuantitySelector,\n\t\t\t\t\tlabelOverride,\n\t\t\t\t};\n\n\treturn <NonOwnerActions {...nonOwnerProps} className={className} />;\n}\n","'use client';\n\nimport type { Address } from 'viem';\nimport type {\n\tCollectibleCardAction,\n\tOrderbookKind,\n} from '../../../../../types';\nimport type { ContractType, Currency, Order } from '../../../../_internal';\nimport { ActionButton } from '../ActionButton/ActionButton';\nimport { Card } from '../Card';\nimport type { CollectibleMetadata } from '../Card/card-media';\nimport {\n\tCARD_TITLE_MAX_LENGTH_DEFAULT,\n\tCARD_TITLE_MAX_LENGTH_WITH_OFFER,\n} from '../constants';\nimport type { CardClassNames } from '../types';\n\nexport interface MarketCardPresentationProps {\n\t/** Token identification */\n\ttokenId: bigint;\n\tchainId: number;\n\tcollectionAddress: Address;\n\tcollectionType: ContractType;\n\n\t/** Display data */\n\tcollectibleMetadata: CollectibleMetadata;\n\tcurrency?: Currency;\n\tlowestListing?: Order;\n\thighestOffer?: Order;\n\tbalance?: string;\n\n\t/** Asset configuration */\n\tassetSrcPrefixUrl?: string;\n\n\t/** Interaction handlers */\n\tonCollectibleClick?: (tokenId: bigint) => void;\n\tonOfferClick?: (params: {\n\t\torder: Order;\n\t\te: React.MouseEvent<HTMLButtonElement>;\n\t}) => void;\n\n\t/** Action button configuration */\n\torderbookKind?: OrderbookKind;\n\taction: CollectibleCardAction;\n\tshowActionButton?: boolean;\n\tonCannotPerformAction?: (\n\t\taction: CollectibleCardAction.BUY | CollectibleCardAction.OFFER,\n\t) => void;\n\tprioritizeOwnerActions?: boolean;\n\thideQuantitySelector?: boolean;\n\tclassNames?: CardClassNames;\n}\n\n/**\n * MarketCardPresentation - Pure presentation component for market cards\n *\n * This is a \"dumb\" component that receives all data as props and handles no data fetching.\n * Use this when you want full control over data fetching, or for SSR/SSG scenarios.\n *\n * For a convenient \"smart\" component with built-in data fetching, use MarketCard instead.\n *\n * @example\n * ```tsx\n * // With pre-fetched data\n * <MarketCardPresentation\n *   tokenId=\"123\"\n *   chainId={1}\n *   collectibleMetadata={metadata}\n *   currency={currency}\n *   lowestListing={listing}\n * />\n * ```\n */\nexport function MarketCardPresentation({\n\ttokenId,\n\tchainId,\n\tcollectionAddress,\n\tcollectionType,\n\tcollectibleMetadata,\n\tcurrency,\n\tlowestListing,\n\thighestOffer,\n\tbalance,\n\tassetSrcPrefixUrl,\n\tonCollectibleClick,\n\tonOfferClick,\n\torderbookKind,\n\taction,\n\tshowActionButton = true,\n\tonCannotPerformAction,\n\tprioritizeOwnerActions,\n\thideQuantitySelector,\n\tclassNames,\n}: MarketCardPresentationProps) {\n\t// Only define handlers if callback exists\n\tconst handleClick = onCollectibleClick\n\t\t? () => onCollectibleClick(tokenId)\n\t\t: undefined;\n\n\tconst handleKeyDown = onCollectibleClick\n\t\t? (e: React.KeyboardEvent) => {\n\t\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\t\tonCollectibleClick(tokenId);\n\t\t\t\t}\n\t\t\t}\n\t\t: undefined;\n\n\treturn (\n\t\t<Card\n\t\t\tonClick={handleClick}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tclassName={classNames?.cardRoot}\n\t\t>\n\t\t\t<Card.Media\n\t\t\t\tmetadata={collectibleMetadata}\n\t\t\t\tassetSrcPrefixUrl={assetSrcPrefixUrl}\n\t\t\t\tclassName={classNames?.cardMedia}\n\t\t\t/>\n\n\t\t\t<Card.Content className={classNames?.cardContent}>\n\t\t\t\t<Card.Title\n\t\t\t\t\thighestOffer={highestOffer}\n\t\t\t\t\tonOfferClick={(e) =>\n\t\t\t\t\t\tonOfferClick?.({ order: highestOffer as Order, e })\n\t\t\t\t\t}\n\t\t\t\t\tbalance={balance}\n\t\t\t\t\tmaxLength={\n\t\t\t\t\t\thighestOffer\n\t\t\t\t\t\t\t? CARD_TITLE_MAX_LENGTH_WITH_OFFER\n\t\t\t\t\t\t\t: CARD_TITLE_MAX_LENGTH_DEFAULT\n\t\t\t\t\t}\n\t\t\t\t\tclassName={classNames?.cardTitle}\n\t\t\t\t>\n\t\t\t\t\t{collectibleMetadata.name || 'Untitled'}\n\t\t\t\t</Card.Title>\n\n\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t<Card.Price\n\t\t\t\t\t\tamount={lowestListing?.priceAmount}\n\t\t\t\t\t\tcurrency={currency}\n\t\t\t\t\t\tclassName={classNames?.cardPrice}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<Card.Badge\n\t\t\t\t\ttype={collectionType}\n\t\t\t\t\tbalance={balance}\n\t\t\t\t\tclassName={classNames?.cardBadge}\n\t\t\t\t/>\n\t\t\t</Card.Content>\n\n\t\t\t<Card.Footer show={showActionButton} className={classNames?.cardFooter}>\n\t\t\t\t<ActionButton\n\t\t\t\t\tchainId={chainId}\n\t\t\t\t\tcollectionAddress={collectionAddress}\n\t\t\t\t\ttokenId={tokenId}\n\t\t\t\t\torderbookKind={orderbookKind}\n\t\t\t\t\taction={action}\n\t\t\t\t\thighestOffer={highestOffer}\n\t\t\t\t\tlowestListing={lowestListing}\n\t\t\t\t\towned={!!balance}\n\t\t\t\t\tonCannotPerformAction={onCannotPerformAction}\n\t\t\t\t\tcardType=\"market\"\n\t\t\t\t\tprioritizeOwnerActions={prioritizeOwnerActions}\n\t\t\t\t\thideQuantitySelector={hideQuantitySelector}\n\t\t\t\t\tclassName={classNames?.cardActionButton}\n\t\t\t\t/>\n\t\t\t</Card.Footer>\n\t\t</Card>\n\t);\n}\n","'use client';\n\nimport type { ContractType } from '../../../../_internal';\nimport { useCurrency } from '../../../../hooks/currency/currency';\nimport type { MarketCollectibleCardProps } from '../types';\nimport { determineCardAction, renderSkeletonIfLoading } from '../utils';\nimport { MarketCardPresentation } from './MarketCardPresentation';\n\n/**\n * MarketCard - Smart component with built-in data fetching\n *\n * This component handles currency fetching and action determination automatically.\n * Use this for convenient plug-and-play integration.\n *\n * For full control over data fetching (e.g., SSR/SSG), use MarketCardPresentation instead.\n *\n * @example\n * ```tsx\n * <MarketCard\n *   tokenId=\"123\"\n *   chainId={1}\n *   collectionAddress=\"0x...\"\n *   collectible={collectible}\n * />\n * ```\n */\nexport function MarketCard({\n\ttokenId,\n\tchainId,\n\tcollectionAddress,\n\tcollectionType,\n\tassetSrcPrefixUrl,\n\tcardLoading,\n\torderbookKind,\n\tcollectible,\n\tonCollectibleClick,\n\tonOfferClick,\n\tbalance,\n\tbalanceIsLoading = false,\n\tonCannotPerformAction,\n\tprioritizeOwnerActions,\n\thideQuantitySelector,\n\tclassNames,\n}: MarketCollectibleCardProps) {\n\tconst collectibleMetadata = collectible?.metadata;\n\tconst highestOffer = collectible?.offer;\n\tconst lowestListing = collectible?.listing;\n\n\t// Fetch currency details for the listing price\n\tconst { data: currency } = useCurrency({\n\t\tchainId,\n\t\tcurrencyAddress: lowestListing?.priceCurrencyAddress,\n\t\tquery: {\n\t\t\tenabled: !!lowestListing?.priceCurrencyAddress,\n\t\t},\n\t});\n\n\tif (!collectibleMetadata) {\n\t\tconsole.error('Collectible metadata is undefined');\n\t\treturn null;\n\t}\n\n\t// Show loading skeleton\n\tconst skeleton = renderSkeletonIfLoading({\n\t\tcardLoading,\n\t\tbalanceIsLoading,\n\t\tcollectionType,\n\t\tisShop: false,\n\t});\n\tif (skeleton) return skeleton;\n\n\tconst showActionButton = !!highestOffer || !!collectible;\n\n\tconst action = determineCardAction({\n\t\thasBalance: !!balance,\n\t\thasOffer: !!highestOffer,\n\t\thasListing: !!lowestListing,\n\t});\n\n\treturn (\n\t\t<MarketCardPresentation\n\t\t\ttokenId={tokenId}\n\t\t\tchainId={chainId}\n\t\t\tcollectionAddress={collectionAddress}\n\t\t\tcollectionType={collectionType as ContractType}\n\t\t\tcollectibleMetadata={collectibleMetadata}\n\t\t\tcurrency={currency}\n\t\t\tlowestListing={lowestListing}\n\t\t\thighestOffer={highestOffer}\n\t\t\tbalance={balance}\n\t\t\tassetSrcPrefixUrl={assetSrcPrefixUrl}\n\t\t\tonCollectibleClick={onCollectibleClick}\n\t\t\tonOfferClick={onOfferClick}\n\t\t\torderbookKind={orderbookKind}\n\t\t\taction={action}\n\t\t\tshowActionButton={showActionButton}\n\t\t\tonCannotPerformAction={onCannotPerformAction}\n\t\t\tprioritizeOwnerActions={prioritizeOwnerActions}\n\t\t\thideQuantitySelector={hideQuantitySelector}\n\t\t\tclassNames={classNames}\n\t\t/>\n\t);\n}\n","'use client';\n\nimport { forwardRef } from 'react';\nimport type { ContractType } from '../../../../_internal';\nimport { Card } from '../Card';\nimport type { NonTradableInventoryCardProps } from '../types';\nimport { renderSkeletonIfLoading } from '../utils';\n\nexport const NonTradableInventoryCard = forwardRef<\n\tHTMLDivElement,\n\tNonTradableInventoryCardProps\n>(\n\t(\n\t\t{\n\t\t\tcollectionType,\n\t\t\tassetSrcPrefixUrl,\n\t\t\tcardLoading,\n\t\t\tbalance,\n\t\t\tbalanceIsLoading,\n\t\t\tcollectibleMetadata,\n\t\t\tclassNames,\n\t\t},\n\t\tref,\n\t) => {\n\t\t// Show loading skeleton\n\t\tconst skeleton = renderSkeletonIfLoading({\n\t\t\tcardLoading,\n\t\t\tbalanceIsLoading,\n\t\t\tcollectionType,\n\t\t\tisShop: false,\n\t\t});\n\t\tif (skeleton) return skeleton;\n\n\t\treturn (\n\t\t\t<Card ref={ref} className={classNames?.cardRoot}>\n\t\t\t\t<Card.Media\n\t\t\t\t\tmetadata={collectibleMetadata}\n\t\t\t\t\tassetSrcPrefixUrl={assetSrcPrefixUrl}\n\t\t\t\t\tclassName={classNames?.cardMedia}\n\t\t\t\t/>\n\n\t\t\t\t<Card.Content className={classNames?.cardContent}>\n\t\t\t\t\t<Card.Title className={classNames?.cardTitle}>\n\t\t\t\t\t\t{collectibleMetadata.name || 'Untitled'}\n\t\t\t\t\t</Card.Title>\n\n\t\t\t\t\t<Card.Price className={classNames?.cardPrice} />\n\n\t\t\t\t\t<Card.Badge\n\t\t\t\t\t\ttype={collectionType as ContractType}\n\t\t\t\t\t\tbalance={balance}\n\t\t\t\t\t\tclassName={classNames?.cardBadge}\n\t\t\t\t\t/>\n\t\t\t\t</Card.Content>\n\t\t\t</Card>\n\t\t);\n\t},\n);\n\nNonTradableInventoryCard.displayName = 'NonTradableInventoryCard';\n","'use client';\n\nimport type { Address } from 'viem';\nimport { type CardType, CollectibleCardAction } from '../../../../../types';\nimport { cn } from '../../../../../utils';\nimport { ContractType, type Currency } from '../../../../_internal';\nimport { ActionButton } from '../ActionButton/ActionButton';\nimport { Card } from '../Card';\nimport type { CollectibleMetadata } from '../Card/card-media';\nimport { CARD_TITLE_MAX_LENGTH_DEFAULT } from '../constants';\nimport type { CardClassNames } from '../types';\n\nexport interface ShopCardPresentationProps {\n\t/** Token identification */\n\ttokenId: bigint;\n\tchainId: number;\n\tcollectionAddress: Address;\n\tcollectionType: ContractType;\n\n\t/** Display data */\n\ttokenMetadata: CollectibleMetadata;\n\tsaleCurrency?: Currency;\n\n\t/** Sale information */\n\tsalePrice?: {\n\t\tamount: bigint;\n\t\tcurrencyAddress: Address;\n\t};\n\n\t/** Asset configuration */\n\tassetSrcPrefixUrl?: string;\n\n\t/** Shop card state */\n\tshopState: {\n\t\tmediaClassName?: string;\n\t\ttitleClassName?: string;\n\t\tshowActionButton: boolean;\n\t};\n\n\t/** Action button configuration */\n\tcardType: CardType;\n\tsalesContractAddress?: Address;\n\tquantityRemaining?: bigint;\n\tunlimitedSupply?: boolean;\n\thideQuantitySelector?: boolean;\n\tclassNames?: CardClassNames;\n}\n\n/**\n * ShopCardPresentation - Pure presentation component for shop/primary sale cards\n *\n * This is a \"dumb\" component that receives all data as props and handles no data fetching.\n * Use this when you want full control over data fetching, or for SSR/SSG scenarios.\n *\n * For a convenient \"smart\" component with built-in data fetching, use ShopCard instead.\n *\n * @example\n * ```tsx\n * // With pre-fetched data\n * <ShopCardPresentation\n *   tokenId=\"123\"\n *   chainId={1}\n *   tokenMetadata={metadata}\n *   saleCurrency={currency}\n *   shopState={shopState}\n * />\n * ```\n */\nexport function ShopCardPresentation({\n\ttokenId,\n\tchainId,\n\tcollectionAddress,\n\tcollectionType,\n\ttokenMetadata,\n\tsaleCurrency,\n\tsalePrice,\n\tassetSrcPrefixUrl,\n\tshopState,\n\tcardType,\n\tsalesContractAddress,\n\tquantityRemaining,\n\tunlimitedSupply,\n\thideQuantitySelector,\n\tclassNames,\n}: ShopCardPresentationProps) {\n\treturn (\n\t\t<Card className={classNames?.cardRoot}>\n\t\t\t<Card.Media\n\t\t\t\tmetadata={tokenMetadata}\n\t\t\t\tassetSrcPrefixUrl={assetSrcPrefixUrl}\n\t\t\t\tclassName={cn(shopState.mediaClassName, classNames?.cardMedia)}\n\t\t\t/>\n\n\t\t\t<Card.Content className={classNames?.cardContent}>\n\t\t\t\t<Card.Title\n\t\t\t\t\tclassName={cn(shopState.titleClassName, classNames?.cardTitle)}\n\t\t\t\t\tmaxLength={CARD_TITLE_MAX_LENGTH_DEFAULT}\n\t\t\t\t>\n\t\t\t\t\t{tokenMetadata.name || 'Untitled'}\n\t\t\t\t</Card.Title>\n\n\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t{collectionType === ContractType.ERC1155 &&\n\t\t\t\t\t\tsalePrice?.amount &&\n\t\t\t\t\t\tsaleCurrency && (\n\t\t\t\t\t\t\t<Card.Price\n\t\t\t\t\t\t\t\tamount={salePrice.amount}\n\t\t\t\t\t\t\t\tcurrency={saleCurrency}\n\t\t\t\t\t\t\t\tclassName={classNames?.cardPrice}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<Card.SaleDetails\n\t\t\t\t\tquantityRemaining={quantityRemaining}\n\t\t\t\t\ttype={collectionType}\n\t\t\t\t\tunlimitedSupply={unlimitedSupply}\n\t\t\t\t\tclassName={classNames?.cardSaleDetails}\n\t\t\t\t/>\n\n\t\t\t\t{!salePrice?.amount && <div className=\"h-5 w-full\" />}\n\t\t\t</Card.Content>\n\n\t\t\t<Card.Footer\n\t\t\t\tshow={shopState.showActionButton}\n\t\t\t\tclassName={classNames?.cardFooter}\n\t\t\t>\n\t\t\t\t<ActionButton\n\t\t\t\t\tchainId={chainId}\n\t\t\t\t\tcollectionAddress={collectionAddress}\n\t\t\t\t\ttokenId={tokenId}\n\t\t\t\t\taction={CollectibleCardAction.BUY}\n\t\t\t\t\towned={false}\n\t\t\t\t\tcardType={cardType}\n\t\t\t\t\tsalesContractAddress={salesContractAddress}\n\t\t\t\t\tsalePrice={salePrice}\n\t\t\t\t\tquantityRemaining={quantityRemaining}\n\t\t\t\t\tunlimitedSupply={unlimitedSupply}\n\t\t\t\t\thideQuantitySelector={hideQuantitySelector}\n\t\t\t\t\tclassName={classNames?.cardActionButton}\n\t\t\t\t/>\n\t\t\t</Card.Footer>\n\t\t</Card>\n\t);\n}\n","'use client';\n\nimport type { CardType } from '../../../../../types';\nimport { ContractType } from '../../../../_internal';\nimport { useCurrency } from '../../../../hooks/currency/currency';\nimport type { ShopCollectibleCardProps } from '../types';\nimport { getShopCardState, renderSkeletonIfLoading } from '../utils';\nimport { ShopCardPresentation } from './ShopCardPresentation';\n\n/**\n * ShopCard - Smart component with built-in data fetching\n *\n * This component handles currency fetching and shop state calculation automatically.\n * Use this for convenient plug-and-play integration.\n *\n * For full control over data fetching (e.g., SSR/SSG), use ShopCardPresentation instead.\n *\n * @example\n * ```tsx\n * <ShopCard\n *   tokenId=\"123\"\n *   chainId={1}\n *   collectionAddress=\"0x...\"\n *   tokenMetadata={metadata}\n *   salePrice={salePrice}\n * />\n * ```\n */\nexport function ShopCard({\n\ttokenId,\n\tchainId,\n\tcollectionAddress,\n\tcollectionType,\n\tassetSrcPrefixUrl,\n\tcardLoading,\n\tcardType,\n\tsalesContractAddress,\n\ttokenMetadata,\n\tsalePrice,\n\tquantityInitial,\n\tquantityRemaining,\n\tunlimitedSupply,\n\thideQuantitySelector,\n\tclassNames,\n}: ShopCollectibleCardProps) {\n\tconst { data: saleCurrency, isLoading: saleCurrencyLoading } = useCurrency({\n\t\tchainId,\n\t\tcurrencyAddress: salePrice?.currencyAddress,\n\t\tquery: {\n\t\t\tenabled:\n\t\t\t\t!!salePrice?.currencyAddress &&\n\t\t\t\t!!salesContractAddress &&\n\t\t\t\tcollectionType === ContractType.ERC1155,\n\t\t},\n\t});\n\n\tif (!tokenMetadata || !salePrice) {\n\t\tconsole.error('Token metadata or sale price is undefined', {\n\t\t\ttokenMetadata,\n\t\t\tsalePrice,\n\t\t});\n\t\treturn null;\n\t}\n\n\t// Show loading skeleton\n\tconst skeleton = renderSkeletonIfLoading({\n\t\tcardLoading,\n\t\tbalanceIsLoading: saleCurrencyLoading,\n\t\tcollectionType,\n\t\tisShop: true,\n\t});\n\tif (skeleton) return skeleton;\n\n\t// Calculate shop card state (stock availability, styling)\n\tconst shopState = getShopCardState({\n\t\tquantityRemaining,\n\t\tquantityInitial,\n\t\tunlimitedSupply,\n\t\tcollectionType,\n\t\tsalesContractAddress,\n\t});\n\n\treturn (\n\t\t<ShopCardPresentation\n\t\t\ttokenId={tokenId}\n\t\t\tchainId={chainId}\n\t\t\tcollectionAddress={collectionAddress}\n\t\t\tcollectionType={collectionType as ContractType}\n\t\t\ttokenMetadata={tokenMetadata}\n\t\t\tsaleCurrency={saleCurrency}\n\t\t\tsalePrice={salePrice}\n\t\t\tassetSrcPrefixUrl={assetSrcPrefixUrl}\n\t\t\tshopState={shopState}\n\t\t\tcardType={cardType as CardType}\n\t\t\tsalesContractAddress={salesContractAddress}\n\t\t\tquantityRemaining={quantityRemaining}\n\t\t\tunlimitedSupply={unlimitedSupply}\n\t\t\thideQuantitySelector={hideQuantitySelector}\n\t\t\tclassNames={classNames}\n\t\t/>\n\t);\n}\n","'use client';\n\nimport type { CollectibleCardProps } from './types';\nimport { MarketCard } from './variants/MarketCard';\nimport { NonTradableInventoryCard } from './variants/NonTradableInventoryCard';\n\nimport { ShopCard } from './variants/ShopCard';\n\nexport function CollectibleCard(props: CollectibleCardProps) {\n\tswitch (props.cardType) {\n\t\tcase 'shop':\n\t\t\treturn <ShopCard {...props} />;\n\t\tcase 'market':\n\t\t\treturn <MarketCard {...props} />;\n\t\tcase 'inventory-non-tradable':\n\t\t\treturn <NonTradableInventoryCard {...props} />;\n\t}\n}\n"],"mappings":"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AS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,MAAM;EACL,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CACD,OAAO;EACN,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,OAAO;EACN,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,OAAO;EACN,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,OAAO;EACN,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,QAAQ;EACP,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,QAAQ;EACP,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,QAAQ;EACP,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,QAAQ;EACP,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,QAAQ;EACP,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,QAAQ;EACP,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,QAAQ;GACR,SAAS;GACT;EACD,iBAAiB;GAChB,QAAQ;GACR,SAAS;GACT;EACD;CAED,SAAS;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,gBAAgB;GACf,QAAQ;GACR,SAAS;GACT;EACD,uBAAuB,EACtB,SAAS,8CACT;EACD,eAAe;GACd,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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}