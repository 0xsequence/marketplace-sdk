{"version":3,"file":"switchChainErrorModal.js","names":["initialContext: SwitchChainErrorModalState"],"sources":["../src/react/ui/modals/_internal/components/consts.ts","../src/react/ui/modals/_internal/components/switchChainErrorModal/store.ts","../src/react/ui/modals/_internal/components/switchChainErrorModal/index.tsx"],"sourcesContent":["import { TransactionType } from '../../../../_internal';\n\nconst MODAL_WIDTH = '360px';\nconst MODAL_WIDTH_WIDER = '500px';\n\nconst MODAL_OVERLAY_PROPS = {\n\tstyle: {\n\t\tbackground: 'hsla(0, 0%, 15%, 0.9)',\n\t},\n};\n\nconst MODAL_CONTENT_PROPS = (transactionType?: TransactionType) => {\n\tif (transactionType === TransactionType.TRANSFER) {\n\t\treturn {\n\t\t\tstyle: {\n\t\t\t\theight: 'auto',\n\t\t\t},\n\t\t\tclassName: `w-[${MODAL_WIDTH_WIDER}] md:w-[${MODAL_WIDTH}]`,\n\t\t};\n\t}\n\n\treturn {\n\t\tstyle: {\n\t\t\twidth: MODAL_WIDTH,\n\t\t\theight: 'auto',\n\t\t},\n\t};\n};\n\nexport { MODAL_OVERLAY_PROPS, MODAL_CONTENT_PROPS };\n","import { createStore } from '@xstate/store';\nimport { useSelector } from '@xstate/store/react';\nimport type { ShowSwitchChainModalArgs } from '.';\n\nexport interface SwitchChainErrorModalState {\n\tisOpen: boolean;\n\tchainIdToSwitchTo: number | undefined;\n\tisSwitching: boolean;\n}\n\nconst initialContext: SwitchChainErrorModalState = {\n\tisOpen: false,\n\tchainIdToSwitchTo: undefined,\n\tisSwitching: false,\n};\n\nexport const switchChainErrorModalStore = createStore({\n\tcontext: initialContext,\n\ton: {\n\t\topen: (context, event: ShowSwitchChainModalArgs) => ({\n\t\t\t...context,\n\t\t\tisOpen: true,\n\t\t\tchainIdToSwitchTo: event.chainIdToSwitchTo,\n\t\t}),\n\t\tclose: (context) => ({\n\t\t\t...context,\n\t\t\tisOpen: false,\n\t\t\tchainIdToSwitchTo: undefined,\n\t\t\tisSwitching: false,\n\t\t}),\n\t},\n});\n\n// Selector hooks\nexport const useIsOpen = () =>\n\tuseSelector(switchChainErrorModalStore, (state) => state.context.isOpen);\n\nexport const useChainIdToSwitchTo = () =>\n\tuseSelector(\n\t\tswitchChainErrorModalStore,\n\t\t(state) => state.context.chainIdToSwitchTo,\n\t);\n","'use client';\n\nimport { Modal, Text } from '@0xsequence/design-system';\nimport { useAccount } from 'wagmi';\nimport { getPresentableChainName } from '../../../../../../utils/network';\nimport AlertMessage from '../alertMessage';\nimport { MODAL_OVERLAY_PROPS } from '../consts';\nimport {\n\tswitchChainErrorModalStore,\n\tuseChainIdToSwitchTo,\n\tuseIsOpen,\n} from './store';\n\nexport type ShowSwitchChainModalArgs = {\n\tchainIdToSwitchTo: number;\n};\n\nexport const useSwitchChainErrorModal = () => {\n\treturn {\n\t\tshow: (args: ShowSwitchChainModalArgs) =>\n\t\t\tswitchChainErrorModalStore.send({ type: 'open', ...args }),\n\t\tclose: () => switchChainErrorModalStore.send({ type: 'close' }),\n\t};\n};\n\nconst SwitchChainErrorModal = () => {\n\tconst { chainId: currentChainId } = useAccount();\n\tconst isOpen = useIsOpen();\n\tconst chainIdToSwitchTo = useChainIdToSwitchTo();\n\n\tconst chainName = chainIdToSwitchTo\n\t\t? getPresentableChainName(chainIdToSwitchTo)\n\t\t: '';\n\n\tconst handleClose = () => {\n\t\tswitchChainErrorModalStore.send({ type: 'close' });\n\t};\n\n\tif (!isOpen || !chainIdToSwitchTo || currentChainId === chainIdToSwitchTo)\n\t\treturn null;\n\n\treturn (\n\t\t<Modal\n\t\t\tisDismissible={true}\n\t\t\tonClose={handleClose}\n\t\t\tdisableAnimation\n\t\t\tsize=\"sm\"\n\t\t\toverlayProps={MODAL_OVERLAY_PROPS}\n\t\t>\n\t\t\t<div className=\"grid flex-col gap-6 p-7\">\n\t\t\t\t<Text className=\"text-xl\" fontWeight=\"bold\" color=\"text100\">\n\t\t\t\t\tSwitching network failed\n\t\t\t\t</Text>\n\n\t\t\t\t<AlertMessage\n\t\t\t\t\ttype=\"warning\"\n\t\t\t\t\tmessage={`There was an error switching to ${chainName}. Please try changing the network in your wallet manually.`}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default SwitchChainErrorModal;\n"],"mappings":";;;;;;;;;;AAEA,MAAM,cAAc;AACpB,MAAM,oBAAoB;AAE1B,MAAM,sBAAsB,EAC3B,OAAO,EACN,YAAY,yBACZ,EACD;AAED,MAAM,uBAAuB,oBAAsC;AAClE,KAAI,oBAAoB,gBAAgB,SACvC,QAAO;EACN,OAAO,EACN,QAAQ,QACR;EACD,WAAW,MAAM,kBAAkB,UAAU,YAAY;EACzD;AAGF,QAAO,EACN,OAAO;EACN,OAAO;EACP,QAAQ;EACR,EACD;;;;;AChBF,MAAMA,iBAA6C;CAClD,QAAQ;CACR,mBAAmB;CACnB,aAAa;CACb;AAED,MAAa,6BAA6B,YAAY;CACrD,SAAS;CACT,IAAI;EACH,OAAO,SAAS,WAAqC;GACpD,GAAG;GACH,QAAQ;GACR,mBAAmB,MAAM;GACzB;EACD,QAAQ,aAAa;GACpB,GAAG;GACH,QAAQ;GACR,mBAAmB;GACnB,aAAa;GACb;EACD;CACD,CAAC;AAGF,MAAa,kBACZ,YAAY,6BAA6B,UAAU,MAAM,QAAQ,OAAO;AAEzE,MAAa,6BACZ,YACC,6BACC,UAAU,MAAM,QAAQ,kBACzB;;;;ACxBF,MAAa,iCAAiC;AAC7C,QAAO;EACN,OAAO,SACN,2BAA2B,KAAK;GAAE,MAAM;GAAQ,GAAG;GAAM,CAAC;EAC3D,aAAa,2BAA2B,KAAK,EAAE,MAAM,SAAS,CAAC;EAC/D;;AAGF,MAAM,8BAA8B;CACnC,MAAM,EAAE,SAAS,mBAAmB,YAAY;CAChD,MAAM,SAAS,WAAW;CAC1B,MAAM,oBAAoB,sBAAsB;CAEhD,MAAM,YAAY,oBACf,wBAAwB,kBAAkB,GAC1C;CAEH,MAAM,oBAAoB;AACzB,6BAA2B,KAAK,EAAE,MAAM,SAAS,CAAC;;AAGnD,KAAI,CAAC,UAAU,CAAC,qBAAqB,mBAAmB,kBACvD,QAAO;AAER,QACC,oBAAC;EACA,eAAe;EACf,SAAS;EACT;EACA,MAAK;EACL,cAAc;YAEd,qBAAC;GAAI,WAAU;cACd,oBAAC;IAAK,WAAU;IAAU,YAAW;IAAO,OAAM;cAAU;KAErD,EAEP,oBAAC;IACA,MAAK;IACL,SAAS,mCAAmC,UAAU;KACrD;IACG;GACC;;AAIV,oCAAe"}