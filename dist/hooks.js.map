{"version":3,"file":"hooks.js","names":[],"sources":["../src/react/ui/modals/MakeOfferModal/internal/hooks/use-erc20-allowance.ts"],"sourcesContent":["import type { Address } from 'viem';\nimport { useAccount, useReadContract } from 'wagmi';\nimport { ERC20_ABI } from '../../../../../../utils/abi';\n\nexport interface UseERC20AllowanceArgs {\n\ttokenAddress: Address | undefined;\n\tspenderAddress: Address | undefined;\n\tchainId: number;\n\tenabled?: boolean;\n}\n\nexport function useERC20Allowance({\n\ttokenAddress,\n\tspenderAddress,\n\tchainId,\n\tenabled = true,\n}: UseERC20AllowanceArgs) {\n\tconst { address: ownerAddress } = useAccount();\n\n\tconst isEnabled =\n\t\tenabled &&\n\t\t!!tokenAddress &&\n\t\t!!ownerAddress &&\n\t\t!!spenderAddress &&\n\t\tchainId > 0;\n\n\tconst { data: allowance, ...rest } = useReadContract({\n\t\taddress: tokenAddress,\n\t\tabi: ERC20_ABI,\n\t\tfunctionName: 'allowance',\n\t\targs: [ownerAddress!, spenderAddress!],\n\t\tchainId,\n\t\tquery: {\n\t\t\tenabled: isEnabled,\n\t\t},\n\t});\n\n\treturn {\n\t\tallowance: allowance as bigint | undefined,\n\t\t...rest,\n\t};\n}\n"],"mappings":";;;;AAWA,SAAgB,kBAAkB,EACjC,cACA,gBACA,SACA,UAAU,QACe;CACzB,MAAM,EAAE,SAAS,iBAAiB,YAAY;CAS9C,MAAM,EAAE,MAAM,WAAW,GAAG,SAAS,gBAAgB;EACpD,SAAS;EACT,KAAK;EACL,cAAc;EACd,MAAM,CAAC,cAAe,eAAgB;EACtC;EACA,OAAO,EACN,SAbD,WACA,CAAC,CAAC,gBACF,CAAC,CAAC,gBACF,CAAC,CAAC,kBACF,UAAU,GAUT;EACD,CAAC;AAEF,QAAO;EACK;EACX,GAAG;EACH"}