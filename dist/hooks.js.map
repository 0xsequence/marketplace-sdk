{"version":3,"file":"hooks.js","names":[],"sources":["../src/react/ui/modals/CreateListingModal/internal/hooks/use-collectible-approval.ts"],"sourcesContent":["import type { Address } from '@0xsequence/api-client';\nimport { ContractType } from '@0xsequence/api-client';\nimport { zeroAddress } from 'viem';\nimport { useAccount, useReadContract } from 'wagmi';\nimport { ERC721_ABI, ERC1155_ABI } from '../../../../../../utils/abi';\n\nexport type UseCollectibleApprovalArgs = {\n\tcollectionAddress: Address | undefined;\n\tspenderAddress: Address | undefined;\n\tchainId: number;\n\tcontractType: ContractType | undefined;\n\tenabled?: boolean;\n};\n\nexport function useCollectibleApproval({\n\tcollectionAddress,\n\tspenderAddress,\n\tchainId,\n\tcontractType,\n\tenabled = true,\n}: UseCollectibleApprovalArgs) {\n\tconst { address: ownerAddress } = useAccount();\n\n\tconst isEnabled =\n\t\tenabled &&\n\t\t!!collectionAddress &&\n\t\t!!ownerAddress &&\n\t\t!!spenderAddress &&\n\t\t!!contractType &&\n\t\tchainId > 0;\n\n\tconst abi = contractType === ContractType.ERC721 ? ERC721_ABI : ERC1155_ABI;\n\n\tconst { data: isApproved, ...rest } = useReadContract({\n\t\taddress: collectionAddress,\n\t\tabi,\n\t\tfunctionName: 'isApprovedForAll',\n\t\targs: [ownerAddress ?? zeroAddress, spenderAddress ?? zeroAddress],\n\t\tchainId,\n\t\tquery: {\n\t\t\tenabled: isEnabled,\n\t\t},\n\t});\n\n\treturn {\n\t\tisApproved,\n\t\t...rest,\n\t};\n}\n"],"mappings":";;;;;;AAcA,SAAgB,uBAAuB,EACtC,mBACA,gBACA,SACA,cACA,UAAU,QACoB;CAC9B,MAAM,EAAE,SAAS,iBAAiB,YAAY;CAE9C,MAAM,YACL,WACA,CAAC,CAAC,qBACF,CAAC,CAAC,gBACF,CAAC,CAAC,kBACF,CAAC,CAAC,gBACF,UAAU;CAIX,MAAM,EAAE,MAAM,YAAY,GAAG,SAAS,gBAAgB;EACrD,SAAS;EACT,KAJW,iBAAiB,aAAa,SAAS,aAAa;EAK/D,cAAc;EACd,MAAM,CAAC,gBAAgB,aAAa,kBAAkB,YAAY;EAClE;EACA,OAAO,EACN,SAAS,WACT;EACD,CAAC;AAEF,QAAO;EACN;EACA,GAAG;EACH"}