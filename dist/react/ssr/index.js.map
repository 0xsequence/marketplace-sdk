{"version":3,"file":"index.js","names":["config: SdkConfig","args: InitSSRClientArgs"],"sources":["../../../src/react/ssr/create-ssr-client.ts"],"sourcesContent":["import { cookieToInitialState, type State } from 'wagmi';\nimport type { SdkConfig } from '../../types/sdk-config';\nimport { getQueryClient } from '../_internal/api/get-query-client';\nimport { createWagmiConfig } from '../_internal/wagmi/create-config';\nimport { marketplaceConfigOptions } from '../queries/marketplaceConfig';\n\ntype InitSSRClientArgs = {\n\tcookie: string;\n\tconfig: SdkConfig;\n};\n\ntype InitialState = { wagmi?: State };\n\nconst marketplaceConfig = async (config: SdkConfig) => {\n\tconst configOptions = marketplaceConfigOptions(config);\n\treturn getQueryClient().fetchQuery(configOptions);\n};\n\nconst initialState = async (args: InitSSRClientArgs): Promise<InitialState> => {\n\tconst marketConfig = await marketplaceConfig(args.config);\n\tconst wagmiConfig = createWagmiConfig(marketConfig, args.config, true);\n\treturn { wagmi: cookieToInitialState(wagmiConfig, args.cookie) };\n};\n\nexport const createSSRClient = (args: InitSSRClientArgs) => {\n\tconst getMarketplaceConfig = async () => marketplaceConfig(args.config);\n\tconst getInitialState = async () => initialState(args);\n\tconst config = args.config;\n\treturn { getInitialState, getMarketplaceConfig, config };\n};\n"],"mappings":";;;;;;;;;;;;;;AAaA,MAAM,oBAAoB,OAAOA,WAAsB;CACtD,MAAM,gBAAgB,yBAAyB,OAAO;AACtD,QAAO,gBAAgB,CAAC,WAAW,cAAc;AACjD;AAED,MAAM,eAAe,OAAOC,SAAmD;CAC9E,MAAM,eAAe,MAAM,kBAAkB,KAAK,OAAO;CACzD,MAAM,cAAc,kBAAkB,cAAc,KAAK,QAAQ,KAAK;AACtE,QAAO,EAAE,OAAO,qBAAqB,aAAa,KAAK,OAAO,CAAE;AAChE;AAED,MAAa,kBAAkB,CAACA,SAA4B;CAC3D,MAAM,uBAAuB,YAAY,kBAAkB,KAAK,OAAO;CACvE,MAAM,kBAAkB,YAAY,aAAa,KAAK;CACtD,MAAM,SAAS,KAAK;AACpB,QAAO;EAAE;EAAiB;EAAsB;CAAQ;AACxD"}