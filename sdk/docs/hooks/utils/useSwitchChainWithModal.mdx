---
title: "useSwitchChainWithModal"
description: "Provides chain switching with modal UI for non-WaaS wallets This hook offers a lower-level chain switching function that explicitly requires both current and target chain IDs. It shows a modal for standard wallets while WaaS wallets switch automatically."
sidebarTitle: "useSwitchChainWithModal"
category: "Utilities"
---

## Returns

returns.switchChainWithModal - Function to switch chains with modal

## Example

Basic usage:
```typescript
const { switchChainWithModal } = useSwitchChainWithModal();
const { chainId } = useAccount();
const handleChainSwitch = async (targetChainId: number) => {
try {
await switchChainWithModal(chainId, targetChainId);
console.log('Successfully switched to chain', targetChainId);
} catch (error) {
if (error instanceof ChainSwitchUserRejectedError) {
console.log('User cancelled chain switch');
} else {
console.error('Chain switch failed:', error);
}
}
};
```

In a chain selector component:
```typescript
const { switchChainWithModal } = useSwitchChainWithModal();
const { chainId: currentChainId } = useAccount();
const ChainSelector = () => {
const supportedChains = [1, 137, 42161]; // Ethereum, Polygon, Arbitrum
return (
<select
value={currentChainId}
onChange={async (e) => {
const newChainId = Number(e.target.value);
try {
await switchChainWithModal(currentChainId, newChainId);
} catch (error) {
// Revert select on error
e.target.value = String(currentChainId);
}
}}
>
{supportedChains.map(id => (
<option key={id} value={id}>Chain {id}</option>
))}
</select>
);
};
```

With loading state:
```typescript
const { switchChainWithModal } = useSwitchChainWithModal();
const [isSwitching, setIsSwitching] = useState(false);
const switchToPolygon = async () => {
setIsSwitching(true);
try {
await switchChainWithModal(currentChainId, 137);
toast.success('Switched to Polygon');
} catch (error) {
toast.error('Failed to switch chains');
} finally {
setIsSwitching(false);
}
};
```

## Basic Usage

```typescript
import { useSwitchChainWithModal } from '@0xsequence/marketplace-sdk/react/hooks';

const result = useSwitchChainWithModal({
  // Add your parameters here
});
```

