---
title: "useEnsureCorrectChain"
description: "Ensures the wallet is connected to the correct blockchain network This hook provides functions to check and switch chains with appropriate UX for different wallet types. For WaaS wallets, it switches directly. For other wallets, it shows a modal explaining the chain switch."
sidebarTitle: "useEnsureCorrectChain"
category: "Utilities"
---

## Returns

returns.currentChainId - The currently connected chain ID

## Example

With callbacks:
```typescript
const { ensureCorrectChain } = useEnsureCorrectChain();
const handleAction = () => {
ensureCorrectChain(137, {
onSuccess: () => {
console.log('Switched to Polygon');
proceedWithAction();
},
onError: (error) => {
console.error('Chain switch failed:', error);
},
onClose: () => {
console.log('User closed modal without switching');
}
});
};
```

With async/await:
```typescript
const { ensureCorrectChainAsync, currentChainId } = useEnsureCorrectChain();
const executeTrade = async () => {
try {
// Check if already on correct chain
if (currentChainId !== requiredChainId) {
await ensureCorrectChainAsync(requiredChainId);
}
// Now safe to execute on the correct chain
await performTrade();
} catch (error) {
if (error instanceof ChainSwitchUserRejectedError) {
showToast('Please switch chains to continue');
}
}
};
```

In transaction flows:
```typescript
const { ensureCorrectChainAsync } = useEnsureCorrectChain();
const { buyToken } = useBuyToken({
onBeforeTransaction: async ({ chainId }) => {
// Ensure correct chain before transaction
await ensureCorrectChainAsync(chainId);
}
});
```

