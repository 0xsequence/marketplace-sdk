---
title: "useFilterState"
description: "Manages marketplace filter state with URL synchronization This hook provides a comprehensive filtering system for marketplace views, including property filters, search text, and listed-only toggles. All state is automatically synchronized with URL query parameters for shareable links."
sidebarTitle: "useFilterState"
category: "UI"
---

## Returns

returns.serialize - Serialize current state to URL string

## Example

Basic filter management:
```typescript
const {
filterOptions,
searchText,
showListedOnly,
toggleStringFilterValue,
setSearchText
} = useFilterState();
// Toggle a trait filter
const handleTraitClick = (trait: string, value: string) => {
toggleStringFilterValue(trait, value);
};
// Apply filters to query
const { data } = useListCollectibles({
filter: {
properties: filterOptions,
searchText,
includeEmpty: !showListedOnly
}
});
```

With filter UI components:
```typescript
const {
isStringValueSelected,
setIntFilterValue,
getIntFilterRange,
clearAllFilters
} = useFilterState();
// Trait checkbox
<Checkbox
checked={isStringValueSelected('Rarity', 'Legendary')}
onChange={() => toggleStringFilterValue('Rarity', 'Legendary')}
/>
// Price range slider
const [min, max] = getIntFilterRange('Price') ?? [0, 100];
<RangeSlider
value={[min, max]}
onChange={([newMin, newMax]) =>
setIntFilterValue('Price', newMin, newMax)
}
/>
// Clear all button
<Button onClick={clearAllFilters}>Clear Filters</Button>
```

Sharing filter state via URL:
```typescript
const { serialize, filterOptions } = useFilterState();
// Get shareable URL
const shareUrl = `${window.location.origin}${window.location.pathname}?${serialize({
filters: filterOptions,
search: 'rare sword',
listedOnly: true
})}`;
// URL will be like: /marketplace?f=[...]&q=rare+sword&l=true
```

